var qn=Object.defineProperty;var uu=(r,e,t)=>e in r?qn(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t;var o=(r,e)=>qn(r,"name",{value:e,configurable:!0});var lu=(r,e)=>{for(var t in e)qn(r,t,{get:e[t],enumerable:!0})};var h=(r,e,t)=>(uu(r,typeof e!="symbol"?e+"":e,t),t);function cu(r,e){let t=new Request(r,e);return t.headers.delete("CF-Connecting-IP"),t}o(cu,"stripCfConnectingIPHeader");globalThis.fetch=new Proxy(globalThis.fetch,{apply(r,e,t){return Reflect.apply(r,e,[cu.apply(null,t)])}});function L(r){return new Error(`[unenv] ${r} is not implemented yet!`)}o(L,"createNotImplementedError");function Ue(r){return Object.assign(o(()=>{throw L(r)},"fn"),{__unenv__:!0})}o(Ue,"notImplemented");function $i(r){return class{__unenv__=!0;constructor(){throw new Error(`[unenv] ${r} is not implemented yet!`)}}}o($i,"notImplementedClass");var Fn=globalThis.performance?.timeOrigin??Date.now(),jn=globalThis.performance?.now?globalThis.performance.now.bind(globalThis.performance):()=>Date.now()-Fn,du={name:"node",entryType:"node",startTime:0,duration:0,nodeStart:0,v8Start:0,bootstrapComplete:0,environment:0,loopStart:0,loopExit:0,idleTime:0,uvMetricsInfo:{loopCount:0,events:0,eventsWaiting:0},detail:void 0,toJSON(){return this}},st=class{__unenv__=!0;detail;entryType="event";name;startTime;constructor(e,t){this.name=e,this.startTime=t?.startTime||jn(),this.detail=t?.detail}get duration(){return jn()-this.startTime}toJSON(){return{name:this.name,entryType:this.entryType,startTime:this.startTime,duration:this.duration,detail:this.detail}}};o(st,"PerformanceEntry");var In=o(class extends st{entryType="mark";constructor(){super(...arguments)}get duration(){return 0}},"PerformanceMark"),ur=class extends st{entryType="measure"};o(ur,"PerformanceMeasure");var lr=class extends st{entryType="resource";serverTiming=[];connectEnd=0;connectStart=0;decodedBodySize=0;domainLookupEnd=0;domainLookupStart=0;encodedBodySize=0;fetchStart=0;initiatorType="";name="";nextHopProtocol="";redirectEnd=0;redirectStart=0;requestStart=0;responseEnd=0;responseStart=0;secureConnectionStart=0;startTime=0;transferSize=0;workerStart=0;responseStatus=0};o(lr,"PerformanceResourceTiming");var Qr=class{__unenv__=!0;getEntries(){return[]}getEntriesByName(e,t){return[]}getEntriesByType(e){return[]}};o(Qr,"PerformanceObserverEntryList");var cr=class{__unenv__=!0;timeOrigin=Fn;eventCounts=new Map;_entries=[];_resourceTimingBufferSize=0;navigation=void 0;timing=void 0;timerify(e,t){throw L("Performance.timerify")}get nodeTiming(){return du}eventLoopUtilization(){return{}}markResourceTiming(){return new lr("")}onresourcetimingbufferfull=null;now(){return this.timeOrigin===Fn?jn():Date.now()-this.timeOrigin}clearMarks(e){this._entries=e?this._entries.filter(t=>t.name!==e):this._entries.filter(t=>t.entryType!=="mark")}clearMeasures(e){this._entries=e?this._entries.filter(t=>t.name!==e):this._entries.filter(t=>t.entryType!=="measure")}clearResourceTimings(){this._entries=this._entries.filter(e=>e.entryType!=="resource"||e.entryType!=="navigation")}getEntries(){return this._entries}getEntriesByName(e,t){return this._entries.filter(s=>s.name===e&&(!t||s.entryType===t))}getEntriesByType(e){return this._entries.filter(t=>t.entryType===e)}mark(e,t){let s=new In(e,t);return this._entries.push(s),s}measure(e,t,s){let n,i;typeof t=="string"?(n=this.getEntriesByName(t,"mark")[0]?.startTime,i=this.getEntriesByName(s,"mark")[0]?.startTime):(n=Number.parseFloat(t?.start)||this.now(),i=Number.parseFloat(t?.end)||this.now());let a=new ur(e,{startTime:n,detail:{start:n,end:i}});return this._entries.push(a),a}setResourceTimingBufferSize(e){this._resourceTimingBufferSize=e}addEventListener(e,t,s){throw L("Performance.addEventListener")}removeEventListener(e,t,s){throw L("Performance.removeEventListener")}dispatchEvent(e){throw L("Performance.dispatchEvent")}toJSON(){return this}};o(cr,"Performance");var or=class{__unenv__=!0;_callback=null;constructor(e){this._callback=e}takeRecords(){return[]}disconnect(){throw L("PerformanceObserver.disconnect")}observe(e){throw L("PerformanceObserver.observe")}bind(e){return e}runInAsyncScope(e,t,...s){return e.call(t,...s)}asyncId(){return 0}triggerAsyncId(){return 0}emitDestroy(){return this}};o(or,"PerformanceObserver"),h(or,"supportedEntryTypes",[]);var Mi=globalThis.performance&&"addEventListener"in globalThis.performance?globalThis.performance:new cr;globalThis.performance=Mi;globalThis.Performance=cr;globalThis.PerformanceEntry=st;globalThis.PerformanceMark=In;globalThis.PerformanceMeasure=ur;globalThis.PerformanceObserver=or;globalThis.PerformanceObserverEntryList=Qr;globalThis.PerformanceResourceTiming=lr;import{Writable as Li}from"node:stream";var re=Object.assign(()=>{},{__unenv__:!0});var Q=globalThis.console,Pi=!0,zi=new Li,Ki=new Li,zs=Q?.log??re,fu=Q?.info??zs,Xp=Q?.trace??fu,Zp=Q?.debug??zs,em=Q?.table??zs,hu=Q?.error??zs,tm=Q?.warn??hu,rm=Q?.createTask??Ue("console.createTask");var sm=Q?.clear??re,nm=Q?.count??re,im=Q?.countReset??re,am=Q?.dir??re,om=Q?.dirxml??re,um=Q?.group??re,lm=Q?.groupEnd??re,cm=Q?.groupCollapsed??re,dm=Q?.profile??re,fm=Q?.profileEnd??re,hm=Q?.time??re,pm=Q?.timeEnd??re,mm=Q?.timeLog??re,gm=Q?.timeStamp??re,Ui=Q?.Console??$i("console.Console"),Vi=new Map;var Hi=re,Qi=re;var $n=globalThis.console,{assert:_m,clear:Em,context:Cm,count:Sm,countReset:Tm,createTask:Nm,debug:km,dir:Rm,dirxml:Om,error:Bm,group:qm,groupCollapsed:Fm,groupEnd:jm,info:Im,log:$m,profile:Mm,profileEnd:Lm,table:Pm,time:zm,timeEnd:Km,timeLog:Um,timeStamp:Vm,trace:Hm,warn:Qm}=$n;Object.assign($n,{Console:Ui,_ignoreErrors:Pi,_stderr:zi,_stderrErrorHandler:Qi,_stdout:Ki,_stdoutErrorHandler:Hi,_times:Vi});var Gi=$n;globalThis.console=Gi;var Wi=Object.assign(o(function(e){let t=Date.now(),s=Math.trunc(t/1e3),n=t%1e3*1e6;if(e){let i=s-e[0],a=n-e[0];return a<0&&(i=i-1,a=1e9+a),[i,a]}return[s,n]},"hrtime"),{bigint:o(function(){return BigInt(Date.now()*1e6)},"bigint")});import{EventEmitter as Ji}from"node:events";import{Socket as pu}from"node:net";var dr=class extends pu{fd;constructor(e){super(),this.fd=e}isRaw=!1;setRawMode(e){return this.isRaw=e,this}isTTY=!1};o(dr,"ReadStream");import{Socket as mu}from"node:net";var Et=class extends mu{fd;constructor(e){super(),this.fd=e}clearLine(e,t){return t&&t(),!1}clearScreenDown(e){return e&&e(),!1}cursorTo(e,t,s){return s&&typeof s=="function"&&s(),!1}moveCursor(e,t,s){return s&&s(),!1}getColorDepth(e){return 1}hasColors(e,t){return!1}getWindowSize(){return[this.columns,this.rows]}columns=80;rows=24;isTTY=!1};o(Et,"WriteStream");var Ct=class extends Ji{env;hrtime;nextTick;constructor(e){super(),this.env=e.env,this.hrtime=e.hrtime,this.nextTick=e.nextTick;for(let t of[...Object.getOwnPropertyNames(Ct.prototype),...Object.getOwnPropertyNames(Ji.prototype)]){let s=this[t];typeof s=="function"&&(this[t]=s.bind(this))}}emitWarning(e,t,s){console.warn(`${s?`[${s}] `:""}${t?`${t}: `:""}${e}`)}emit(...e){return super.emit(...e)}listeners(e){return super.listeners(e)}#e;#t;#r;get stdin(){return this.#e??=new dr(0)}get stdout(){return this.#t??=new Et(1)}get stderr(){return this.#r??=new Et(2)}#i="/";chdir(e){this.#i=e}cwd(){return this.#i}arch="";platform="";argv=[];argv0="";execArgv=[];execPath="";title="";pid=200;ppid=100;get version(){return""}get versions(){return{}}get allowedNodeEnvironmentFlags(){return new Set}get sourceMapsEnabled(){return!1}get debugPort(){return 0}get throwDeprecation(){return!1}get traceDeprecation(){return!1}get features(){return{}}get release(){return{}}get connected(){return!1}get config(){return{}}get moduleLoadList(){return[]}constrainedMemory(){return 0}availableMemory(){return 0}uptime(){return 0}resourceUsage(){return{}}ref(){}unref(){}umask(){throw L("process.umask")}getBuiltinModule(){}getActiveResourcesInfo(){throw L("process.getActiveResourcesInfo")}exit(){throw L("process.exit")}reallyExit(){throw L("process.reallyExit")}kill(){throw L("process.kill")}abort(){throw L("process.abort")}dlopen(){throw L("process.dlopen")}setSourceMapsEnabled(){throw L("process.setSourceMapsEnabled")}loadEnvFile(){throw L("process.loadEnvFile")}disconnect(){throw L("process.disconnect")}cpuUsage(){throw L("process.cpuUsage")}setUncaughtExceptionCaptureCallback(){throw L("process.setUncaughtExceptionCaptureCallback")}hasUncaughtExceptionCaptureCallback(){throw L("process.hasUncaughtExceptionCaptureCallback")}initgroups(){throw L("process.initgroups")}openStdin(){throw L("process.openStdin")}assert(){throw L("process.assert")}binding(){throw L("process.binding")}permission={has:Ue("process.permission.has")};report={directory:"",filename:"",signal:"SIGUSR2",compact:!1,reportOnFatalError:!1,reportOnSignal:!1,reportOnUncaughtException:!1,getReport:Ue("process.report.getReport"),writeReport:Ue("process.report.writeReport")};finalization={register:Ue("process.finalization.register"),unregister:Ue("process.finalization.unregister"),registerBeforeExit:Ue("process.finalization.registerBeforeExit")};memoryUsage=Object.assign(()=>({arrayBuffers:0,rss:0,external:0,heapTotal:0,heapUsed:0}),{rss:()=>0});mainModule=void 0;domain=void 0;send=void 0;exitCode=void 0;channel=void 0;getegid=void 0;geteuid=void 0;getgid=void 0;getgroups=void 0;getuid=void 0;setegid=void 0;seteuid=void 0;setgid=void 0;setgroups=void 0;setuid=void 0;_events=void 0;_eventsCount=void 0;_exiting=void 0;_maxListeners=void 0;_debugEnd=void 0;_debugProcess=void 0;_fatalException=void 0;_getActiveHandles=void 0;_getActiveRequests=void 0;_kill=void 0;_preload_modules=void 0;_rawDebug=void 0;_startProfilerIdleNotifier=void 0;_stopProfilerIdleNotifier=void 0;_tickCallback=void 0;_disconnect=void 0;_handleQueue=void 0;_pendingMessage=void 0;_channel=void 0;_send=void 0;_linkedBinding=void 0};o(Ct,"Process");var Yi=globalThis.process,Xi=Yi.getBuiltinModule,{exit:gu,platform:yu,nextTick:Zi}=Xi("node:process"),bu=new Ct({env:Yi.env,hrtime:Wi,nextTick:Zi}),{abort:xu,addListener:vu,allowedNodeEnvironmentFlags:wu,hasUncaughtExceptionCaptureCallback:Au,setUncaughtExceptionCaptureCallback:Du,loadEnvFile:_u,sourceMapsEnabled:Eu,arch:Cu,argv:Su,argv0:Tu,chdir:Nu,config:ku,connected:Ru,constrainedMemory:Ou,availableMemory:Bu,cpuUsage:qu,cwd:Fu,debugPort:ju,dlopen:Iu,disconnect:$u,emit:Mu,emitWarning:Lu,env:Pu,eventNames:zu,execArgv:Ku,execPath:Uu,finalization:Vu,features:Hu,getActiveResourcesInfo:Qu,getMaxListeners:Gu,hrtime:Wu,kill:Ju,listeners:Yu,listenerCount:Xu,memoryUsage:Zu,on:el,off:tl,once:rl,pid:sl,ppid:nl,prependListener:il,prependOnceListener:al,rawListeners:ol,release:ul,removeAllListeners:ll,removeListener:cl,report:dl,resourceUsage:fl,setMaxListeners:hl,setSourceMapsEnabled:pl,stderr:ml,stdin:gl,stdout:yl,title:bl,throwDeprecation:xl,traceDeprecation:vl,umask:wl,uptime:Al,version:Dl,versions:_l,domain:El,initgroups:Cl,moduleLoadList:Sl,reallyExit:Tl,openStdin:Nl,assert:kl,binding:Rl,send:Ol,exitCode:Bl,channel:ql,getegid:Fl,geteuid:jl,getgid:Il,getgroups:$l,getuid:Ml,setegid:Ll,seteuid:Pl,setgid:zl,setgroups:Kl,setuid:Ul,permission:Vl,mainModule:Hl,_events:Ql,_eventsCount:Gl,_exiting:Wl,_maxListeners:Jl,_debugEnd:Yl,_debugProcess:Xl,_fatalException:Zl,_getActiveHandles:ec,_getActiveRequests:tc,_kill:rc,_preload_modules:sc,_rawDebug:nc,_startProfilerIdleNotifier:ic,_stopProfilerIdleNotifier:ac,_tickCallback:oc,_disconnect:uc,_handleQueue:lc,_pendingMessage:cc,_channel:dc,_send:fc,_linkedBinding:hc}=bu,pc={abort:xu,addListener:vu,allowedNodeEnvironmentFlags:wu,hasUncaughtExceptionCaptureCallback:Au,setUncaughtExceptionCaptureCallback:Du,loadEnvFile:_u,sourceMapsEnabled:Eu,arch:Cu,argv:Su,argv0:Tu,chdir:Nu,config:ku,connected:Ru,constrainedMemory:Ou,availableMemory:Bu,cpuUsage:qu,cwd:Fu,debugPort:ju,dlopen:Iu,disconnect:$u,emit:Mu,emitWarning:Lu,env:Pu,eventNames:zu,execArgv:Ku,execPath:Uu,exit:gu,finalization:Vu,features:Hu,getBuiltinModule:Xi,getActiveResourcesInfo:Qu,getMaxListeners:Gu,hrtime:Wu,kill:Ju,listeners:Yu,listenerCount:Xu,memoryUsage:Zu,nextTick:Zi,on:el,off:tl,once:rl,pid:sl,platform:yu,ppid:nl,prependListener:il,prependOnceListener:al,rawListeners:ol,release:ul,removeAllListeners:ll,removeListener:cl,report:dl,resourceUsage:fl,setMaxListeners:hl,setSourceMapsEnabled:pl,stderr:ml,stdin:gl,stdout:yl,title:bl,throwDeprecation:xl,traceDeprecation:vl,umask:wl,uptime:Al,version:Dl,versions:_l,domain:El,initgroups:Cl,moduleLoadList:Sl,reallyExit:Tl,openStdin:Nl,assert:kl,binding:Rl,send:Ol,exitCode:Bl,channel:ql,getegid:Fl,geteuid:jl,getgid:Il,getgroups:$l,getuid:Ml,setegid:Ll,seteuid:Pl,setgid:zl,setgroups:Kl,setuid:Ul,permission:Vl,mainModule:Hl,_events:Ql,_eventsCount:Gl,_exiting:Wl,_maxListeners:Jl,_debugEnd:Yl,_debugProcess:Xl,_fatalException:Zl,_getActiveHandles:ec,_getActiveRequests:tc,_kill:rc,_preload_modules:sc,_rawDebug:nc,_startProfilerIdleNotifier:ic,_stopProfilerIdleNotifier:ac,_tickCallback:oc,_disconnect:uc,_handleQueue:lc,_pendingMessage:cc,_channel:dc,_send:fc,_linkedBinding:hc},ea=pc;globalThis.process=ea;var Mn=o((r,e,t)=>(s,n)=>{let i=-1;return a(0);async function a(u){if(u<=i)throw new Error("next() called multiple times");i=u;let l,c=!1,d;if(r[u]?(d=r[u][0][0],s.req.routeIndex=u):d=u===r.length&&n||void 0,d)try{l=await d(s,()=>a(u+1))}catch(m){if(m instanceof Error&&e)s.error=m,l=await e(m,s),c=!0;else throw m}else s.finalized===!1&&t&&(l=await t(s));return l&&(s.finalized===!1||c)&&(s.res=l),s}},"compose");var ta=Symbol();var ra=o(async(r,e=Object.create(null))=>{let{all:t=!1,dot:s=!1}=e,i=(r instanceof Ks?r.raw.headers:r.headers).get("Content-Type");return i?.startsWith("multipart/form-data")||i?.startsWith("application/x-www-form-urlencoded")?mc(r,{all:t,dot:s}):{}},"parseBody");async function mc(r,e){let t=await r.formData();return t?gc(t,e):{}}o(mc,"parseFormData");function gc(r,e){let t=Object.create(null);return r.forEach((s,n)=>{e.all||n.endsWith("[]")?yc(t,n,s):t[n]=s}),e.dot&&Object.entries(t).forEach(([s,n])=>{s.includes(".")&&(bc(t,s,n),delete t[s])}),t}o(gc,"convertFormDataToBodyData");var yc=o((r,e,t)=>{r[e]!==void 0?Array.isArray(r[e])?r[e].push(t):r[e]=[r[e],t]:e.endsWith("[]")?r[e]=[t]:r[e]=t},"handleParsingAllValues"),bc=o((r,e,t)=>{let s=r,n=e.split(".");n.forEach((i,a)=>{a===n.length-1?s[i]=t:((!s[i]||typeof s[i]!="object"||Array.isArray(s[i])||s[i]instanceof File)&&(s[i]=Object.create(null)),s=s[i])})},"handleParsingNestedValues");var Pn=o(r=>{let e=r.split("/");return e[0]===""&&e.shift(),e},"splitPath"),sa=o(r=>{let{groups:e,path:t}=xc(r),s=Pn(t);return vc(s,e)},"splitRoutingPath"),xc=o(r=>{let e=[];return r=r.replace(/\{[^}]+\}/g,(t,s)=>{let n=`@${s}`;return e.push([n,t]),n}),{groups:e,path:r}},"extractGroupsFromPath"),vc=o((r,e)=>{for(let t=e.length-1;t>=0;t--){let[s]=e[t];for(let n=r.length-1;n>=0;n--)if(r[n].includes(s)){r[n]=r[n].replace(s,e[t][1]);break}}return r},"replaceGroupMarks"),Us={},na=o((r,e)=>{if(r==="*")return"*";let t=r.match(/^\:([^\{\}]+)(?:\{(.+)\})?$/);if(t){let s=`${r}#${e}`;return Us[s]||(t[2]?Us[s]=e&&e[0]!==":"&&e[0]!=="*"?[s,t[1],new RegExp(`^${t[2]}(?=/${e})`)]:[r,t[1],new RegExp(`^${t[2]}$`)]:Us[s]=[r,t[1],!0]),Us[s]}return null},"getPattern"),Vs=o((r,e)=>{try{return e(r)}catch{return r.replace(/(?:%[0-9A-Fa-f]{2})+/g,t=>{try{return e(t)}catch{return t}})}},"tryDecode"),wc=o(r=>Vs(r,decodeURI),"tryDecodeURI"),zn=o(r=>{let e=r.url,t=e.indexOf("/",e.indexOf(":")+4),s=t;for(;s<e.length;s++){let n=e.charCodeAt(s);if(n===37){let i=e.indexOf("?",s),a=e.slice(t,i===-1?void 0:i);return wc(a.includes("%25")?a.replace(/%25/g,"%2525"):a)}else if(n===63)break}return e.slice(t,s)},"getPath");var ia=o(r=>{let e=zn(r);return e.length>1&&e.at(-1)==="/"?e.slice(0,-1):e},"getPathNoStrict"),St=o((r,e,...t)=>(t.length&&(e=St(e,...t)),`${r?.[0]==="/"?"":"/"}${r}${e==="/"?"":`${r?.at(-1)==="/"?"":"/"}${e?.[0]==="/"?e.slice(1):e}`}`),"mergePath"),Hs=o(r=>{if(r.charCodeAt(r.length-1)!==63||!r.includes(":"))return null;let e=r.split("/"),t=[],s="";return e.forEach(n=>{if(n!==""&&!/\:/.test(n))s+="/"+n;else if(/\:/.test(n))if(/\?/.test(n)){t.length===0&&s===""?t.push("/"):t.push(s);let i=n.replace("?","");s+="/"+i,t.push(s)}else s+="/"+n}),t.filter((n,i,a)=>a.indexOf(n)===i)},"checkOptionalParameter"),Ln=o(r=>/[%+]/.test(r)?(r.indexOf("+")!==-1&&(r=r.replace(/\+/g," ")),r.indexOf("%")!==-1?Vs(r,Kn):r):r,"_decodeURI"),aa=o((r,e,t)=>{let s;if(!t&&e&&!/[%+]/.test(e)){let a=r.indexOf(`?${e}`,8);for(a===-1&&(a=r.indexOf(`&${e}`,8));a!==-1;){let u=r.charCodeAt(a+e.length+1);if(u===61){let l=a+e.length+2,c=r.indexOf("&",l);return Ln(r.slice(l,c===-1?void 0:c))}else if(u==38||isNaN(u))return"";a=r.indexOf(`&${e}`,a+1)}if(s=/[%+]/.test(r),!s)return}let n={};s??=/[%+]/.test(r);let i=r.indexOf("?",8);for(;i!==-1;){let a=r.indexOf("&",i+1),u=r.indexOf("=",i);u>a&&a!==-1&&(u=-1);let l=r.slice(i+1,u===-1?a===-1?void 0:a:u);if(s&&(l=Ln(l)),i=a,l==="")continue;let c;u===-1?c="":(c=r.slice(u+1,a===-1?void 0:a),s&&(c=Ln(c))),t?(n[l]&&Array.isArray(n[l])||(n[l]=[]),n[l].push(c)):n[l]??=c}return e?n[e]:n},"_getQueryParam"),oa=aa,ua=o((r,e)=>aa(r,e,!0),"getQueryParams"),Kn=decodeURIComponent;var la=o(r=>Vs(r,Kn),"tryDecodeURIComponent"),Ks=o(class{raw;#e;#t;routeIndex=0;path;bodyCache={};constructor(r,e="/",t=[[]]){this.raw=r,this.path=e,this.#t=t,this.#e={}}param(r){return r?this.#r(r):this.#i()}#r(r){let e=this.#t[0][this.routeIndex][1][r],t=this.#n(e);return t&&/\%/.test(t)?la(t):t}#i(){let r={},e=Object.keys(this.#t[0][this.routeIndex][1]);for(let t of e){let s=this.#n(this.#t[0][this.routeIndex][1][t]);s!==void 0&&(r[t]=/\%/.test(s)?la(s):s)}return r}#n(r){return this.#t[1]?this.#t[1][r]:r}query(r){return oa(this.url,r)}queries(r){return ua(this.url,r)}header(r){if(r)return this.raw.headers.get(r)??void 0;let e={};return this.raw.headers.forEach((t,s)=>{e[s]=t}),e}async parseBody(r){return this.bodyCache.parsedBody??=await ra(this,r)}#s=r=>{let{bodyCache:e,raw:t}=this,s=e[r];if(s)return s;let n=Object.keys(e)[0];return n?e[n].then(i=>(n==="json"&&(i=JSON.stringify(i)),new Response(i)[r]())):e[r]=t[r]()};json(){return this.#s("text").then(r=>JSON.parse(r))}text(){return this.#s("text")}arrayBuffer(){return this.#s("arrayBuffer")}blob(){return this.#s("blob")}formData(){return this.#s("formData")}addValidatedData(r,e){this.#e[r]=e}valid(r){return this.#e[r]}get url(){return this.raw.url}get method(){return this.raw.method}get[ta](){return this.#t}get matchedRoutes(){return this.#t[0].map(([[,r]])=>r)}get routePath(){return this.#t[0].map(([[,r]])=>r)[this.routeIndex].path}},"HonoRequest");var ca={Stringify:1,BeforeStream:2,Stream:3},Ac=o((r,e)=>{let t=new String(r);return t.isEscaped=!0,t.callbacks=e,t},"raw");var Un=o(async(r,e,t,s,n)=>{typeof r=="object"&&!(r instanceof String)&&(r instanceof Promise||(r=r.toString()),r instanceof Promise&&(r=await r));let i=r.callbacks;if(!i?.length)return Promise.resolve(r);n?n[0]+=r:n=[r];let a=Promise.all(i.map(u=>u({phase:e,buffer:n,context:s}))).then(u=>Promise.all(u.filter(Boolean).map(l=>Un(l,e,!1,s,n))).then(()=>n[0]));return t?Ac(await a,i):a},"resolveCallback");var Dc="text/plain; charset=UTF-8",Vn=o((r,e)=>({"Content-Type":r,...e}),"setDefaultContentType"),da=o(class{#e;#t;env={};#r;finalized=!1;error;#i;#n;#s;#c;#u;#l;#o;#d;#f;constructor(r,e){this.#e=r,e&&(this.#n=e.executionCtx,this.env=e.env,this.#l=e.notFoundHandler,this.#f=e.path,this.#d=e.matchResult)}get req(){return this.#t??=new Ks(this.#e,this.#f,this.#d),this.#t}get event(){if(this.#n&&"respondWith"in this.#n)return this.#n;throw Error("This context has no FetchEvent")}get executionCtx(){if(this.#n)return this.#n;throw Error("This context has no ExecutionContext")}get res(){return this.#s||=new Response(null,{headers:this.#o??=new Headers})}set res(r){if(this.#s&&r){r=new Response(r.body,r);for(let[e,t]of this.#s.headers.entries())if(e!=="content-type")if(e==="set-cookie"){let s=this.#s.headers.getSetCookie();r.headers.delete("set-cookie");for(let n of s)r.headers.append("set-cookie",n)}else r.headers.set(e,t)}this.#s=r,this.finalized=!0}render=(...r)=>(this.#u??=e=>this.html(e),this.#u(...r));setLayout=r=>this.#c=r;getLayout=()=>this.#c;setRenderer=r=>{this.#u=r};header=(r,e,t)=>{this.finalized&&(this.#s=new Response(this.#s.body,this.#s));let s=this.#s?this.#s.headers:this.#o??=new Headers;e===void 0?s.delete(r):t?.append?s.append(r,e):s.set(r,e)};status=r=>{this.#i=r};set=(r,e)=>{this.#r??=new Map,this.#r.set(r,e)};get=r=>this.#r?this.#r.get(r):void 0;get var(){return this.#r?Object.fromEntries(this.#r):{}}#a(r,e,t){let s=this.#s?new Headers(this.#s.headers):this.#o??new Headers;if(typeof e=="object"&&"headers"in e){let i=e.headers instanceof Headers?e.headers:new Headers(e.headers);for(let[a,u]of i)a.toLowerCase()==="set-cookie"?s.append(a,u):s.set(a,u)}if(t)for(let[i,a]of Object.entries(t))if(typeof a=="string")s.set(i,a);else{s.delete(i);for(let u of a)s.append(i,u)}let n=typeof e=="number"?e:e?.status??this.#i;return new Response(r,{status:n,headers:s})}newResponse=(...r)=>this.#a(...r);body=(r,e,t)=>this.#a(r,e,t);text=(r,e,t)=>!this.#o&&!this.#i&&!e&&!t&&!this.finalized?new Response(r):this.#a(r,e,Vn(Dc,t));json=(r,e,t)=>this.#a(JSON.stringify(r),e,Vn("application/json",t));html=(r,e,t)=>{let s=o(n=>this.#a(n,e,Vn("text/html; charset=UTF-8",t)),"res");return typeof r=="object"?Un(r,ca.Stringify,!1,{}).then(s):s(r)};redirect=(r,e)=>{let t=String(r);return this.header("Location",/[^\x00-\xFF]/.test(t)?encodeURI(t):t),this.newResponse(null,e??302)};notFound=()=>(this.#l??=()=>new Response,this.#l(this))},"Context");var U="ALL",fa="all",ha=["get","post","put","delete","options","patch"],Qs="Can not add a route since the matcher is already built.",Gs=o(class extends Error{},"UnsupportedPathError");var pa="__COMPOSED_HANDLER";var _c=o(r=>r.text("404 Not Found",404),"notFoundHandler"),ma=o((r,e)=>{if("getResponse"in r){let t=r.getResponse();return e.newResponse(t.body,t)}return console.error(r),e.text("Internal Server Error",500)},"errorHandler"),Hn=o(class{get;post;put;delete;options;patch;all;on;use;router;getPath;_basePath="/";#e="/";routes=[];constructor(r={}){[...ha,fa].forEach(n=>{this[n]=(i,...a)=>(typeof i=="string"?this.#e=i:this.#i(n,this.#e,i),a.forEach(u=>{this.#i(n,this.#e,u)}),this)}),this.on=(n,i,...a)=>{for(let u of[i].flat()){this.#e=u;for(let l of[n].flat())a.map(c=>{this.#i(l.toUpperCase(),this.#e,c)})}return this},this.use=(n,...i)=>(typeof n=="string"?this.#e=n:(this.#e="*",i.unshift(n)),i.forEach(a=>{this.#i(U,this.#e,a)}),this);let{strict:t,...s}=r;Object.assign(this,s),this.getPath=t??!0?r.getPath??zn:ia}#t(){let r=new Hn({router:this.router,getPath:this.getPath});return r.errorHandler=this.errorHandler,r.#r=this.#r,r.routes=this.routes,r}#r=_c;errorHandler=ma;route(r,e){let t=this.basePath(r);return e.routes.map(s=>{let n;e.errorHandler===ma?n=s.handler:(n=o(async(i,a)=>(await Mn([],e.errorHandler)(i,()=>s.handler(i,a))).res,"handler"),n[pa]=s.handler),t.#i(s.method,s.path,n)}),this}basePath(r){let e=this.#t();return e._basePath=St(this._basePath,r),e}onError=r=>(this.errorHandler=r,this);notFound=r=>(this.#r=r,this);mount(r,e,t){let s,n;t&&(typeof t=="function"?n=t:(n=t.optionHandler,t.replaceRequest===!1?s=o(u=>u,"replaceRequest"):s=t.replaceRequest));let i=n?u=>{let l=n(u);return Array.isArray(l)?l:[l]}:u=>{let l;try{l=u.executionCtx}catch{}return[u.env,l]};s||=(()=>{let u=St(this._basePath,r),l=u==="/"?0:u.length;return c=>{let d=new URL(c.url);return d.pathname=d.pathname.slice(l)||"/",new Request(d,c)}})();let a=o(async(u,l)=>{let c=await e(s(u.req.raw),...i(u));if(c)return c;await l()},"handler");return this.#i(U,St(r,"*"),a),this}#i(r,e,t){r=r.toUpperCase(),e=St(this._basePath,e);let s={basePath:this._basePath,path:e,method:r,handler:t};this.router.add(r,e,[t,s]),this.routes.push(s)}#n(r,e){if(r instanceof Error)return this.errorHandler(r,e);throw r}#s(r,e,t,s){if(s==="HEAD")return(async()=>new Response(null,await this.#s(r,e,t,"GET")))();let n=this.getPath(r,{env:t}),i=this.router.match(s,n),a=new da(r,{path:n,matchResult:i,env:t,executionCtx:e,notFoundHandler:this.#r});if(i[0].length===1){let l;try{l=i[0][0][0][0](a,async()=>{a.res=await this.#r(a)})}catch(c){return this.#n(c,a)}return l instanceof Promise?l.then(c=>c||(a.finalized?a.res:this.#r(a))).catch(c=>this.#n(c,a)):l??this.#r(a)}let u=Mn(i[0],this.errorHandler,this.#r);return(async()=>{try{let l=await u(a);if(!l.finalized)throw new Error("Context is not finalized. Did you forget to return a Response object or `await next()`?");return l.res}catch(l){return this.#n(l,a)}})()}fetch=(r,...e)=>this.#s(r,e[1],e[0],r.method);request=(r,e,t,s)=>r instanceof Request?this.fetch(e?new Request(r,e):r,t,s):(r=r.toString(),this.fetch(new Request(/^https?:\/\//.test(r)?r:`http://localhost${St("/",r)}`,e),t,s));fire=()=>{addEventListener("fetch",r=>{r.respondWith(this.#s(r.request,r,void 0,r.request.method))})}},"Hono");var Ws=[];function Qn(r,e){let t=this.buildAllMatchers(),s=o((n,i)=>{let a=t[n]||t[U],u=a[2][i];if(u)return u;let l=i.match(a[0]);if(!l)return[[],Ws];let c=l.indexOf("",1);return[a[1][c],l]},"match2");return this.match=s,s(r,e)}o(Qn,"match");var Js="[^/]+",Gr=".*",Wr="(?:|/.*)",Tt=Symbol(),Ec=new Set(".\\+*[^]$()");function Cc(r,e){return r.length===1?e.length===1?r<e?-1:1:-1:e.length===1||r===Gr||r===Wr?1:e===Gr||e===Wr?-1:r===Js?1:e===Js?-1:r.length===e.length?r<e?-1:1:e.length-r.length}o(Cc,"compareKey");var Ys=o(class{#e;#t;#r=Object.create(null);insert(r,e,t,s,n){if(r.length===0){if(this.#e!==void 0)throw Tt;if(n)return;this.#e=e;return}let[i,...a]=r,u=i==="*"?a.length===0?["","",Gr]:["","",Js]:i==="/*"?["","",Wr]:i.match(/^\:([^\{\}]+)(?:\{(.+)\})?$/),l;if(u){let c=u[1],d=u[2]||Js;if(c&&u[2]&&(d===".*"||(d=d.replace(/^\((?!\?:)(?=[^)]+\)$)/,"(?:"),/\((?!\?:)/.test(d))))throw Tt;if(l=this.#r[d],!l){if(Object.keys(this.#r).some(m=>m!==Gr&&m!==Wr))throw Tt;if(n)return;l=this.#r[d]=new Ys,c!==""&&(l.#t=s.varIndex++)}!n&&c!==""&&t.push([c,l.#t])}else if(l=this.#r[i],!l){if(Object.keys(this.#r).some(c=>c.length>1&&c!==Gr&&c!==Wr))throw Tt;if(n)return;l=this.#r[i]=new Ys}l.insert(a,e,t,s,n)}buildRegExpStr(){let e=Object.keys(this.#r).sort(Cc).map(t=>{let s=this.#r[t];return(typeof s.#t=="number"?`(${t})@${s.#t}`:Ec.has(t)?`\\${t}`:t)+s.buildRegExpStr()});return typeof this.#e=="number"&&e.unshift(`#${this.#e}`),e.length===0?"":e.length===1?e[0]:"(?:"+e.join("|")+")"}},"Node");var ga=o(class{#e={varIndex:0};#t=new Ys;insert(r,e,t){let s=[],n=[];for(let a=0;;){let u=!1;if(r=r.replace(/\{[^}]+\}/g,l=>{let c=`@\\${a}`;return n[a]=[c,l],a++,u=!0,c}),!u)break}let i=r.match(/(?::[^\/]+)|(?:\/\*$)|./g)||[];for(let a=n.length-1;a>=0;a--){let[u]=n[a];for(let l=i.length-1;l>=0;l--)if(i[l].indexOf(u)!==-1){i[l]=i[l].replace(u,n[a][1]);break}}return this.#t.insert(i,e,s,this.#e,t),s}buildRegExp(){let r=this.#t.buildRegExpStr();if(r==="")return[/^$/,[],[]];let e=0,t=[],s=[];return r=r.replace(/#(\d+)|@(\d+)|\.\*\$/g,(n,i,a)=>i!==void 0?(t[++e]=Number(i),"$()"):(a!==void 0&&(s[Number(a)]=++e),"")),[new RegExp(`^${r}`),t,s]}},"Trie");var Sc=[/^$/,[],Object.create(null)],ya=Object.create(null);function ba(r){return ya[r]??=new RegExp(r==="*"?"":`^${r.replace(/\/\*$|([.\\+*[^\]$()])/g,(e,t)=>t?`\\${t}`:"(?:|/.*)")}$`)}o(ba,"buildWildcardRegExp");function Tc(){ya=Object.create(null)}o(Tc,"clearWildcardRegExpCache");function Nc(r){let e=new ga,t=[];if(r.length===0)return Sc;let s=r.map(c=>[!/\*|\/:/.test(c[0]),...c]).sort(([c,d],[m,x])=>c?1:m?-1:d.length-x.length),n=Object.create(null);for(let c=0,d=-1,m=s.length;c<m;c++){let[x,N,C]=s[c];x?n[N]=[C.map(([q])=>[q,Object.create(null)]),Ws]:d++;let O;try{O=e.insert(N,d,x)}catch(q){throw q===Tt?new Gs(N):q}x||(t[d]=C.map(([q,M])=>{let z=Object.create(null);for(M-=1;M>=0;M--){let[j,$]=O[M];z[j]=$}return[q,z]}))}let[i,a,u]=e.buildRegExp();for(let c=0,d=t.length;c<d;c++)for(let m=0,x=t[c].length;m<x;m++){let N=t[c][m]?.[1];if(!N)continue;let C=Object.keys(N);for(let O=0,q=C.length;O<q;O++)N[C[O]]=u[N[C[O]]]}let l=[];for(let c in a)l[c]=t[a[c]];return[i,l,n]}o(Nc,"buildMatcherFromPreprocessedRoutes");function fr(r,e){if(r){for(let t of Object.keys(r).sort((s,n)=>n.length-s.length))if(ba(t).test(e))return[...r[t]]}}o(fr,"findMiddleware");var Xs=o(class{name="RegExpRouter";#e;#t;constructor(){this.#e={[U]:Object.create(null)},this.#t={[U]:Object.create(null)}}add(r,e,t){let s=this.#e,n=this.#t;if(!s||!n)throw new Error(Qs);s[r]||[s,n].forEach(u=>{u[r]=Object.create(null),Object.keys(u[U]).forEach(l=>{u[r][l]=[...u[U][l]]})}),e==="/*"&&(e="*");let i=(e.match(/\/:/g)||[]).length;if(/\*$/.test(e)){let u=ba(e);r===U?Object.keys(s).forEach(l=>{s[l][e]||=fr(s[l],e)||fr(s[U],e)||[]}):s[r][e]||=fr(s[r],e)||fr(s[U],e)||[],Object.keys(s).forEach(l=>{(r===U||r===l)&&Object.keys(s[l]).forEach(c=>{u.test(c)&&s[l][c].push([t,i])})}),Object.keys(n).forEach(l=>{(r===U||r===l)&&Object.keys(n[l]).forEach(c=>u.test(c)&&n[l][c].push([t,i]))});return}let a=Hs(e)||[e];for(let u=0,l=a.length;u<l;u++){let c=a[u];Object.keys(n).forEach(d=>{(r===U||r===d)&&(n[d][c]||=[...fr(s[d],c)||fr(s[U],c)||[]],n[d][c].push([t,i-l+u+1]))})}}match=Qn;buildAllMatchers(){let r=Object.create(null);return Object.keys(this.#t).concat(Object.keys(this.#e)).forEach(e=>{r[e]||=this.#r(e)}),this.#e=this.#t=void 0,Tc(),r}#r(r){let e=[],t=r===U;return[this.#e,this.#t].forEach(s=>{let n=s[r]?Object.keys(s[r]).map(i=>[i,s[r][i]]):[];n.length!==0?(t||=!0,e.push(...n)):r!==U&&e.push(...Object.keys(s[U]).map(i=>[i,s[U][i]]))}),t?Nc(e):null}},"RegExpRouter");var Gn=o(class{name="SmartRouter";#e=[];#t=[];constructor(r){this.#e=r.routers}add(r,e,t){if(!this.#t)throw new Error(Qs);this.#t.push([r,e,t])}match(r,e){if(!this.#t)throw new Error("Fatal error");let t=this.#e,s=this.#t,n=t.length,i=0,a;for(;i<n;i++){let u=t[i];try{for(let l=0,c=s.length;l<c;l++)u.add(...s[l]);a=u.match(r,e)}catch(l){if(l instanceof Gs)continue;throw l}this.match=u.match.bind(u),this.#e=[u],this.#t=void 0;break}if(i===n)throw new Error("Fatal error");return this.name=`SmartRouter + ${this.activeRouter.name}`,a}get activeRouter(){if(this.#t||this.#e.length!==1)throw new Error("No active router has been determined yet.");return this.#e[0]}},"SmartRouter");var Jr=Object.create(null),Wn=o(class{#e;#t;#r;#i=0;#n=Jr;constructor(r,e,t){if(this.#t=t||Object.create(null),this.#e=[],r&&e){let s=Object.create(null);s[r]={handler:e,possibleKeys:[],score:0},this.#e=[s]}this.#r=[]}insert(r,e,t){this.#i=++this.#i;let s=this,n=sa(e),i=[];for(let a=0,u=n.length;a<u;a++){let l=n[a],c=n[a+1],d=na(l,c),m=Array.isArray(d)?d[0]:l;if(m in s.#t){s=s.#t[m],d&&i.push(d[1]);continue}s.#t[m]=new Wn,d&&(s.#r.push(d),i.push(d[1])),s=s.#t[m]}return s.#e.push({[r]:{handler:t,possibleKeys:i.filter((a,u,l)=>l.indexOf(a)===u),score:this.#i}}),s}#s(r,e,t,s){let n=[];for(let i=0,a=r.#e.length;i<a;i++){let u=r.#e[i],l=u[e]||u[U],c={};if(l!==void 0&&(l.params=Object.create(null),n.push(l),t!==Jr||s&&s!==Jr))for(let d=0,m=l.possibleKeys.length;d<m;d++){let x=l.possibleKeys[d],N=c[l.score];l.params[x]=s?.[x]&&!N?s[x]:t[x]??s?.[x],c[l.score]=!0}}return n}search(r,e){let t=[];this.#n=Jr;let n=[this],i=Pn(e),a=[];for(let u=0,l=i.length;u<l;u++){let c=i[u],d=u===l-1,m=[];for(let x=0,N=n.length;x<N;x++){let C=n[x],O=C.#t[c];O&&(O.#n=C.#n,d?(O.#t["*"]&&t.push(...this.#s(O.#t["*"],r,C.#n)),t.push(...this.#s(O,r,C.#n))):m.push(O));for(let q=0,M=C.#r.length;q<M;q++){let z=C.#r[q],j=C.#n===Jr?{}:{...C.#n};if(z==="*"){let J=C.#t["*"];J&&(t.push(...this.#s(J,r,C.#n)),J.#n=j,m.push(J));continue}let[$,Ce,Ae]=z;if(!c&&!(Ae instanceof RegExp))continue;let S=C.#t[$],F=i.slice(u).join("/");if(Ae instanceof RegExp){let J=Ae.exec(F);if(J){if(j[Ce]=J[0],t.push(...this.#s(S,r,C.#n,j)),Object.keys(S.#t).length){S.#n=j;let ar=J[0].match(/\//)?.length??0;(a[ar]||=[]).push(S)}continue}}(Ae===!0||Ae.test(c))&&(j[Ce]=c,d?(t.push(...this.#s(S,r,j,C.#n)),S.#t["*"]&&t.push(...this.#s(S.#t["*"],r,j,C.#n))):(S.#n=j,m.push(S)))}}n=m.concat(a.shift()??[])}return t.length>1&&t.sort((u,l)=>u.score-l.score),[t.map(({handler:u,params:l})=>[u,l])]}},"Node");var Jn=o(class{name="TrieRouter";#e;constructor(){this.#e=new Wn}add(r,e,t){let s=Hs(e);if(s){for(let n=0,i=s.length;n<i;n++)this.#e.insert(r,s[n],t);return}this.#e.insert(r,e,t)}match(r,e){return this.#e.search(r,e)}},"TrieRouter");var Nt=o(class extends Hn{constructor(r={}){super(r),this.router=r.router??new Gn({routers:[new Xs,new Jn]})}},"Hono");var xa=/^\s*(?:text\/(?!event-stream(?:[;\s]|$))[^;\s]+|application\/(?:javascript|json|xml|xml-dtd|ecmascript|dart|postscript|rtf|tar|toml|vnd\.dart|vnd\.ms-fontobject|vnd\.ms-opentype|wasm|x-httpd-php|x-javascript|x-ns-proxy-autoconfig|x-sh|x-tar|x-virtualbox-hdd|x-virtualbox-ova|x-virtualbox-ovf|x-virtualbox-vbox|x-virtualbox-vdi|x-virtualbox-vhd|x-virtualbox-vmdk|x-www-form-urlencoded)|font\/(?:otf|ttf)|image\/(?:bmp|vnd\.adobe\.photoshop|vnd\.microsoft\.icon|vnd\.ms-dds|x-icon|x-ms-bmp)|message\/rfc822|model\/gltf-binary|x-shader\/x-fragment|x-shader\/x-vertex|[^;\s]+?\+(?:json|text|xml|yaml))(?:[;\s]|$)/i;var Yn=o((r,e=Rc)=>{let t=/\.([a-zA-Z0-9]+?)$/,s=r.match(t);if(!s)return;let n=e[s[1]];return n&&n.startsWith("text")&&(n+="; charset=utf-8"),n},"getMimeType");var kc={aac:"audio/aac",avi:"video/x-msvideo",avif:"image/avif",av1:"video/av1",bin:"application/octet-stream",bmp:"image/bmp",css:"text/css",csv:"text/csv",eot:"application/vnd.ms-fontobject",epub:"application/epub+zip",gif:"image/gif",gz:"application/gzip",htm:"text/html",html:"text/html",ico:"image/x-icon",ics:"text/calendar",jpeg:"image/jpeg",jpg:"image/jpeg",js:"text/javascript",json:"application/json",jsonld:"application/ld+json",map:"application/json",mid:"audio/x-midi",midi:"audio/x-midi",mjs:"text/javascript",mp3:"audio/mpeg",mp4:"video/mp4",mpeg:"video/mpeg",oga:"audio/ogg",ogv:"video/ogg",ogx:"application/ogg",opus:"audio/opus",otf:"font/otf",pdf:"application/pdf",png:"image/png",rtf:"application/rtf",svg:"image/svg+xml",tif:"image/tiff",tiff:"image/tiff",ts:"video/mp2t",ttf:"font/ttf",txt:"text/plain",wasm:"application/wasm",webm:"video/webm",weba:"audio/webm",webmanifest:"application/manifest+json",webp:"image/webp",woff:"font/woff",woff2:"font/woff2",xhtml:"application/xhtml+xml",xml:"application/xml",zip:"application/zip","3gp":"video/3gpp","3g2":"video/3gpp2",gltf:"model/gltf+json",glb:"model/gltf-binary"},Rc=kc;var va=o((...r)=>{let e=r.filter(n=>n!=="").join("/");e=e.replace(/(?<=\/)\/+/g,"");let t=e.split("/"),s=[];for(let n of t)n===".."&&s.length>0&&s.at(-1)!==".."?s.pop():n!=="."&&s.push(n);return s.join("/")||"."},"defaultJoin");var wa={br:".br",zstd:".zst",gzip:".gz"},Oc=Object.keys(wa),Bc="index.html",Aa=o(r=>{let e=r.root??"./",t=r.path,s=r.join??va;return async(n,i)=>{if(n.finalized)return i();let a;if(r.path)a=r.path;else try{if(a=decodeURIComponent(n.req.path),/(?:^|[\/\\])\.\.(?:$|[\/\\])/.test(a))throw new Error}catch{return await r.onNotFound?.(n.req.path,n),i()}let u=s(e,!t&&r.rewriteRequestPath?r.rewriteRequestPath(a):a);r.isDir&&await r.isDir(u)&&(u=s(u,Bc));let l=r.getContent,c=await l(u,n);if(c instanceof Response)return n.newResponse(c.body,c);if(c){let d=r.mimes&&Yn(u,r.mimes)||Yn(u);if(n.header("Content-Type",d||"application/octet-stream"),r.precompressed&&(!d||xa.test(d))){let m=new Set(n.req.header("Accept-Encoding")?.split(",").map(x=>x.trim()));for(let x of Oc){if(!m.has(x))continue;let N=await l(u+wa[x],n);if(N){c=N,n.header("Content-Encoding",x),n.header("Vary","Accept-Encoding",{append:!0});break}}}return await r.onFound?.(u,n),n.body(c)}await r.onNotFound?.(u,n),await i()}},"serveStatic");var Da=o(async(r,e)=>{let t;e&&e.manifest?typeof e.manifest=="string"?t=JSON.parse(e.manifest):t=e.manifest:typeof __STATIC_CONTENT_MANIFEST=="string"?t=JSON.parse(__STATIC_CONTENT_MANIFEST):t=__STATIC_CONTENT_MANIFEST;let s;e&&e.namespace?s=e.namespace:s=__STATIC_CONTENT;let n=t[r]||r;if(!n)return null;let i=await s.get(n,{type:"stream"});return i||null},"getContentFromKVAsset");var _a=o(r=>o(async function(t,s){return Aa({...r,getContent:o(async i=>Da(i,{manifest:r.manifest,namespace:r.namespace?r.namespace:t.env?t.env.__STATIC_CONTENT:void 0}),"getContent")})(t,s)},"serveStatic2"),"serveStatic");var Zs=o(r=>_a(r),"module");var Ea=o(class{#e;constructor(r){this.#e=r,this.raw=r.raw,this.url=r.url?new URL(r.url):null,this.protocol=r.protocol??null}send(r,e){this.#e.send(r,e??{})}raw;binaryType="arraybuffer";get readyState(){return this.#e.readyState}url;protocol;close(r,e){this.#e.close(r,e)}},"WSContext");var Ca=o(r=>(...e)=>{if(typeof e[0]=="function"){let[t,s]=e;return o(async function(i,a){let u=await t(i),l=await r(i,u,s);if(l)return l;await a()},"upgradeWebSocket")}else{let[t,s,n]=e;return(async()=>{let i=await r(t,s,n);if(!i)throw new Error("Failed to upgrade WebSocket");return i})()}},"defineWebSocketHelper");var qc=Ca(async(r,e)=>{if(r.req.header("Upgrade")!=="websocket")return;let s=new WebSocketPair,n=s[0],i=s[1],a=new Ea({close:(u,l)=>i.close(u,l),get protocol(){return i.protocol},raw:i,get readyState(){return i.readyState},url:i.url?new URL(i.url):null,send:u=>i.send(u)});return e.onClose&&i.addEventListener("close",u=>e.onClose?.(u,a)),e.onMessage&&i.addEventListener("message",u=>e.onMessage?.(u,a)),e.onError&&i.addEventListener("error",u=>e.onError?.(u,a)),i.accept?.(),new Response(null,{status:101,webSocket:n})});var en=o(r=>{let t={...{origin:"*",allowMethods:["GET","HEAD","PUT","POST","DELETE","PATCH"],allowHeaders:[],exposeHeaders:[]},...r},s=(i=>typeof i=="string"?i==="*"?()=>i:a=>i===a?a:null:typeof i=="function"?i:a=>i.includes(a)?a:null)(t.origin),n=(i=>typeof i=="function"?i:Array.isArray(i)?()=>i:()=>[])(t.allowMethods);return o(async function(a,u){function l(d,m){a.res.headers.set(d,m)}o(l,"set");let c=await s(a.req.header("origin")||"",a);if(c&&l("Access-Control-Allow-Origin",c),t.origin!=="*"){let d=a.req.header("Vary");d?l("Vary",d):l("Vary","Origin")}if(t.credentials&&l("Access-Control-Allow-Credentials","true"),t.exposeHeaders?.length&&l("Access-Control-Expose-Headers",t.exposeHeaders.join(",")),a.req.method==="OPTIONS"){t.maxAge!=null&&l("Access-Control-Max-Age",t.maxAge.toString());let d=await n(a.req.header("origin")||"",a);d.length&&l("Access-Control-Allow-Methods",d.join(","));let m=t.allowHeaders;if(!m?.length){let x=a.req.header("Access-Control-Request-Headers");x&&(m=x.split(/\s*,\s*/))}return m?.length&&(l("Access-Control-Allow-Headers",m.join(",")),a.res.headers.append("Vary","Access-Control-Request-Headers")),a.res.headers.delete("Content-Length"),a.res.headers.delete("Content-Type"),new Response(null,{headers:a.res.headers,status:204,statusText:"No Content"})}await u()},"cors2")},"cors");var p=Symbol.for("drizzle:entityKind"),Ix=Symbol.for("drizzle:hasOwnEntityKind");function g(r,e){if(!r||typeof r!="object")return!1;if(r instanceof e)return!0;if(!Object.prototype.hasOwnProperty.call(e,p))throw new Error(`Class "${e.name??"<unknown>"}" doesn't look like a Drizzle entity. If this is incorrect and the class is provided by Drizzle, please report this as a bug.`);let t=r.constructor;if(t)for(;t;){if(p in t&&t[p]===e[p])return!0;t=Object.getPrototypeOf(t)}return!1}o(g,"is");var Fc,B=class{constructor(e,t){this.table=e,this.config=t,this.name=t.name,this.notNull=t.notNull,this.default=t.default,this.defaultFn=t.defaultFn,this.hasDefault=t.hasDefault,this.primary=t.primaryKey,this.isUnique=t.isUnique,this.uniqueName=t.uniqueName,this.uniqueType=t.uniqueType,this.dataType=t.dataType,this.columnType=t.columnType}name;primary;notNull;default;defaultFn;hasDefault;isUnique;uniqueName;uniqueType;dataType;columnType;enumValues=void 0;config;mapFromDriverValue(e){return e}mapToDriverValue(e){return e}};o(B,"Column"),Fc=p,h(B,Fc,"Column");var Y=Symbol.for("drizzle:SubqueryConfig"),jc,te=class{[(jc=p,Y)];constructor(e,t,s,n=!1){this[Y]={sql:e,selection:t,alias:s,isWith:n}}};o(te,"Subquery"),h(te,jc,"Subquery");var Ic,nt=class extends te{};o(nt,"WithSubquery"),Ic=p,h(nt,Ic,"WithSubquery");function tn(r,...e){return r(...e)}o(tn,"iife");var Sa="0.29.5";var Xn,Zn,Ta={startActiveSpan(r,e){return Xn?(Zn||(Zn=Xn.trace.getTracer("drizzle-orm",Sa)),tn((t,s)=>s.startActiveSpan(r,n=>{try{return e(n)}catch(i){throw n.setStatus({code:t.SpanStatusCode.ERROR,message:i instanceof Error?i.message:"Unknown error"}),i}finally{n.end()}}),Xn,Zn)):e()}};var X=Symbol.for("drizzle:ViewBaseConfig");var rn=Symbol.for("drizzle:Name"),ei=Symbol.for("drizzle:Schema"),Na=Symbol.for("drizzle:Columns"),ti=Symbol.for("drizzle:OriginalName"),ri=Symbol.for("drizzle:BaseName"),ka=Symbol.for("drizzle:IsAlias"),Ra=Symbol.for("drizzle:ExtraConfigBuilder"),Oa=Symbol.for("drizzle:IsDrizzleTable"),$c,v=class{[($c=p,rn)];[ti];[ei];[Na];[ri];[ka]=!1;[Ra]=void 0;[Oa]=!0;constructor(e,t,s){this[rn]=this[ti]=e,this[ei]=t,this[ri]=s}};o(v,"Table"),h(v,$c,"Table"),h(v,"Symbol",{Name:rn,Schema:ei,OriginalName:ti,Columns:Na,BaseName:ri,IsAlias:ka,ExtraConfigBuilder:Ra});function Ba(r){return typeof r=="object"&&r!==null&&Oa in r}o(Ba,"isTable");function it(r){return r[rn]}o(it,"getTableName");var Lc,sn=class{};o(sn,"FakePrimitiveParam"),Lc=p,h(sn,Lc,"FakePrimitiveParam");function si(r){return typeof r=="object"&&r!==null&&"getSQL"in r&&typeof r.getSQL=="function"}o(si,"isSQLWrapper");function Mc(r){let e={sql:"",params:[]};for(let t of r)e.sql+=t.sql,e.params.push(...t.params),t.typings?.length&&(e.typings||(e.typings=[]),e.typings.push(...t.typings));return e}o(Mc,"mergeQueries");var Pc,G=class{value;constructor(e){this.value=Array.isArray(e)?e:[e]}getSQL(){return new D([this])}};o(G,"StringChunk"),Pc=p,h(G,Pc,"StringChunk");var zc,hr=class{constructor(e){this.queryChunks=e}decoder=Fa;shouldInlineParams=!1;append(e){return this.queryChunks.push(...e.queryChunks),this}toQuery(e){return Ta.startActiveSpan("drizzle.buildSQL",t=>{let s=this.buildQueryFromSourceParams(this.queryChunks,e);return t?.setAttributes({"drizzle.query.text":s.sql,"drizzle.query.params":JSON.stringify(s.params)}),s})}buildQueryFromSourceParams(e,t){let s=Object.assign({},t,{inlineParams:t.inlineParams||this.shouldInlineParams,paramStartIndex:t.paramStartIndex||{value:0}}),{escapeName:n,escapeParam:i,prepareTyping:a,inlineParams:u,paramStartIndex:l}=s;return Mc(e.map(c=>{if(g(c,G))return{sql:c.value.join(""),params:[]};if(g(c,kt))return{sql:n(c.value),params:[]};if(c===void 0)return{sql:"",params:[]};if(Array.isArray(c)){let d=[new G("(")];for(let[m,x]of c.entries())d.push(x),m<c.length-1&&d.push(new G(", "));return d.push(new G(")")),this.buildQueryFromSourceParams(d,s)}if(g(c,hr))return this.buildQueryFromSourceParams(c.queryChunks,{...s,inlineParams:u||c.shouldInlineParams});if(g(c,v)){let d=c[v.Symbol.Schema],m=c[v.Symbol.Name];return{sql:d===void 0?n(m):n(d)+"."+n(m),params:[]}}if(g(c,B))return{sql:n(c.table[v.Symbol.Name])+"."+n(c.name),params:[]};if(g(c,fe)){let d=c[X].schema,m=c[X].name;return{sql:d===void 0?n(m):n(d)+"."+n(m),params:[]}}if(g(c,de)){let d=c.value===null?null:c.encoder.mapToDriverValue(c.value);if(g(d,hr))return this.buildQueryFromSourceParams([d],s);if(u)return{sql:this.mapInlineParam(d,s),params:[]};let m;return a!==void 0&&(m=[a(c.encoder)]),{sql:i(l.value++,d),params:[d],typings:m}}return g(c,Ve)?{sql:i(l.value++,c),params:[c]}:g(c,hr.Aliased)&&c.fieldAlias!==void 0?{sql:n(c.fieldAlias),params:[]}:g(c,te)?c[Y].isWith?{sql:n(c[Y].alias),params:[]}:this.buildQueryFromSourceParams([new G("("),c[Y].sql,new G(") "),new kt(c[Y].alias)],s):si(c)?this.buildQueryFromSourceParams([new G("("),c.getSQL(),new G(")")],s):u?{sql:this.mapInlineParam(c,s),params:[]}:{sql:i(l.value++,c),params:[c]}}))}mapInlineParam(e,{escapeString:t}){if(e===null)return"null";if(typeof e=="number"||typeof e=="boolean")return e.toString();if(typeof e=="string")return t(e);if(typeof e=="object"){let s=e.toString();return t(s==="[object Object]"?JSON.stringify(e):s)}throw new Error("Unexpected param value: "+e)}getSQL(){return this}as(e){return e===void 0?this:new hr.Aliased(this,e)}mapWith(e){return this.decoder=typeof e=="function"?{mapFromDriverValue:e}:e,this}inlineParams(){return this.shouldInlineParams=!0,this}},D=hr;o(D,"SQL"),zc=p,h(D,zc,"SQL");var Kc,kt=class{constructor(e){this.value=e}brand;getSQL(){return new D([this])}};o(kt,"Name"),Kc=p,h(kt,Kc,"Name");function qa(r){return typeof r=="object"&&r!==null&&"mapToDriverValue"in r&&typeof r.mapToDriverValue=="function"}o(qa,"isDriverValueEncoder");var Fa={mapFromDriverValue:r=>r},ja={mapToDriverValue:r=>r},Lv={...Fa,...ja},Uc,de=class{constructor(e,t=ja){this.value=e,this.encoder=t}brand;getSQL(){return new D([this])}};o(de,"Param"),Uc=p,h(de,Uc,"Param");function f(r,...e){let t=[];(e.length>0||r.length>0&&r[0]!=="")&&t.push(new G(r[0]));for(let[s,n]of e.entries())t.push(n,new G(r[s+1]));return new D(t)}o(f,"sql");(r=>{function e(){return new D([])}o(e,"empty"),r.empty=e;function t(l){return new D(l)}o(t,"fromList"),r.fromList=t;function s(l){return new D([new G(l)])}o(s,"raw"),r.raw=s;function n(l,c){let d=[];for(let[m,x]of l.entries())m>0&&c!==void 0&&d.push(c),d.push(x);return new D(d)}o(n,"join"),r.join=n;function i(l){return new kt(l)}o(i,"identifier"),r.identifier=i;function a(l){return new Ve(l)}o(a,"placeholder2"),r.placeholder=a;function u(l,c){return new de(l,c)}o(u,"param2"),r.param=u})(f||(f={}));(r=>{class e{constructor(s,n){this.sql=s,this.fieldAlias=n}static[p]="SQL.Aliased";isSelectionField=!1;getSQL(){return this.sql}clone(){return new e(this.sql,this.fieldAlias)}}o(e,"Aliased"),r.Aliased=e})(D||(D={}));var Vc,Ve=class{constructor(e){this.name=e}getSQL(){return new D([this])}};o(Ve,"Placeholder"),Vc=p,h(Ve,Vc,"Placeholder");function Yr(r,e){return r.map(t=>{if(g(t,Ve)){if(!(t.name in e))throw new Error(`No value for placeholder "${t.name}" was provided`);return e[t.name]}return t})}o(Yr,"fillPlaceholders");var Hc,fe=class{[(Hc=p,X)];constructor({name:e,schema:t,selectedFields:s,query:n}){this[X]={name:e,originalName:e,schema:t,selectedFields:s,query:n,isExisting:!n,isAlias:!1}}getSQL(){return new D([this])}};o(fe,"View"),h(fe,Hc,"View");B.prototype.getSQL=function(){return new D([this])};v.prototype.getSQL=function(){return new D([this])};te.prototype.getSQL=function(){return new D([this])};var Qc,He=class{constructor(e){this.table=e}get(e,t){return t==="table"?this.table:e[t]}};o(He,"ColumnAliasProxyHandler"),Qc=p,h(He,Qc,"ColumnAliasProxyHandler");var Gc,at=class{constructor(e,t){this.alias=e,this.replaceOriginalName=t}get(e,t){if(t===v.Symbol.IsAlias)return!0;if(t===v.Symbol.Name)return this.alias;if(this.replaceOriginalName&&t===v.Symbol.OriginalName)return this.alias;if(t===X)return{...e[X],name:this.alias,isAlias:!0};if(t===v.Symbol.Columns){let n=e[v.Symbol.Columns];if(!n)return n;let i={};return Object.keys(n).map(a=>{i[a]=new Proxy(n[a],new He(new Proxy(e,this)))}),i}let s=e[t];return g(s,B)?new Proxy(s,new He(new Proxy(e,this))):s}};o(at,"TableAliasProxyHandler"),Gc=p,h(at,Gc,"TableAliasProxyHandler");var Wc,nn=class{constructor(e){this.alias=e}get(e,t){return t==="sourceTable"?Xr(e.sourceTable,this.alias):e[t]}};o(nn,"RelationTableAliasProxyHandler"),Wc=p,h(nn,Wc,"RelationTableAliasProxyHandler");function Xr(r,e){return new Proxy(r,new at(e,!1))}o(Xr,"aliasedTable");function Fe(r,e){return new Proxy(r,new He(new Proxy(r.table,new at(e,!1))))}o(Fe,"aliasedTableColumn");function ni(r,e){return new D.Aliased(Zr(r.sql,e),r.fieldAlias)}o(ni,"mapColumnsInAliasedSQLToAlias");function Zr(r,e){return f.join(r.queryChunks.map(t=>g(t,B)?Fe(t,e):g(t,D)?Zr(t,e):g(t,D.Aliased)?ni(t,e):t))}o(Zr,"mapColumnsInSQLToAlias");var Jc,je=class{config;constructor(e,t,s){this.config={name:e,notNull:!1,default:void 0,hasDefault:!1,primaryKey:!1,isUnique:!1,uniqueName:void 0,uniqueType:void 0,dataType:t,columnType:s}}$type(){return this}notNull(){return this.config.notNull=!0,this}default(e){return this.config.default=e,this.config.hasDefault=!0,this}$defaultFn(e){return this.config.defaultFn=e,this.config.hasDefault=!0,this}$default=this.$defaultFn;primaryKey(){return this.config.primaryKey=!0,this.config.notNull=!0,this}};o(je,"ColumnBuilder"),Jc=p,h(je,Jc,"ColumnBuilder");var Yc,Qe=class extends Error{constructor({message:e,cause:t}){super(e),this.name="DrizzleError",this.cause=t}};o(Qe,"DrizzleError"),Yc=p,h(Qe,Yc,"DrizzleError");var Xc,pr=class extends Qe{constructor(){super({message:"Rollback"})}};o(pr,"TransactionRollbackError"),Xc=p,h(pr,Xc,"TransactionRollbackError");function he(r,e){return qa(e)&&!si(r)&&!g(r,de)&&!g(r,Ve)&&!g(r,B)&&!g(r,v)&&!g(r,fe)?new de(r,e):r}o(he,"bindIfParam");var W=o((r,e)=>f`${r} = ${he(e,r)}`,"eq"),Ia=o((r,e)=>f`${r} <> ${he(e,r)}`,"ne");function Ge(...r){let e=r.filter(t=>t!==void 0);if(e.length!==0)return e.length===1?new D(e):new D([new G("("),f.join(e,new G(" and ")),new G(")")])}o(Ge,"and");function $a(...r){let e=r.filter(t=>t!==void 0);if(e.length!==0)return e.length===1?new D(e):new D([new G("("),f.join(e,new G(" or ")),new G(")")])}o($a,"or");function Ma(r){return f`not ${r}`}o(Ma,"not");var La=o((r,e)=>f`${r} > ${he(e,r)}`,"gt"),Pa=o((r,e)=>f`${r} >= ${he(e,r)}`,"gte"),an=o((r,e)=>f`${r} < ${he(e,r)}`,"lt"),za=o((r,e)=>f`${r} <= ${he(e,r)}`,"lte");function on(r,e){if(Array.isArray(e)){if(e.length===0)throw new Error("inArray requires at least one value");return f`${r} in ${e.map(t=>he(t,r))}`}return f`${r} in ${he(e,r)}`}o(on,"inArray");function Ka(r,e){if(Array.isArray(e)){if(e.length===0)throw new Error("notInArray requires at least one value");return f`${r} not in ${e.map(t=>he(t,r))}`}return f`${r} not in ${he(e,r)}`}o(Ka,"notInArray");function Ua(r){return f`${r} is null`}o(Ua,"isNull");function Va(r){return f`${r} is not null`}o(Va,"isNotNull");function Ha(r){return f`exists ${r}`}o(Ha,"exists");function Qa(r){return f`not exists ${r}`}o(Qa,"notExists");function Ga(r,e,t){return f`${r} between ${he(e,r)} and ${he(t,r)}`}o(Ga,"between");function Wa(r,e,t){return f`${r} not between ${he(e,r)} and ${he(t,r)}`}o(Wa,"notBetween");function Ja(r,e){return f`${r} like ${e}`}o(Ja,"like");function Ya(r,e){return f`${r} not like ${e}`}o(Ya,"notLike");function Xa(r,e){return f`${r} ilike ${e}`}o(Xa,"ilike");function Za(r,e){return f`${r} not ilike ${e}`}o(Za,"notIlike");function un(r){return f`${r} asc`}o(un,"asc");function es(r){return f`${r} desc`}o(es,"desc");var Zc,ts=class{write(e){console.log(e)}};o(ts,"ConsoleLogWriter"),Zc=p,h(ts,Zc,"ConsoleLogWriter");var ed,mr=class{writer;constructor(e){this.writer=e?.writer??new ts}logQuery(e,t){let s=t.map(i=>{try{return JSON.stringify(i)}catch{return String(i)}}),n=s.length?` -- params: [${s.join(", ")}]`:"";this.writer.write(`Query: ${e}${n}`)}};o(mr,"DefaultLogger"),ed=p,h(mr,ed,"DefaultLogger");var td,gr=class{logQuery(){}};o(gr,"NoopLogger"),td=p,h(gr,td,"NoopLogger");var rd,se=class{[(rd=p,Symbol.toStringTag)]="QueryPromise";catch(e){return this.then(void 0,e)}finally(e){return this.then(t=>(e?.(),t),t=>{throw e?.(),t})}then(e,t){return this.execute().then(e,t)}};o(se,"QueryPromise"),h(se,rd,"QueryPromise");var eo=Symbol.for("drizzle:PgInlineForeignKeys"),sd,De=class extends v{[(sd=p,eo)]=[];[v.Symbol.ExtraConfigBuilder]=void 0};o(De,"PgTable"),h(De,sd,"PgTable"),h(De,"Symbol",Object.assign({},v.Symbol,{InlineForeignKeys:eo}));var nd,yr=class{columns;name;constructor(e,t){this.columns=e,this.name=t}build(e){return new rs(e,this.columns,this.name)}};o(yr,"PrimaryKeyBuilder"),nd=p,h(yr,nd,"PgPrimaryKeyBuilder");var id,rs=class{constructor(e,t,s){this.table=e,this.columns=t,this.name=s}columns;name;getName(){return this.name??`${this.table[De.Symbol.Name]}_${this.columns.map(e=>e.name).join("_")}_pk`}};o(rs,"PrimaryKey"),id=p,h(rs,id,"PgPrimaryKey");var ud,br=class{constructor(e,t,s){this.sourceTable=e,this.referencedTable=t,this.relationName=s,this.referencedTableName=t[v.Symbol.Name]}referencedTableName;fieldName};o(br,"Relation"),ud=p,h(br,ud,"Relation");var ld,ss=class{constructor(e,t){this.table=e,this.config=t}};o(ss,"Relations"),ld=p,h(ss,ld,"Relations");var cd,ii=class extends br{constructor(e,t,s,n){super(e,t,s?.relationName),this.config=s,this.isNullable=n}withFieldName(e){let t=new ii(this.sourceTable,this.referencedTable,this.config,this.isNullable);return t.fieldName=e,t}},Ie=ii;o(Ie,"One"),cd=p,h(Ie,cd,"One");var dd,ai=class extends br{constructor(e,t,s){super(e,t,s?.relationName),this.config=s}withFieldName(e){let t=new ai(this.sourceTable,this.referencedTable,this.config);return t.fieldName=e,t}},Rt=ai;o(Rt,"Many"),dd=p,h(Rt,dd,"Many");function to(){return{and:Ge,between:Ga,eq:W,exists:Ha,gt:La,gte:Pa,ilike:Xa,inArray:on,isNull:Ua,isNotNull:Va,like:Ja,lt:an,lte:za,ne:Ia,not:Ma,notBetween:Wa,notExists:Qa,notLike:Ya,notIlike:Za,notInArray:Ka,or:$a,sql:f}}o(to,"getOperators");function ro(){return{sql:f,asc:un,desc:es}}o(ro,"getOrderByOperators");function so(r,e){Object.keys(r).length===1&&"default"in r&&!g(r.default,v)&&(r=r.default);let t={},s={},n={};for(let[i,a]of Object.entries(r))if(Ba(a)){let u=a[v.Symbol.Name],l=s[u];t[u]=i,n[i]={tsName:i,dbName:a[v.Symbol.Name],schema:a[v.Symbol.Schema],columns:a[v.Symbol.Columns],relations:l?.relations??{},primaryKey:l?.primaryKey??[]};for(let d of Object.values(a[v.Symbol.Columns]))d.primary&&n[i].primaryKey.push(d);let c=a[v.Symbol.ExtraConfigBuilder]?.(a);if(c)for(let d of Object.values(c))g(d,yr)&&n[i].primaryKey.push(...d.columns)}else if(g(a,ss)){let u=a.table[v.Symbol.Name],l=t[u],c=a.config(e(a.table)),d;for(let[m,x]of Object.entries(c))if(l){let N=n[l];N.relations[m]=x,d&&N.primaryKey.push(...d)}else u in s||(s[u]={relations:{},primaryKey:d}),s[u].relations[m]=x}return{tables:n,tableNamesMap:t}}o(so,"extractTablesRelationalConfig");function ad(r){return o(function(t,s){return new Ie(r,t,s,s?.fields.reduce((n,i)=>n&&i.notNull,!0)??!1)},"one")}o(ad,"createOne");function od(r){return o(function(t,s){return new Rt(r,t,s)},"many")}o(od,"createMany");function no(r,e,t){if(g(t,Ie)&&t.config)return{fields:t.config.fields,references:t.config.references};let s=e[t.referencedTable[v.Symbol.Name]];if(!s)throw new Error(`Table "${t.referencedTable[v.Symbol.Name]}" not found in schema`);let n=r[s];if(!n)throw new Error(`Table "${s}" not found in schema`);let i=t.sourceTable,a=e[i[v.Symbol.Name]];if(!a)throw new Error(`Table "${i[v.Symbol.Name]}" not found in schema`);let u=[];for(let l of Object.values(n.relations))(t.relationName&&t!==l&&l.relationName===t.relationName||!t.relationName&&l.referencedTable===t.sourceTable)&&u.push(l);if(u.length>1)throw t.relationName?new Error(`There are multiple relations with name "${t.relationName}" in table "${s}"`):new Error(`There are multiple relations between "${s}" and "${t.sourceTable[v.Symbol.Name]}". Please specify relation name`);if(u[0]&&g(u[0],Ie)&&u[0].config)return{fields:u[0].config.references,references:u[0].config.fields};throw new Error(`There is not enough information to infer relation "${a}.${t.fieldName}"`)}o(no,"normalizeRelation");function io(r){return{one:ad(r),many:od(r)}}o(io,"createTableRelationsHelpers");function ln(r,e,t,s,n=i=>i){let i={};for(let[a,u]of s.entries())if(u.isJson){let l=e.relations[u.tsKey],c=t[a],d=typeof c=="string"?JSON.parse(c):c;i[u.tsKey]=g(l,Ie)?d&&ln(r,r[u.relationTableTsKey],d,u.selection,n):d.map(m=>ln(r,r[u.relationTableTsKey],m,u.selection,n))}else{let l=n(t[a]),c=u.field,d;g(c,B)?d=c:g(c,D)?d=c.decoder:d=c.sql.decoder,i[u.tsKey]=l===null?null:d.mapFromDriverValue(l)}return i}o(ln,"mapRelationalRow");function oi(r){return f`count(${r||f.raw("*")})`.mapWith(Number)}o(oi,"count");function cn(r,e,t){let s={},n=r.reduce((i,{path:a,field:u},l)=>{let c;g(u,B)?c=u:g(u,D)?c=u.decoder:c=u.sql.decoder;let d=i;for(let[m,x]of a.entries())if(m<a.length-1)x in d||(d[x]={}),d=d[x];else{let N=e[l],C=d[x]=N===null?null:c.mapFromDriverValue(N);if(t&&g(u,B)&&a.length===2){let O=a[0];O in s?typeof s[O]=="string"&&s[O]!==it(u.table)&&(s[O]=!1):s[O]=C===null?it(u.table):!1}}return i},{});if(t&&Object.keys(s).length>0)for(let[i,a]of Object.entries(s))typeof a=="string"&&!t[a]&&(n[i]=null);return n}o(cn,"mapResultRow");function _e(r,e){return Object.entries(r).reduce((t,[s,n])=>{if(typeof s!="string")return t;let i=e?[...e,s]:[s];return g(n,B)||g(n,D)||g(n,D.Aliased)?t.push({path:i,field:n}):g(n,v)?t.push(..._e(n[v.Symbol.Columns],i)):t.push(..._e(n,i)),t},[])}o(_e,"orderSelectedFields");function ui(r,e){let t=Object.keys(r),s=Object.keys(e);if(t.length!==s.length)return!1;for(let[n,i]of t.entries())if(i!==s[n])return!1;return!0}o(ui,"haveSameKeys");function dn(r,e){let t=Object.entries(e).filter(([,s])=>s!==void 0).map(([s,n])=>g(n,D)?[s,n]:[s,new de(n,r[v.Symbol.Columns][s])]);if(t.length===0)throw new Error("No values to set");return Object.fromEntries(t)}o(dn,"mapUpdateSet");function ao(r,e){for(let t of e)for(let s of Object.getOwnPropertyNames(t.prototype))s!=="constructor"&&Object.defineProperty(r.prototype,s,Object.getOwnPropertyDescriptor(t.prototype,s)||Object.create(null))}o(ao,"applyMixins");function fn(r){return r[v.Symbol.Columns]}o(fn,"getTableColumns");function li(r){return g(r,te)?r[Y].alias:g(r,fe)?r[X].name:g(r,D)?void 0:r[v.Symbol.IsAlias]?r[v.Symbol.Name]:r[v.Symbol.BaseName]}o(li,"getTableLikeName");var ci=Symbol.for("drizzle:SQLiteInlineForeignKeys"),hd,V=class extends v{[(hd=p,v.Symbol.Columns)];[ci]=[];[v.Symbol.ExtraConfigBuilder]=void 0};o(V,"SQLiteTable"),h(V,hd,"SQLiteTable"),h(V,"Symbol",Object.assign({},v.Symbol,{InlineForeignKeys:ci}));function fd(r,e,t,s,n=r){let i=new V(r,s,n),a=Object.fromEntries(Object.entries(e).map(([l,c])=>{let d=c,m=d.build(i);return i[ci].push(...d.buildForeignKeys(m,i)),[l,m]})),u=Object.assign(i,a);return u[v.Symbol.Columns]=a,t&&(u[V.Symbol.ExtraConfigBuilder]=t),u}o(fd,"sqliteTableBase");var ns=o((r,e,t)=>fd(r,e,t),"sqliteTable");var pd,xr=class{reference;_onUpdate;_onDelete;constructor(e,t){this.reference=()=>{let{name:s,columns:n,foreignColumns:i}=e();return{name:s,columns:n,foreignTable:i[0].table,foreignColumns:i}},t&&(this._onUpdate=t.onUpdate,this._onDelete=t.onDelete)}onUpdate(e){return this._onUpdate=e,this}onDelete(e){return this._onDelete=e,this}build(e){return new is(e,this)}};o(xr,"ForeignKeyBuilder"),pd=p,h(xr,pd,"SQLiteForeignKeyBuilder");var md,is=class{constructor(e,t){this.table=e,this.reference=t.reference,this.onUpdate=t._onUpdate,this.onDelete=t._onDelete}reference;onUpdate;onDelete;getName(){let{name:e,columns:t,foreignColumns:s}=this.reference(),n=t.map(u=>u.name),i=s.map(u=>u.name),a=[this.table[V.Symbol.Name],...n,s[0].table[V.Symbol.Name],...i];return e??`${a.join("_")}_fk`}};o(is,"ForeignKey"),md=p,h(is,md,"SQLiteForeignKey");function di(r,e){return`${r[V.Symbol.Name]}_${e.join("_")}_unique`}o(di,"uniqueKeyName");var gd,as=class{constructor(e,t){this.name=t,this.columns=e}columns;build(e){return new os(e,this.columns,this.name)}};o(as,"UniqueConstraintBuilder"),gd=p,h(as,gd,"SQLiteUniqueConstraintBuilder");var yd,hn=class{name;constructor(e){this.name=e}on(...e){return new as(e,this.name)}};o(hn,"UniqueOnConstraintBuilder"),yd=p,h(hn,yd,"SQLiteUniqueOnConstraintBuilder");var bd,os=class{constructor(e,t,s){this.table=e,this.columns=t,this.name=s??di(this.table,this.columns.map(n=>n.name))}columns;name;getName(){return this.name}};o(os,"UniqueConstraint"),bd=p,h(os,bd,"SQLiteUniqueConstraint");var xd,We=class extends je{foreignKeyConfigs=[];references(e,t={}){return this.foreignKeyConfigs.push({ref:e,actions:t}),this}unique(e){return this.config.isUnique=!0,this.config.uniqueName=e,this}buildForeignKeys(e,t){return this.foreignKeyConfigs.map(({ref:s,actions:n})=>((i,a)=>{let u=new xr(()=>{let l=i();return{columns:[e],foreignColumns:[l]}});return a.onUpdate&&u.onUpdate(a.onUpdate),a.onDelete&&u.onDelete(a.onDelete),u.build(t)})(s,n))}};o(We,"SQLiteColumnBuilder"),xd=p,h(We,xd,"SQLiteColumnBuilder");var vd,ye=class extends B{constructor(e,t){t.uniqueName||(t.uniqueName=di(e,[t.name])),super(e,t),this.table=e}};o(ye,"SQLiteColumn"),vd=p,h(ye,vd,"SQLiteColumn");var wd,Ot=class extends We{constructor(e,t,s){super(e,t,s),this.config.autoIncrement=!1}primaryKey(e){return e?.autoIncrement&&(this.config.autoIncrement=!0),this.config.hasDefault=!0,super.primaryKey()}};o(Ot,"SQLiteBaseIntegerBuilder"),wd=p,h(Ot,wd,"SQLiteBaseIntegerBuilder");var Ad,Bt=class extends ye{autoIncrement=this.config.autoIncrement;getSQLType(){return"integer"}};o(Bt,"SQLiteBaseInteger"),Ad=p,h(Bt,Ad,"SQLiteBaseInteger");var Dd,us=class extends Ot{constructor(e){super(e,"number","SQLiteInteger")}build(e){return new ls(e,this.config)}};o(us,"SQLiteIntegerBuilder"),Dd=p,h(us,Dd,"SQLiteIntegerBuilder");var _d,ls=class extends Bt{};o(ls,"SQLiteInteger"),_d=p,h(ls,_d,"SQLiteInteger");var Ed,cs=class extends Ot{constructor(e,t){super(e,"date","SQLiteTimestamp"),this.config.mode=t}defaultNow(){return this.default(f`(cast((julianday('now') - 2440587.5)*86400000 as integer))`)}build(e){return new ds(e,this.config)}};o(cs,"SQLiteTimestampBuilder"),Ed=p,h(cs,Ed,"SQLiteTimestampBuilder");var Cd,ds=class extends Bt{mode=this.config.mode;mapFromDriverValue(e){return this.config.mode==="timestamp"?new Date(e*1e3):new Date(e)}mapToDriverValue(e){let t=e.getTime();return this.config.mode==="timestamp"?Math.floor(t/1e3):t}};o(ds,"SQLiteTimestamp"),Cd=p,h(ds,Cd,"SQLiteTimestamp");var Sd,fs=class extends Ot{constructor(e,t){super(e,"boolean","SQLiteBoolean"),this.config.mode=t}build(e){return new hs(e,this.config)}};o(fs,"SQLiteBooleanBuilder"),Sd=p,h(fs,Sd,"SQLiteBooleanBuilder");var Td,hs=class extends Bt{mode=this.config.mode;mapFromDriverValue(e){return Number(e)===1}mapToDriverValue(e){return e?1:0}};o(hs,"SQLiteBoolean"),Td=p,h(hs,Td,"SQLiteBoolean");function ne(r,e){return e?.mode==="timestamp"||e?.mode==="timestamp_ms"?new cs(r,e.mode):e?.mode==="boolean"?new fs(r,e.mode):new us(r)}o(ne,"integer");var Nd,ps=class extends We{constructor(e,t){super(e,"string","SQLiteText"),this.config.enumValues=t.enum,this.config.length=t.length}build(e){return new qt(e,this.config)}};o(ps,"SQLiteTextBuilder"),Nd=p,h(ps,Nd,"SQLiteTextBuilder");var kd,qt=class extends ye{enumValues=this.config.enumValues;length=this.config.length;constructor(e,t){super(e,t)}getSQLType(){return`text${this.config.length?`(${this.config.length})`:""}`}};o(qt,"SQLiteText"),kd=p,h(qt,kd,"SQLiteText");var Rd,ms=class extends We{constructor(e){super(e,"json","SQLiteTextJson")}build(e){return new gs(e,this.config)}};o(ms,"SQLiteTextJsonBuilder"),Rd=p,h(ms,Rd,"SQLiteTextJsonBuilder");var Od,gs=class extends ye{getSQLType(){return"text"}mapFromDriverValue(e){return JSON.parse(e)}mapToDriverValue(e){return JSON.stringify(e)}};o(gs,"SQLiteTextJson"),Od=p,h(gs,Od,"SQLiteTextJson");function I(r,e={}){return e.mode==="json"?new ms(r):new ps(r,e)}o(I,"text");var Bd,fi=class{config;constructor(e){this.config={...e}}get(e,t){if(t===Y)return{...e[Y],selection:new Proxy(e[Y].selection,this)};if(t===X)return{...e[X],selectedFields:new Proxy(e[X].selectedFields,this)};if(typeof t=="symbol")return e[t];let n=(g(e,te)?e[Y].selection:g(e,fe)?e[X].selectedFields:e)[t];if(g(n,D.Aliased)){if(this.config.sqlAliasedBehavior==="sql"&&!n.isSelectionField)return n.sql;let i=n.clone();return i.isSelectionField=!0,i}if(g(n,D)){if(this.config.sqlBehavior==="sql")return n;throw new Error(`You tried to reference "${t}" field from a subquery, which is a raw SQL field, but it doesn't have an alias declared. Please add an alias to the field using ".as('alias')" method.`)}return g(n,B)?this.config.alias?new Proxy(n,new He(new Proxy(n.table,new at(this.config.alias,this.config.replaceOriginalName??!1)))):n:typeof n!="object"||n===null?n:new Proxy(n,new fi(this.config))}},oe=fi;o(oe,"SelectionProxyHandler"),Bd=p,h(oe,Bd,"SelectionProxyHandler");var qd,Ft=class extends se{constructor(e,t,s,n){super(),this.table=e,this.session=t,this.dialect=s,this.config={table:e,withList:n}}config;where(e){return this.config.where=e,this}returning(e=this.table[V.Symbol.Columns]){return this.config.returning=_e(e),this}getSQL(){return this.dialect.buildDeleteQuery(this.config)}toSQL(){let{typings:e,...t}=this.dialect.sqlToQuery(this.getSQL());return t}_prepare(e=!0){return this.session[e?"prepareOneTimeQuery":"prepareQuery"](this.dialect.sqlToQuery(this.getSQL()),this.config.returning,this.config.returning?"all":"run")}prepare(){return this._prepare(!1)}run=e=>this._prepare().run(e);all=e=>this._prepare().all(e);get=e=>this._prepare().get(e);values=e=>this._prepare().values(e);async execute(e){return this._prepare().execute(e)}$dynamic(){return this}};o(Ft,"SQLiteDeleteBase"),qd=p,h(Ft,qd,"SQLiteDelete");var Fd,jt=class{constructor(e,t,s,n){this.table=e,this.session=t,this.dialect=s,this.withList=n}values(e){if(e=Array.isArray(e)?e:[e],e.length===0)throw new Error("values() must be called with at least one value");let t=e.map(s=>{let n={},i=this.table[v.Symbol.Columns];for(let a of Object.keys(s)){let u=s[a];n[a]=g(u,D)?u:new de(u,i[a])}return n});return new ys(this.table,t,this.session,this.dialect,this.withList)}};o(jt,"SQLiteInsertBuilder"),Fd=p,h(jt,Fd,"SQLiteInsertBuilder");var jd,ys=class extends se{constructor(e,t,s,n,i){super(),this.session=s,this.dialect=n,this.config={table:e,values:t,withList:i}}config;returning(e=this.config.table[V.Symbol.Columns]){return this.config.returning=_e(e),this}onConflictDoNothing(e={}){if(e.target===void 0)this.config.onConflict=f`do nothing`;else{let t=Array.isArray(e.target)?f`${e.target}`:f`${[e.target]}`,s=e.where?f` where ${e.where}`:f``;this.config.onConflict=f`${t} do nothing${s}`}return this}onConflictDoUpdate(e){let t=Array.isArray(e.target)?f`${e.target}`:f`${[e.target]}`,s=e.where?f` where ${e.where}`:f``,n=this.dialect.buildUpdateSet(this.config.table,dn(this.config.table,e.set));return this.config.onConflict=f`${t} do update set ${n}${s}`,this}getSQL(){return this.dialect.buildInsertQuery(this.config)}toSQL(){let{typings:e,...t}=this.dialect.sqlToQuery(this.getSQL());return t}_prepare(e=!0){return this.session[e?"prepareOneTimeQuery":"prepareQuery"](this.dialect.sqlToQuery(this.getSQL()),this.config.returning,this.config.returning?"all":"run")}prepare(){return this._prepare(!1)}run=e=>this._prepare().run(e);all=e=>this._prepare().all(e);get=e=>this._prepare().get(e);values=e=>this._prepare().values(e);async execute(){return this.config.returning?this.all():this.run()}$dynamic(){return this}};o(ys,"SQLiteInsertBase"),jd=p,h(ys,jd,"SQLiteInsert");var Id,ot=class extends fe{};o(ot,"SQLiteViewBase"),Id=p,h(ot,Id,"SQLiteViewBase");var $d,vr=class{escapeName(e){return`"${e}"`}escapeParam(e){return"?"}escapeString(e){return`'${e.replace(/'/g,"''")}'`}buildWithCTE(e){if(!e?.length)return;let t=[f`with `];for(let[s,n]of e.entries())t.push(f`${f.identifier(n[Y].alias)} as (${n[Y].sql})`),s<e.length-1&&t.push(f`, `);return t.push(f` `),f.join(t)}buildDeleteQuery({table:e,where:t,returning:s,withList:n}){let i=this.buildWithCTE(n),a=s?f` returning ${this.buildSelection(s,{isSingleTable:!0})}`:void 0,u=t?f` where ${t}`:void 0;return f`${i}delete from ${e}${u}${a}`}buildUpdateSet(e,t){let s=Object.entries(t),n=s.length;return f.join(s.flatMap(([i,a],u)=>{let l=e[v.Symbol.Columns][i],c=f`${f.identifier(l.name)} = ${a}`;return u<n-1?[c,f.raw(", ")]:[c]}))}buildUpdateQuery({table:e,set:t,where:s,returning:n,withList:i}){let a=this.buildWithCTE(i),u=this.buildUpdateSet(e,t),l=n?f` returning ${this.buildSelection(n,{isSingleTable:!0})}`:void 0,c=s?f` where ${s}`:void 0;return f`${a}update ${e} set ${u}${c}${l}`}buildSelection(e,{isSingleTable:t=!1}={}){let s=e.length,n=e.flatMap(({field:i},a)=>{let u=[];if(g(i,D.Aliased)&&i.isSelectionField)u.push(f.identifier(i.fieldAlias));else if(g(i,D.Aliased)||g(i,D)){let l=g(i,D.Aliased)?i.sql:i;t?u.push(new D(l.queryChunks.map(c=>g(c,B)?f.identifier(c.name):c))):u.push(l),g(i,D.Aliased)&&u.push(f` as ${f.identifier(i.fieldAlias)}`)}else if(g(i,B)){let l=i.table[v.Symbol.Name],c=i.name;t?u.push(f.identifier(c)):u.push(f`${f.identifier(l)}.${f.identifier(c)}`)}return a<s-1&&u.push(f`, `),u});return f.join(n)}buildSelectQuery({withList:e,fields:t,fieldsFlat:s,where:n,having:i,table:a,joins:u,orderBy:l,groupBy:c,limit:d,offset:m,distinct:x,setOperators:N}){let C=s??_e(t);for(let ae of C)if(g(ae.field,B)&&it(ae.field.table)!==(g(a,te)?a[Y].alias:g(a,ot)?a[X].name:g(a,D)?void 0:it(a))&&!(ee=>u?.some(({alias:Ke})=>Ke===(ee[v.Symbol.IsAlias]?it(ee):ee[v.Symbol.BaseName])))(ae.field.table)){let ee=it(ae.field.table);throw new Error(`Your "${ae.path.join("->")}" field references a column "${ee}"."${ae.field.name}", but the table "${ee}" is not part of the query! Did you forget to join it?`)}let O=!u||u.length===0,q=this.buildWithCTE(e),M=x?f` distinct`:void 0,z=this.buildSelection(C,{isSingleTable:O}),j=(()=>g(a,v)&&a[v.Symbol.OriginalName]!==a[v.Symbol.Name]?f`${f.identifier(a[v.Symbol.OriginalName])} ${f.identifier(a[v.Symbol.Name])}`:a)(),$=[];if(u)for(let[ae,ee]of u.entries()){ae===0&&$.push(f` `);let Ke=ee.table;if(g(Ke,V)){let Bn=Ke[V.Symbol.Name],Fi=Ke[V.Symbol.Schema],ji=Ke[V.Symbol.OriginalName],Ii=Bn===ji?void 0:ee.alias;$.push(f`${f.raw(ee.joinType)} join ${Fi?f`${f.identifier(Fi)}.`:void 0}${f.identifier(ji)}${Ii&&f` ${f.identifier(Ii)}`} on ${ee.on}`)}else $.push(f`${f.raw(ee.joinType)} join ${Ke} on ${ee.on}`);ae<u.length-1&&$.push(f` `)}let Ce=f.join($),Ae=n?f` where ${n}`:void 0,S=i?f` having ${i}`:void 0,F=[];if(l)for(let[ae,ee]of l.entries())F.push(ee),ae<l.length-1&&F.push(f`, `);let J=[];if(c)for(let[ae,ee]of c.entries())J.push(ee),ae<c.length-1&&J.push(f`, `);let ar=J.length>0?f` group by ${f.join(J)}`:void 0,Ms=F.length>0?f` order by ${f.join(F)}`:void 0,Hr=d?f` limit ${d}`:void 0,Ls=m?f` offset ${m}`:void 0,Ps=f`${q}select${M} ${z} from ${j}${Ce}${Ae}${ar}${S}${Ms}${Hr}${Ls}`;return N.length>0?this.buildSetOperations(Ps,N):Ps}buildSetOperations(e,t){let[s,...n]=t;if(!s)throw new Error("Cannot pass undefined values to any set operator");return n.length===0?this.buildSetOperationQuery({leftSelect:e,setOperator:s}):this.buildSetOperations(this.buildSetOperationQuery({leftSelect:e,setOperator:s}),n)}buildSetOperationQuery({leftSelect:e,setOperator:{type:t,isAll:s,rightSelect:n,limit:i,orderBy:a,offset:u}}){let l=f`${e.getSQL()} `,c=f`${n.getSQL()}`,d;if(a&&a.length>0){let C=[];for(let O of a)if(g(O,ye))C.push(f.identifier(O.name));else if(g(O,D)){for(let q=0;q<O.queryChunks.length;q++){let M=O.queryChunks[q];g(M,ye)&&(O.queryChunks[q]=f.identifier(M.name))}C.push(f`${O}`)}else C.push(f`${O}`);d=f` order by ${f.join(C,f`, `)}`}let m=i?f` limit ${i}`:void 0,x=f.raw(`${t} ${s?"all ":""}`),N=u?f` offset ${u}`:void 0;return f`${l}${x}${c}${d}${m}${N}`}buildInsertQuery({table:e,values:t,onConflict:s,returning:n,withList:i}){let a=[],u=e[v.Symbol.Columns],l=Object.entries(u),c=l.map(([,C])=>f.identifier(C.name));for(let[C,O]of t.entries()){let q=[];for(let[M,z]of l){let j=O[M];if(j===void 0||g(j,de)&&j.value===void 0){let $;if(z.default!==null&&z.default!==void 0)$=g(z.default,D)?z.default:f.param(z.default,z);else if(z.defaultFn!==void 0){let Ce=z.defaultFn();$=g(Ce,D)?Ce:f.param(Ce,z)}else $=f`null`;q.push($)}else q.push(j)}a.push(q),C<t.length-1&&a.push(f`, `)}let d=this.buildWithCTE(i),m=f.join(a),x=n?f` returning ${this.buildSelection(n,{isSingleTable:!0})}`:void 0,N=s?f` on conflict ${s}`:void 0;return f`${d}insert into ${e} ${c} values ${m}${N}${x}`}sqlToQuery(e){return e.toQuery({escapeName:this.escapeName,escapeParam:this.escapeParam,escapeString:this.escapeString})}buildRelationalQuery({fullSchema:e,schema:t,tableNamesMap:s,table:n,tableConfig:i,queryConfig:a,tableAlias:u,nestedQueryRelation:l,joinOn:c}){let d=[],m,x,N=[],C,O=[];if(a===!0)d=Object.entries(i.columns).map(([z,j])=>({dbKey:j.name,tsKey:z,field:Fe(j,u),relationTableTsKey:void 0,isJson:!1,selection:[]}));else{let M=Object.fromEntries(Object.entries(i.columns).map(([S,F])=>[S,Fe(F,u)]));if(a.where){let S=typeof a.where=="function"?a.where(M,to()):a.where;C=S&&Zr(S,u)}let z=[],j=[];if(a.columns){let S=!1;for(let[F,J]of Object.entries(a.columns))J!==void 0&&F in i.columns&&(!S&&J===!0&&(S=!0),j.push(F));j.length>0&&(j=S?j.filter(F=>a.columns?.[F]===!0):Object.keys(i.columns).filter(F=>!j.includes(F)))}else j=Object.keys(i.columns);for(let S of j){let F=i.columns[S];z.push({tsKey:S,value:F})}let $=[];a.with&&($=Object.entries(a.with).filter(S=>!!S[1]).map(([S,F])=>({tsKey:S,queryConfig:F,relation:i.relations[S]})));let Ce;if(a.extras){Ce=typeof a.extras=="function"?a.extras(M,{sql:f}):a.extras;for(let[S,F]of Object.entries(Ce))z.push({tsKey:S,value:ni(F,u)})}for(let{tsKey:S,value:F}of z)d.push({dbKey:g(F,D.Aliased)?F.fieldAlias:i.columns[S].name,tsKey:S,field:g(F,B)?Fe(F,u):F,relationTableTsKey:void 0,isJson:!1,selection:[]});let Ae=typeof a.orderBy=="function"?a.orderBy(M,ro()):a.orderBy??[];Array.isArray(Ae)||(Ae=[Ae]),N=Ae.map(S=>g(S,B)?Fe(S,u):Zr(S,u)),m=a.limit,x=a.offset;for(let{tsKey:S,queryConfig:F,relation:J}of $){let ar=no(t,s,J),Ms=J.referencedTable[v.Symbol.Name],Hr=s[Ms],Ls=`${u}_${S}`,Ps=Ge(...ar.fields.map((Ke,Bn)=>W(Fe(ar.references[Bn],Ls),Fe(Ke,u)))),ae=this.buildRelationalQuery({fullSchema:e,schema:t,tableNamesMap:s,table:e[Hr],tableConfig:t[Hr],queryConfig:g(J,Ie)?F===!0?{limit:1}:{...F,limit:1}:F,tableAlias:Ls,joinOn:Ps,nestedQueryRelation:J}),ee=f`(${ae.sql})`.as(S);d.push({dbKey:S,tsKey:S,field:ee,relationTableTsKey:Hr,isJson:!0,selection:ae.selection})}}if(d.length===0)throw new Qe({message:`No fields selected for table "${i.tsName}" ("${u}"). You need to have at least one item in "columns", "with" or "extras". If you need to select all columns, omit the "columns" key or set it to undefined.`});let q;if(C=Ge(c,C),l){let M=f`json_array(${f.join(d.map(({field:$})=>g($,ye)?f.identifier($.name):g($,D.Aliased)?$.sql:$),f`, `)})`;g(l,Rt)&&(M=f`coalesce(json_group_array(${M}), json_array())`);let z=[{dbKey:"data",tsKey:"data",field:M.as("data"),isJson:!0,relationTableTsKey:i.tsName,selection:d}];m!==void 0||x!==void 0||N.length>0?(q=this.buildSelectQuery({table:Xr(n,u),fields:{},fieldsFlat:[{path:[],field:f.raw("*")}],where:C,limit:m,offset:x,orderBy:N,setOperators:[]}),C=void 0,m=void 0,x=void 0,N=void 0):q=Xr(n,u),q=this.buildSelectQuery({table:g(q,V)?q:new te(q,{},u),fields:{},fieldsFlat:z.map(({field:$})=>({path:[],field:g($,B)?Fe($,u):$})),joins:O,where:C,limit:m,offset:x,orderBy:N,setOperators:[]})}else q=this.buildSelectQuery({table:Xr(n,u),fields:{},fieldsFlat:d.map(({field:M})=>({path:[],field:g(M,B)?Fe(M,u):M})),joins:O,where:C,limit:m,offset:x,orderBy:N,setOperators:[]});return{tableTsKey:i.tsName,sql:q,selection:d}}};o(vr,"SQLiteDialect"),$d=p,h(vr,$d,"SQLiteDialect");var Md,wr=class extends vr{migrate(e,t,s){let n=s===void 0||typeof s=="string"?"__drizzle_migrations":s.migrationsTable??"__drizzle_migrations",i=f`
			CREATE TABLE IF NOT EXISTS ${f.identifier(n)} (
				id SERIAL PRIMARY KEY,
				hash text NOT NULL,
				created_at numeric
			)
		`;t.run(i);let u=t.values(f`SELECT id, hash, created_at FROM ${f.identifier(n)} ORDER BY created_at DESC LIMIT 1`)[0]??void 0;t.run(f`BEGIN`);try{for(let l of e)if(!u||Number(u[2])<l.folderMillis){for(let c of l.sql)t.run(f.raw(c));t.run(f`INSERT INTO ${f.identifier(n)} ("hash", "created_at") VALUES(${l.hash}, ${l.folderMillis})`)}t.run(f`COMMIT`)}catch(l){throw t.run(f`ROLLBACK`),l}}};o(wr,"SQLiteSyncDialect"),Md=p,h(wr,Md,"SQLiteSyncDialect");var Ld,Ar=class extends vr{async migrate(e,t,s){let n=typeof s=="string"?"__drizzle_migrations":s.migrationsTable??"__drizzle_migrations",i=f`
			CREATE TABLE IF NOT EXISTS ${f.identifier(n)} (
				id SERIAL PRIMARY KEY,
				hash text NOT NULL,
				created_at numeric
			)
		`;await t.run(i);let u=(await t.values(f`SELECT id, hash, created_at FROM ${f.identifier(n)} ORDER BY created_at DESC LIMIT 1`))[0]??void 0;await t.transaction(async l=>{for(let c of e)if(!u||Number(u[2])<c.folderMillis){for(let d of c.sql)await l.run(f.raw(d));await l.run(f`INSERT INTO ${f.identifier(n)} ("hash", "created_at") VALUES(${c.hash}, ${c.folderMillis})`)}})}};o(Ar,"SQLiteAsyncDialect"),Ld=p,h(Ar,Ld,"SQLiteAsyncDialect");var Pd,Dr=class{getSelectedFields(){return this._.selectedFields}};o(Dr,"TypedQueryBuilder"),Pd=p,h(Dr,Pd,"TypedQueryBuilder");var Qd,pe=class{fields;session;dialect;withList;distinct;constructor(e){this.fields=e.fields,this.session=e.session,this.dialect=e.dialect,this.withList=e.withList,this.distinct=e.distinct}from(e){let t=!!this.fields,s;return this.fields?s=this.fields:g(e,te)?s=Object.fromEntries(Object.keys(e[Y].selection).map(n=>[n,e[n]])):g(e,ot)?s=e[X].selectedFields:g(e,D)?s={}:s=fn(e),new _r({table:e,fields:s,isPartialSelect:t,session:this.session,dialect:this.dialect,withList:this.withList,distinct:this.distinct})}};o(pe,"SQLiteSelectBuilder"),Qd=p,h(pe,Qd,"SQLiteSelectBuilder");var Gd,bs=class extends Dr{_;config;joinsNotNullableMap;tableName;isPartialSelect;session;dialect;constructor({table:e,fields:t,isPartialSelect:s,session:n,dialect:i,withList:a,distinct:u}){super(),this.config={withList:a,table:e,fields:{...t},distinct:u,setOperators:[]},this.isPartialSelect=s,this.session=n,this.dialect=i,this._={selectedFields:t},this.tableName=li(e),this.joinsNotNullableMap=typeof this.tableName=="string"?{[this.tableName]:!0}:{}}createJoin(e){return(t,s)=>{let n=this.tableName,i=li(t);if(typeof i=="string"&&this.config.joins?.some(a=>a.alias===i))throw new Error(`Alias "${i}" is already used in this query`);if(!this.isPartialSelect&&(Object.keys(this.joinsNotNullableMap).length===1&&typeof n=="string"&&(this.config.fields={[n]:this.config.fields}),typeof i=="string"&&!g(t,D))){let a=g(t,te)?t[Y].selection:g(t,fe)?t[X].selectedFields:t[v.Symbol.Columns];this.config.fields[i]=a}if(typeof s=="function"&&(s=s(new Proxy(this.config.fields,new oe({sqlAliasedBehavior:"sql",sqlBehavior:"sql"})))),this.config.joins||(this.config.joins=[]),this.config.joins.push({on:s,table:t,joinType:e,alias:i}),typeof i=="string")switch(e){case"left":{this.joinsNotNullableMap[i]=!1;break}case"right":{this.joinsNotNullableMap=Object.fromEntries(Object.entries(this.joinsNotNullableMap).map(([a])=>[a,!1])),this.joinsNotNullableMap[i]=!0;break}case"inner":{this.joinsNotNullableMap[i]=!0;break}case"full":{this.joinsNotNullableMap=Object.fromEntries(Object.entries(this.joinsNotNullableMap).map(([a])=>[a,!1])),this.joinsNotNullableMap[i]=!1;break}}return this}}leftJoin=this.createJoin("left");rightJoin=this.createJoin("right");innerJoin=this.createJoin("inner");fullJoin=this.createJoin("full");createSetOperator(e,t){return s=>{let n=typeof s=="function"?s(zd()):s;if(!ui(this.getSelectedFields(),n.getSelectedFields()))throw new Error("Set operator error (union / intersect / except): selected fields are not the same or are in a different order");return this.config.setOperators.push({type:e,isAll:t,rightSelect:n}),this}}union=this.createSetOperator("union",!1);unionAll=this.createSetOperator("union",!0);intersect=this.createSetOperator("intersect",!1);except=this.createSetOperator("except",!1);addSetOperators(e){return this.config.setOperators.push(...e),this}where(e){return typeof e=="function"&&(e=e(new Proxy(this.config.fields,new oe({sqlAliasedBehavior:"sql",sqlBehavior:"sql"})))),this.config.where=e,this}having(e){return typeof e=="function"&&(e=e(new Proxy(this.config.fields,new oe({sqlAliasedBehavior:"sql",sqlBehavior:"sql"})))),this.config.having=e,this}groupBy(...e){if(typeof e[0]=="function"){let t=e[0](new Proxy(this.config.fields,new oe({sqlAliasedBehavior:"alias",sqlBehavior:"sql"})));this.config.groupBy=Array.isArray(t)?t:[t]}else this.config.groupBy=e;return this}orderBy(...e){if(typeof e[0]=="function"){let t=e[0](new Proxy(this.config.fields,new oe({sqlAliasedBehavior:"alias",sqlBehavior:"sql"}))),s=Array.isArray(t)?t:[t];this.config.setOperators.length>0?this.config.setOperators.at(-1).orderBy=s:this.config.orderBy=s}else{let t=e;this.config.setOperators.length>0?this.config.setOperators.at(-1).orderBy=t:this.config.orderBy=t}return this}limit(e){return this.config.setOperators.length>0?this.config.setOperators.at(-1).limit=e:this.config.limit=e,this}offset(e){return this.config.setOperators.length>0?this.config.setOperators.at(-1).offset=e:this.config.offset=e,this}getSQL(){return this.dialect.buildSelectQuery(this.config)}toSQL(){let{typings:e,...t}=this.dialect.sqlToQuery(this.getSQL());return t}as(e){return new Proxy(new te(this.getSQL(),this.config.fields,e),new oe({alias:e,sqlAliasedBehavior:"alias",sqlBehavior:"error"}))}getSelectedFields(){return new Proxy(this.config.fields,new oe({alias:this.tableName,sqlAliasedBehavior:"alias",sqlBehavior:"error"}))}$dynamic(){return this}};o(bs,"SQLiteSelectQueryBuilderBase"),Gd=p,h(bs,Gd,"SQLiteSelectQueryBuilder");var Wd,_r=class extends bs{_prepare(e=!0){if(!this.session)throw new Error("Cannot execute a query on a query builder. Please use a database instance instead.");let t=_e(this.config.fields),s=this.session[e?"prepareOneTimeQuery":"prepareQuery"](this.dialect.sqlToQuery(this.getSQL()),t,"all");return s.joinsNotNullableMap=this.joinsNotNullableMap,s}prepare(){return this._prepare(!1)}run=e=>this._prepare().run(e);all=e=>this._prepare().all(e);get=e=>this._prepare().get(e);values=e=>this._prepare().values(e);async execute(){return this.all()}};o(_r,"SQLiteSelectBase"),Wd=p,h(_r,Wd,"SQLiteSelect");ao(_r,[se]);function pn(r,e){return(t,s,...n)=>{let i=[s,...n].map(a=>({type:r,isAll:e,rightSelect:a}));for(let a of i)if(!ui(t.getSelectedFields(),a.rightSelect.getSelectedFields()))throw new Error("Set operator error (union / intersect / except): selected fields are not the same or are in a different order");return t.addSetOperators(i)}}o(pn,"createSetOperator");var zd=o(()=>({union:Kd,unionAll:Ud,intersect:Vd,except:Hd}),"getSQLiteSetOperators"),Kd=pn("union",!1),Ud=pn("union",!0),Vd=pn("intersect",!1),Hd=pn("except",!1);var Jd,Er=class{dialect;$with(e){let t=this;return{as(s){return typeof s=="function"&&(s=s(t)),new Proxy(new nt(s.getSQL(),s.getSelectedFields(),e,!0),new oe({alias:e,sqlAliasedBehavior:"alias",sqlBehavior:"error"}))}}}with(...e){let t=this;function s(i){return new pe({fields:i??void 0,session:void 0,dialect:t.getDialect(),withList:e})}o(s,"select");function n(i){return new pe({fields:i??void 0,session:void 0,dialect:t.getDialect(),withList:e,distinct:!0})}return o(n,"selectDistinct"),{select:s,selectDistinct:n}}select(e){return new pe({fields:e??void 0,session:void 0,dialect:this.getDialect()})}selectDistinct(e){return new pe({fields:e??void 0,session:void 0,dialect:this.getDialect(),distinct:!0})}getDialect(){return this.dialect||(this.dialect=new wr),this.dialect}};o(Er,"QueryBuilder"),Jd=p,h(Er,Jd,"SQLiteQueryBuilder");var Yd,It=class{constructor(e,t,s,n){this.table=e,this.session=t,this.dialect=s,this.withList=n}set(e){return new xs(this.table,dn(this.table,e),this.session,this.dialect,this.withList)}};o(It,"SQLiteUpdateBuilder"),Yd=p,h(It,Yd,"SQLiteUpdateBuilder");var Xd,xs=class extends se{constructor(e,t,s,n,i){super(),this.session=s,this.dialect=n,this.config={set:t,table:e,withList:i}}config;where(e){return this.config.where=e,this}returning(e=this.config.table[V.Symbol.Columns]){return this.config.returning=_e(e),this}getSQL(){return this.dialect.buildUpdateQuery(this.config)}toSQL(){let{typings:e,...t}=this.dialect.sqlToQuery(this.getSQL());return t}_prepare(e=!0){return this.session[e?"prepareOneTimeQuery":"prepareQuery"](this.dialect.sqlToQuery(this.getSQL()),this.config.returning,this.config.returning?"all":"run")}prepare(){return this._prepare(!1)}run=e=>this._prepare().run(e);all=e=>this._prepare().all(e);get=e=>this._prepare().get(e);values=e=>this._prepare().values(e);async execute(){return this.config.returning?this.all():this.run()}$dynamic(){return this}};o(xs,"SQLiteUpdateBase"),Xd=p,h(xs,Xd,"SQLiteUpdate");var Zd,Cr=class{constructor(e,t,s,n,i,a,u,l){this.mode=e,this.fullSchema=t,this.schema=s,this.tableNamesMap=n,this.table=i,this.tableConfig=a,this.dialect=u,this.session=l}findMany(e){return this.mode==="sync"?new Sr(this.fullSchema,this.schema,this.tableNamesMap,this.table,this.tableConfig,this.dialect,this.session,e||{},"many"):new $t(this.fullSchema,this.schema,this.tableNamesMap,this.table,this.tableConfig,this.dialect,this.session,e||{},"many")}findFirst(e){return this.mode==="sync"?new Sr(this.fullSchema,this.schema,this.tableNamesMap,this.table,this.tableConfig,this.dialect,this.session,e?{...e,limit:1}:{limit:1},"first"):new $t(this.fullSchema,this.schema,this.tableNamesMap,this.table,this.tableConfig,this.dialect,this.session,e?{...e,limit:1}:{limit:1},"first")}};o(Cr,"RelationalQueryBuilder"),Zd=p,h(Cr,Zd,"SQLiteAsyncRelationalQueryBuilder");var ef,$t=class extends se{constructor(e,t,s,n,i,a,u,l,c){super(),this.fullSchema=e,this.schema=t,this.tableNamesMap=s,this.table=n,this.tableConfig=i,this.dialect=a,this.session=u,this.config=l,this.mode=c}mode;getSQL(){return this.dialect.buildRelationalQuery({fullSchema:this.fullSchema,schema:this.schema,tableNamesMap:this.tableNamesMap,table:this.table,tableConfig:this.tableConfig,queryConfig:this.config,tableAlias:this.tableConfig.tsName}).sql}_prepare(e=!1){let{query:t,builtQuery:s}=this._toSQL();return this.session[e?"prepareOneTimeQuery":"prepareQuery"](s,void 0,this.mode==="first"?"get":"all",(n,i)=>{let a=n.map(u=>ln(this.schema,this.tableConfig,u,t.selection,i));return this.mode==="first"?a[0]:a})}prepare(){return this._prepare(!1)}_toSQL(){let e=this.dialect.buildRelationalQuery({fullSchema:this.fullSchema,schema:this.schema,tableNamesMap:this.tableNamesMap,table:this.table,tableConfig:this.tableConfig,queryConfig:this.config,tableAlias:this.tableConfig.tsName}),t=this.dialect.sqlToQuery(e.sql);return{query:e,builtQuery:t}}toSQL(){return this._toSQL().builtQuery}executeRaw(){return this.mode==="first"?this._prepare(!1).get():this._prepare(!1).all()}async execute(){return this.executeRaw()}};o($t,"SQLiteRelationalQuery"),ef=p,h($t,ef,"SQLiteAsyncRelationalQuery");var tf,Sr=class extends $t{sync(){return this.executeRaw()}};o(Sr,"SQLiteSyncRelationalQuery"),tf=p,h(Sr,tf,"SQLiteSyncRelationalQuery");var rf,Je=class extends se{constructor(e,t,s,n,i){super(),this.execute=e,this.getSQL=t,this.dialect=n,this.mapBatchResult=i,this.config={action:s}}config;getQuery(){return{...this.dialect.sqlToQuery(this.getSQL()),method:this.config.action}}mapResult(e,t){return t?this.mapBatchResult(e):e}_prepare(){return this}};o(Je,"SQLiteRaw"),rf=p,h(Je,rf,"SQLiteRaw");var sf,ut=class{constructor(e,t,s,n){this.resultKind=e,this.dialect=t,this.session=s,this._=n?{schema:n.schema,tableNamesMap:n.tableNamesMap}:{schema:void 0,tableNamesMap:{}},this.query={};let i=this.query;if(this._.schema)for(let[a,u]of Object.entries(this._.schema))i[a]=new Cr(e,n.fullSchema,this._.schema,this._.tableNamesMap,n.fullSchema[a],u,t,s)}query;$with(e){return{as(t){return typeof t=="function"&&(t=t(new Er)),new Proxy(new nt(t.getSQL(),t.getSelectedFields(),e,!0),new oe({alias:e,sqlAliasedBehavior:"alias",sqlBehavior:"error"}))}}}with(...e){let t=this;function s(l){return new pe({fields:l??void 0,session:t.session,dialect:t.dialect,withList:e})}o(s,"select");function n(l){return new pe({fields:l??void 0,session:t.session,dialect:t.dialect,withList:e,distinct:!0})}o(n,"selectDistinct");function i(l){return new It(l,t.session,t.dialect,e)}o(i,"update");function a(l){return new jt(l,t.session,t.dialect,e)}o(a,"insert");function u(l){return new Ft(l,t.session,t.dialect,e)}return o(u,"delete_"),{select:s,selectDistinct:n,update:i,insert:a,delete:u}}select(e){return new pe({fields:e??void 0,session:this.session,dialect:this.dialect})}selectDistinct(e){return new pe({fields:e??void 0,session:this.session,dialect:this.dialect,distinct:!0})}update(e){return new It(e,this.session,this.dialect)}insert(e){return new jt(e,this.session,this.dialect)}delete(e){return new Ft(e,this.session,this.dialect)}run(e){let t=e.getSQL();return this.resultKind==="async"?new Je(async()=>this.session.run(t),()=>t,"run",this.dialect,this.session.extractRawRunValueFromBatchResult.bind(this.session)):this.session.run(t)}all(e){let t=e.getSQL();return this.resultKind==="async"?new Je(async()=>this.session.all(t),()=>t,"all",this.dialect,this.session.extractRawAllValueFromBatchResult.bind(this.session)):this.session.all(t)}get(e){let t=e.getSQL();return this.resultKind==="async"?new Je(async()=>this.session.get(t),()=>t,"get",this.dialect,this.session.extractRawGetValueFromBatchResult.bind(this.session)):this.session.get(t)}values(e){let t=e.getSQL();return this.resultKind==="async"?new Je(async()=>this.session.values(t),()=>t,"values",this.dialect,this.session.extractRawValuesValueFromBatchResult.bind(this.session)):this.session.values(t)}transaction(e,t){return this.session.transaction(e,t)}};o(ut,"BaseSQLiteDatabase"),sf=p,h(ut,sf,"BaseSQLiteDatabase");var nf,vs=class extends se{constructor(e){super(),this.resultCb=e}async execute(){return this.resultCb()}sync(){return this.resultCb()}};o(vs,"ExecuteResultSync"),nf=p,h(vs,nf,"ExecuteResultSync");var af,Tr=class{constructor(e,t,s){this.mode=e,this.executeMethod=t,this.query=s}joinsNotNullableMap;getQuery(){return this.query}mapRunResult(e,t){return e}mapAllResult(e,t){throw new Error("Not implemented")}mapGetResult(e,t){throw new Error("Not implemented")}execute(e){return this.mode==="async"?this[this.executeMethod](e):new vs(()=>this[this.executeMethod](e))}mapResult(e,t){switch(this.executeMethod){case"run":return this.mapRunResult(e,t);case"all":return this.mapAllResult(e,t);case"get":return this.mapGetResult(e,t)}}};o(Tr,"SQLitePreparedQuery"),af=p,h(Tr,af,"PreparedQuery");var of,Nr=class{constructor(e){this.dialect=e}prepareOneTimeQuery(e,t,s){return this.prepareQuery(e,t,s)}run(e){let t=this.dialect.sqlToQuery(e);try{return this.prepareOneTimeQuery(t,void 0,"run").run()}catch(s){throw new Qe({cause:s,message:`Failed to run the query '${t.sql}'`})}}extractRawRunValueFromBatchResult(e){return e}all(e){return this.prepareOneTimeQuery(this.dialect.sqlToQuery(e),void 0,"run").all()}extractRawAllValueFromBatchResult(e){throw new Error("Not implemented")}get(e){return this.prepareOneTimeQuery(this.dialect.sqlToQuery(e),void 0,"run").get()}extractRawGetValueFromBatchResult(e){throw new Error("Not implemented")}values(e){return this.prepareOneTimeQuery(this.dialect.sqlToQuery(e),void 0,"run").values()}extractRawValuesValueFromBatchResult(e){throw new Error("Not implemented")}};o(Nr,"SQLiteSession"),of=p,h(Nr,of,"SQLiteSession");var uf,kr=class extends ut{constructor(e,t,s,n,i=0){super(e,t,s,n),this.schema=n,this.nestedIndex=i}rollback(){throw new pr}};o(kr,"SQLiteTransaction"),uf=p,h(kr,uf,"SQLiteTransaction");var oo=Symbol.for("drizzle:MySqlInlineForeignKeys"),lf,$e=class extends v{[(lf=p,v.Symbol.Columns)];[oo]=[];[v.Symbol.ExtraConfigBuilder]=void 0};o($e,"MySqlTable"),h($e,lf,"MySqlTable"),h($e,"Symbol",Object.assign({},v.Symbol,{InlineForeignKeys:oo}));var cf,Rr=class{reference;_onUpdate;_onDelete;constructor(e,t){this.reference=()=>{let{name:s,columns:n,foreignColumns:i}=e();return{name:s,columns:n,foreignTable:i[0].table,foreignColumns:i}},t&&(this._onUpdate=t.onUpdate,this._onDelete=t.onDelete)}onUpdate(e){return this._onUpdate=e,this}onDelete(e){return this._onDelete=e,this}build(e){return new ws(e,this)}};o(Rr,"ForeignKeyBuilder"),cf=p,h(Rr,cf,"MySqlForeignKeyBuilder");var df,ws=class{constructor(e,t){this.table=e,this.reference=t.reference,this.onUpdate=t._onUpdate,this.onDelete=t._onDelete}reference;onUpdate;onDelete;getName(){let{name:e,columns:t,foreignColumns:s}=this.reference(),n=t.map(u=>u.name),i=s.map(u=>u.name),a=[this.table[$e.Symbol.Name],...n,s[0].table[$e.Symbol.Name],...i];return e??`${a.join("_")}_fk`}};o(ws,"ForeignKey"),df=p,h(ws,df,"MySqlForeignKey");function hi(r,e){return`${r[$e.Symbol.Name]}_${e.join("_")}_unique`}o(hi,"uniqueKeyName");var ff,As=class{constructor(e,t){this.name=t,this.columns=e}columns;build(e){return new Ds(e,this.columns,this.name)}};o(As,"UniqueConstraintBuilder"),ff=p,h(As,ff,"MySqlUniqueConstraintBuilder");var hf,mn=class{name;constructor(e){this.name=e}on(...e){return new As(e,this.name)}};o(mn,"UniqueOnConstraintBuilder"),hf=p,h(mn,hf,"MySqlUniqueOnConstraintBuilder");var pf,Ds=class{constructor(e,t,s){this.table=e,this.columns=t,this.name=s??hi(this.table,this.columns.map(n=>n.name))}columns;name;nullsNotDistinct=!1;getName(){return this.name}};o(Ds,"UniqueConstraint"),pf=p,h(Ds,pf,"MySqlUniqueConstraint");var mf,Se=class extends je{foreignKeyConfigs=[];references(e,t={}){return this.foreignKeyConfigs.push({ref:e,actions:t}),this}unique(e){return this.config.isUnique=!0,this.config.uniqueName=e,this}buildForeignKeys(e,t){return this.foreignKeyConfigs.map(({ref:s,actions:n})=>((i,a)=>{let u=new Rr(()=>{let l=i();return{columns:[e],foreignColumns:[l]}});return a.onUpdate&&u.onUpdate(a.onUpdate),a.onDelete&&u.onDelete(a.onDelete),u.build(t)})(s,n))}};o(Se,"MySqlColumnBuilder"),mf=p,h(Se,mf,"MySqlColumnBuilder");var gf,Te=class extends B{constructor(e,t){t.uniqueName||(t.uniqueName=hi(e,[t.name])),super(e,t),this.table=e}};o(Te,"MySqlColumn"),gf=p,h(Te,gf,"MySqlColumn");var yf,gn=class extends Se{constructor(e,t,s){super(e,t,s),this.config.autoIncrement=!1}autoincrement(){return this.config.autoIncrement=!0,this.config.hasDefault=!0,this}};o(gn,"MySqlColumnBuilderWithAutoIncrement"),yf=p,h(gn,yf,"MySqlColumnBuilderWithAutoIncrement");var bf,yn=class extends Te{autoIncrement=this.config.autoIncrement};o(yn,"MySqlColumnWithAutoIncrement"),bf=p,h(yn,bf,"MySqlColumnWithAutoIncrement");var xf,bn=class extends Se{constructor(e,t){super(e,"string","MySqlChar"),this.config.length=t.length,this.config.enum=t.enum}build(e){return new Mt(e,this.config)}};o(bn,"MySqlCharBuilder"),xf=p,h(bn,xf,"MySqlCharBuilder");var vf,Mt=class extends Te{length=this.config.length;enumValues=this.config.enum;getSQLType(){return this.length===void 0?"char":`char(${this.length})`}};o(Mt,"MySqlChar"),vf=p,h(Mt,vf,"MySqlChar");var wf,xn=class extends Se{constructor(e,t){super(e,"string","MySqlVarBinary"),this.config.length=t?.length}build(e){return new Lt(e,this.config)}};o(xn,"MySqlVarBinaryBuilder"),wf=p,h(xn,wf,"MySqlVarBinaryBuilder");var Af,Lt=class extends Te{length=this.config.length;getSQLType(){return this.length===void 0?"varbinary":`varbinary(${this.length})`}};o(Lt,"MySqlVarBinary"),Af=p,h(Lt,Af,"MySqlVarBinary");var Df,vn=class extends Se{constructor(e,t){super(e,"string","MySqlVarChar"),this.config.length=t.length,this.config.enum=t.enum}build(e){return new Pt(e,this.config)}};o(vn,"MySqlVarCharBuilder"),Df=p,h(vn,Df,"MySqlVarCharBuilder");var _f,Pt=class extends Te{length=this.config.length;enumValues=this.config.enum;getSQLType(){return this.length===void 0?"varchar":`varchar(${this.length})`}};o(Pt,"MySqlVarChar"),_f=p,h(Pt,_f,"MySqlVarChar");var Ef,Or=class{reference;_onUpdate="no action";_onDelete="no action";constructor(e,t){this.reference=()=>{let{name:s,columns:n,foreignColumns:i}=e();return{name:s,columns:n,foreignTable:i[0].table,foreignColumns:i}},t&&(this._onUpdate=t.onUpdate,this._onDelete=t.onDelete)}onUpdate(e){return this._onUpdate=e===void 0?"no action":e,this}onDelete(e){return this._onDelete=e===void 0?"no action":e,this}build(e){return new _s(e,this)}};o(Or,"ForeignKeyBuilder"),Ef=p,h(Or,Ef,"PgForeignKeyBuilder");var Cf,_s=class{constructor(e,t){this.table=e,this.reference=t.reference,this.onUpdate=t._onUpdate,this.onDelete=t._onDelete}reference;onUpdate;onDelete;getName(){let{name:e,columns:t,foreignColumns:s}=this.reference(),n=t.map(u=>u.name),i=s.map(u=>u.name),a=[this.table[De.Symbol.Name],...n,s[0].table[De.Symbol.Name],...i];return e??`${a.join("_")}_fk`}};o(_s,"ForeignKey"),Cf=p,h(_s,Cf,"PgForeignKey");function pi(r,e){return`${r[De.Symbol.Name]}_${e.join("_")}_unique`}o(pi,"uniqueKeyName");var Sf,Es=class{constructor(e,t){this.name=t,this.columns=e}columns;nullsNotDistinctConfig=!1;nullsNotDistinct(){return this.nullsNotDistinctConfig=!0,this}build(e){return new Cs(e,this.columns,this.nullsNotDistinctConfig,this.name)}};o(Es,"UniqueConstraintBuilder"),Sf=p,h(Es,Sf,"PgUniqueConstraintBuilder");var Tf,wn=class{name;constructor(e){this.name=e}on(...e){return new Es(e,this.name)}};o(wn,"UniqueOnConstraintBuilder"),Tf=p,h(wn,Tf,"PgUniqueOnConstraintBuilder");var Nf,Cs=class{constructor(e,t,s,n){this.table=e,this.columns=t,this.name=n??pi(this.table,this.columns.map(i=>i.name)),this.nullsNotDistinct=s}columns;name;nullsNotDistinct=!1;getName(){return this.name}};o(Cs,"UniqueConstraint"),Nf=p,h(Cs,Nf,"PgUniqueConstraint");function uo(r,e,t){for(let s=e;s<r.length;s++){let n=r[s];if(n==="\\"){s++;continue}if(n==='"')return[r.slice(e,s).replace(/\\/g,""),s+1];if(!t&&(n===","||n==="}"))return[r.slice(e,s).replace(/\\/g,""),s]}return[r.slice(e).replace(/\\/g,""),r.length]}o(uo,"parsePgArrayValue");function lo(r,e=0){let t=[],s=e,n=!1;for(;s<r.length;){let i=r[s];if(i===","){(n||s===e)&&t.push(""),n=!0,s++;continue}if(n=!1,i==="\\"){s+=2;continue}if(i==='"'){let[l,c]=uo(r,s+1,!0);t.push(l),s=c;continue}if(i==="}")return[t,s+1];if(i==="{"){let[l,c]=lo(r,s+1);t.push(l),s=c;continue}let[a,u]=uo(r,s,!1);t.push(a),s=u}return[t,s]}o(lo,"parsePgNestedArray");function co(r){let[e]=lo(r,1);return e}o(co,"parsePgArray");function mi(r){return`{${r.map(e=>Array.isArray(e)?mi(e):typeof e=="string"?`"${e.replace(/\\/g,"\\\\").replace(/"/g,'\\"')}"`:`${e}`).join(",")}}`}o(mi,"makePgArray");var kf,Ne=class extends je{foreignKeyConfigs=[];array(e){return new Ss(this.config.name,this,e)}references(e,t={}){return this.foreignKeyConfigs.push({ref:e,actions:t}),this}unique(e,t){return this.config.isUnique=!0,this.config.uniqueName=e,this.config.uniqueType=t?.nulls,this}buildForeignKeys(e,t){return this.foreignKeyConfigs.map(({ref:s,actions:n})=>tn((i,a)=>{let u=new Or(()=>{let l=i();return{columns:[e],foreignColumns:[l]}});return a.onUpdate&&u.onUpdate(a.onUpdate),a.onDelete&&u.onDelete(a.onDelete),u.build(t)},s,n))}};o(Ne,"PgColumnBuilder"),kf=p,h(Ne,kf,"PgColumnBuilder");var Rf,ke=class extends B{constructor(e,t){t.uniqueName||(t.uniqueName=pi(e,[t.name])),super(e,t),this.table=e}};o(ke,"PgColumn"),Rf=p,h(ke,Rf,"PgColumn");var Of,Ss=class extends Ne{constructor(e,t,s){super(e,"array","PgArray"),this.config.baseBuilder=t,this.config.size=s}build(e){let t=this.config.baseBuilder.build(e);return new Ts(e,this.config,t)}};o(Ss,"PgArrayBuilder"),Of=p,h(Ss,Of,"PgArrayBuilder");var Bf,gi=class extends ke{constructor(e,t,s,n){super(e,t),this.baseColumn=s,this.range=n,this.size=t.size}size;getSQLType(){return`${this.baseColumn.getSQLType()}[${typeof this.size=="number"?this.size:""}]`}mapFromDriverValue(e){return typeof e=="string"&&(e=co(e)),e.map(t=>this.baseColumn.mapFromDriverValue(t))}mapToDriverValue(e,t=!1){let s=e.map(n=>n===null?null:g(this.baseColumn,gi)?this.baseColumn.mapToDriverValue(n,!0):this.baseColumn.mapToDriverValue(n));return t?s:mi(s)}},Ts=gi;o(Ts,"PgArray"),Bf=p,h(Ts,Bf,"PgArray");var qf,An=class extends Ne{constructor(e,t){super(e,"string","PgChar"),this.config.length=t.length,this.config.enumValues=t.enum}build(e){return new zt(e,this.config)}};o(An,"PgCharBuilder"),qf=p,h(An,qf,"PgCharBuilder");var Ff,zt=class extends ke{length=this.config.length;enumValues=this.config.enumValues;getSQLType(){return this.length===void 0?"char":`char(${this.length})`}};o(zt,"PgChar"),Ff=p,h(zt,Ff,"PgChar");var jf,Dn=class extends Ne{constructor(e){super(e,"string","PgUUID")}defaultRandom(){return this.default(f`gen_random_uuid()`)}build(e){return new Kt(e,this.config)}};o(Dn,"PgUUIDBuilder"),jf=p,h(Dn,jf,"PgUUIDBuilder");var If,Kt=class extends ke{getSQLType(){return"uuid"}};o(Kt,"PgUUID"),If=p,h(Kt,If,"PgUUID");var $f,_n=class extends Ne{constructor(e,t){super(e,"string","PgVarchar"),this.config.length=t.length,this.config.enumValues=t.enum}build(e){return new Ut(e,this.config)}};o(_n,"PgVarcharBuilder"),$f=p,h(_n,$f,"PgVarcharBuilder");var Mf,Ut=class extends ke{length=this.config.length;enumValues=this.config.enumValues;getSQLType(){return this.length===void 0?"varchar":`varchar(${this.length})`}};o(Ut,"PgVarchar"),Mf=p,h(Ut,Mf,"PgVarchar");var H={};lu(H,{BRAND:()=>dh,DIRTY:()=>Vt,EMPTY_PATH:()=>Kf,INVALID:()=>_,NEVER:()=>Hh,OK:()=>ue,ParseStatus:()=>Z,Schema:()=>k,ZodAny:()=>Ze,ZodArray:()=>ge,ZodBigInt:()=>Oe,ZodBoolean:()=>ct,ZodBranded:()=>jr,ZodCatch:()=>vt,ZodDate:()=>Le,ZodDefault:()=>xt,ZodDiscriminatedUnion:()=>Gt,ZodEffects:()=>ve,ZodEnum:()=>Be,ZodError:()=>ie,ZodFirstPartyTypeKind:()=>E,ZodFunction:()=>et,ZodIntersection:()=>pt,ZodIssueCode:()=>y,ZodLazy:()=>gt,ZodLiteral:()=>yt,ZodMap:()=>Wt,ZodNaN:()=>Jt,ZodNativeEnum:()=>bt,ZodNever:()=>Ee,ZodNull:()=>ft,ZodNullable:()=>qe,ZodNumber:()=>Re,ZodObject:()=>P,ZodOptional:()=>we,ZodParsedType:()=>w,ZodPipeline:()=>wt,ZodPromise:()=>tt,ZodReadonly:()=>At,ZodRecord:()=>mt,ZodSchema:()=>k,ZodSet:()=>ze,ZodString:()=>me,ZodSymbol:()=>Ht,ZodTransformer:()=>ve,ZodTuple:()=>xe,ZodType:()=>k,ZodUndefined:()=>dt,ZodUnion:()=>ht,ZodUnknown:()=>Pe,ZodVoid:()=>Qt,addIssueToContext:()=>b,any:()=>vh,array:()=>Yt,bigint:()=>mh,boolean:()=>wo,coerce:()=>Vh,custom:()=>xo,date:()=>gh,datetimeRegex:()=>yo,defaultErrorMap:()=>Ye,discriminatedUnion:()=>Ch,effect:()=>Ih,enum:()=>qh,function:()=>Rh,getErrorMap:()=>Br,getParsedType:()=>Me,instanceof:()=>hh,intersection:()=>Sh,isAborted:()=>En,isAsync:()=>qr,isDirty:()=>Cn,isValid:()=>lt,late:()=>fh,lazy:()=>Oh,literal:()=>Bh,makeIssue:()=>Ns,map:()=>Nh,nan:()=>ph,nativeEnum:()=>Fh,never:()=>Ah,null:()=>xh,nullable:()=>Mh,number:()=>vo,object:()=>vi,objectUtil:()=>yi,oboolean:()=>Uh,onumber:()=>Kh,optional:()=>$h,ostring:()=>zh,pipeline:()=>Ph,preprocess:()=>Lh,promise:()=>jh,quotelessJson:()=>Lf,record:()=>wi,set:()=>kh,setErrorMap:()=>zf,strictObject:()=>_h,string:()=>Ir,symbol:()=>yh,transformer:()=>Ih,tuple:()=>Th,undefined:()=>bh,union:()=>Eh,unknown:()=>wh,util:()=>R,void:()=>Dh});var R;(function(r){r.assertEqual=n=>{};function e(n){}o(e,"assertIs"),r.assertIs=e;function t(n){throw new Error}o(t,"assertNever"),r.assertNever=t,r.arrayToEnum=n=>{let i={};for(let a of n)i[a]=a;return i},r.getValidEnumValues=n=>{let i=r.objectKeys(n).filter(u=>typeof n[n[u]]!="number"),a={};for(let u of i)a[u]=n[u];return r.objectValues(a)},r.objectValues=n=>r.objectKeys(n).map(function(i){return n[i]}),r.objectKeys=typeof Object.keys=="function"?n=>Object.keys(n):n=>{let i=[];for(let a in n)Object.prototype.hasOwnProperty.call(n,a)&&i.push(a);return i},r.find=(n,i)=>{for(let a of n)if(i(a))return a},r.isInteger=typeof Number.isInteger=="function"?n=>Number.isInteger(n):n=>typeof n=="number"&&Number.isFinite(n)&&Math.floor(n)===n;function s(n,i=" | "){return n.map(a=>typeof a=="string"?`'${a}'`:a).join(i)}o(s,"joinValues"),r.joinValues=s,r.jsonStringifyReplacer=(n,i)=>typeof i=="bigint"?i.toString():i})(R||(R={}));var yi;(function(r){r.mergeShapes=(e,t)=>({...e,...t})})(yi||(yi={}));var w=R.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),Me=o(r=>{switch(typeof r){case"undefined":return w.undefined;case"string":return w.string;case"number":return Number.isNaN(r)?w.nan:w.number;case"boolean":return w.boolean;case"function":return w.function;case"bigint":return w.bigint;case"symbol":return w.symbol;case"object":return Array.isArray(r)?w.array:r===null?w.null:r.then&&typeof r.then=="function"&&r.catch&&typeof r.catch=="function"?w.promise:typeof Map<"u"&&r instanceof Map?w.map:typeof Set<"u"&&r instanceof Set?w.set:typeof Date<"u"&&r instanceof Date?w.date:w.object;default:return w.unknown}},"getParsedType");var y=R.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),Lf=o(r=>JSON.stringify(r,null,2).replace(/"([^"]+)":/g,"$1:"),"quotelessJson"),ie=class extends Error{get errors(){return this.issues}constructor(e){super(),this.issues=[],this.addIssue=s=>{this.issues=[...this.issues,s]},this.addIssues=(s=[])=>{this.issues=[...this.issues,...s]};let t=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,t):this.__proto__=t,this.name="ZodError",this.issues=e}format(e){let t=e||function(i){return i.message},s={_errors:[]},n=o(i=>{for(let a of i.issues)if(a.code==="invalid_union")a.unionErrors.map(n);else if(a.code==="invalid_return_type")n(a.returnTypeError);else if(a.code==="invalid_arguments")n(a.argumentsError);else if(a.path.length===0)s._errors.push(t(a));else{let u=s,l=0;for(;l<a.path.length;){let c=a.path[l];l===a.path.length-1?(u[c]=u[c]||{_errors:[]},u[c]._errors.push(t(a))):u[c]=u[c]||{_errors:[]},u=u[c],l++}}},"processError");return n(this),s}static assert(e){if(!(e instanceof ie))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,R.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=t=>t.message){let t={},s=[];for(let n of this.issues)if(n.path.length>0){let i=n.path[0];t[i]=t[i]||[],t[i].push(e(n))}else s.push(e(n));return{formErrors:s,fieldErrors:t}}get formErrors(){return this.flatten()}};o(ie,"ZodError");ie.create=r=>new ie(r);var Pf=o((r,e)=>{let t;switch(r.code){case y.invalid_type:r.received===w.undefined?t="Required":t=`Expected ${r.expected}, received ${r.received}`;break;case y.invalid_literal:t=`Invalid literal value, expected ${JSON.stringify(r.expected,R.jsonStringifyReplacer)}`;break;case y.unrecognized_keys:t=`Unrecognized key(s) in object: ${R.joinValues(r.keys,", ")}`;break;case y.invalid_union:t="Invalid input";break;case y.invalid_union_discriminator:t=`Invalid discriminator value. Expected ${R.joinValues(r.options)}`;break;case y.invalid_enum_value:t=`Invalid enum value. Expected ${R.joinValues(r.options)}, received '${r.received}'`;break;case y.invalid_arguments:t="Invalid function arguments";break;case y.invalid_return_type:t="Invalid function return type";break;case y.invalid_date:t="Invalid date";break;case y.invalid_string:typeof r.validation=="object"?"includes"in r.validation?(t=`Invalid input: must include "${r.validation.includes}"`,typeof r.validation.position=="number"&&(t=`${t} at one or more positions greater than or equal to ${r.validation.position}`)):"startsWith"in r.validation?t=`Invalid input: must start with "${r.validation.startsWith}"`:"endsWith"in r.validation?t=`Invalid input: must end with "${r.validation.endsWith}"`:R.assertNever(r.validation):r.validation!=="regex"?t=`Invalid ${r.validation}`:t="Invalid";break;case y.too_small:r.type==="array"?t=`Array must contain ${r.exact?"exactly":r.inclusive?"at least":"more than"} ${r.minimum} element(s)`:r.type==="string"?t=`String must contain ${r.exact?"exactly":r.inclusive?"at least":"over"} ${r.minimum} character(s)`:r.type==="number"?t=`Number must be ${r.exact?"exactly equal to ":r.inclusive?"greater than or equal to ":"greater than "}${r.minimum}`:r.type==="bigint"?t=`Number must be ${r.exact?"exactly equal to ":r.inclusive?"greater than or equal to ":"greater than "}${r.minimum}`:r.type==="date"?t=`Date must be ${r.exact?"exactly equal to ":r.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(r.minimum))}`:t="Invalid input";break;case y.too_big:r.type==="array"?t=`Array must contain ${r.exact?"exactly":r.inclusive?"at most":"less than"} ${r.maximum} element(s)`:r.type==="string"?t=`String must contain ${r.exact?"exactly":r.inclusive?"at most":"under"} ${r.maximum} character(s)`:r.type==="number"?t=`Number must be ${r.exact?"exactly":r.inclusive?"less than or equal to":"less than"} ${r.maximum}`:r.type==="bigint"?t=`BigInt must be ${r.exact?"exactly":r.inclusive?"less than or equal to":"less than"} ${r.maximum}`:r.type==="date"?t=`Date must be ${r.exact?"exactly":r.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(r.maximum))}`:t="Invalid input";break;case y.custom:t="Invalid input";break;case y.invalid_intersection_types:t="Intersection results could not be merged";break;case y.not_multiple_of:t=`Number must be a multiple of ${r.multipleOf}`;break;case y.not_finite:t="Number must be finite";break;default:t=e.defaultError,R.assertNever(r)}return{message:t}},"errorMap"),Ye=Pf;var fo=Ye;function zf(r){fo=r}o(zf,"setErrorMap");function Br(){return fo}o(Br,"getErrorMap");var Ns=o(r=>{let{data:e,path:t,errorMaps:s,issueData:n}=r,i=[...t,...n.path||[]],a={...n,path:i};if(n.message!==void 0)return{...n,path:i,message:n.message};let u="",l=s.filter(c=>!!c).slice().reverse();for(let c of l)u=c(a,{data:e,defaultError:u}).message;return{...n,path:i,message:u}},"makeIssue"),Kf=[];function b(r,e){let t=Br(),s=Ns({issueData:e,data:r.data,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,t,t===Ye?void 0:Ye].filter(n=>!!n)});r.common.issues.push(s)}o(b,"addIssueToContext");var Z=class{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,t){let s=[];for(let n of t){if(n.status==="aborted")return _;n.status==="dirty"&&e.dirty(),s.push(n.value)}return{status:e.value,value:s}}static async mergeObjectAsync(e,t){let s=[];for(let n of t){let i=await n.key,a=await n.value;s.push({key:i,value:a})}return Z.mergeObjectSync(e,s)}static mergeObjectSync(e,t){let s={};for(let n of t){let{key:i,value:a}=n;if(i.status==="aborted"||a.status==="aborted")return _;i.status==="dirty"&&e.dirty(),a.status==="dirty"&&e.dirty(),i.value!=="__proto__"&&(typeof a.value<"u"||n.alwaysSet)&&(s[i.value]=a.value)}return{status:e.value,value:s}}};o(Z,"ParseStatus");var _=Object.freeze({status:"aborted"}),Vt=o(r=>({status:"dirty",value:r}),"DIRTY"),ue=o(r=>({status:"valid",value:r}),"OK"),En=o(r=>r.status==="aborted","isAborted"),Cn=o(r=>r.status==="dirty","isDirty"),lt=o(r=>r.status==="valid","isValid"),qr=o(r=>typeof Promise<"u"&&r instanceof Promise,"isAsync");var A;(function(r){r.errToObj=e=>typeof e=="string"?{message:e}:e||{},r.toString=e=>typeof e=="string"?e:e?.message})(A||(A={}));var be=class{constructor(e,t,s,n){this._cachedPath=[],this.parent=e,this.data=t,this._path=s,this._key=n}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}};o(be,"ParseInputLazyPath");var ho=o((r,e)=>{if(lt(e))return{success:!0,data:e.value};if(!r.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;let t=new ie(r.common.issues);return this._error=t,this._error}}},"handleResult");function T(r){if(!r)return{};let{errorMap:e,invalid_type_error:t,required_error:s,description:n}=r;if(e&&(t||s))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:n}:{errorMap:o((a,u)=>{let{message:l}=r;return a.code==="invalid_enum_value"?{message:l??u.defaultError}:typeof u.data>"u"?{message:l??s??u.defaultError}:a.code!=="invalid_type"?{message:u.defaultError}:{message:l??t??u.defaultError}},"customMap"),description:n}}o(T,"processCreateParams");var k=class{get description(){return this._def.description}_getType(e){return Me(e.data)}_getOrReturnCtx(e,t){return t||{common:e.parent.common,data:e.data,parsedType:Me(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new Z,ctx:{common:e.parent.common,data:e.data,parsedType:Me(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){let t=this._parse(e);if(qr(t))throw new Error("Synchronous parse encountered promise.");return t}_parseAsync(e){let t=this._parse(e);return Promise.resolve(t)}parse(e,t){let s=this.safeParse(e,t);if(s.success)return s.data;throw s.error}safeParse(e,t){let s={common:{issues:[],async:t?.async??!1,contextualErrorMap:t?.errorMap},path:t?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Me(e)},n=this._parseSync({data:e,path:s.path,parent:s});return ho(s,n)}"~validate"(e){let t={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Me(e)};if(!this["~standard"].async)try{let s=this._parseSync({data:e,path:[],parent:t});return lt(s)?{value:s.value}:{issues:t.common.issues}}catch(s){s?.message?.toLowerCase()?.includes("encountered")&&(this["~standard"].async=!0),t.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:t}).then(s=>lt(s)?{value:s.value}:{issues:t.common.issues})}async parseAsync(e,t){let s=await this.safeParseAsync(e,t);if(s.success)return s.data;throw s.error}async safeParseAsync(e,t){let s={common:{issues:[],contextualErrorMap:t?.errorMap,async:!0},path:t?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Me(e)},n=this._parse({data:e,path:s.path,parent:s}),i=await(qr(n)?n:Promise.resolve(n));return ho(s,i)}refine(e,t){let s=o(n=>typeof t=="string"||typeof t>"u"?{message:t}:typeof t=="function"?t(n):t,"getIssueProperties");return this._refinement((n,i)=>{let a=e(n),u=o(()=>i.addIssue({code:y.custom,...s(n)}),"setError");return typeof Promise<"u"&&a instanceof Promise?a.then(l=>l?!0:(u(),!1)):a?!0:(u(),!1)})}refinement(e,t){return this._refinement((s,n)=>e(s)?!0:(n.addIssue(typeof t=="function"?t(s,n):t),!1))}_refinement(e){return new ve({schema:this,typeName:E.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:t=>this["~validate"](t)}}optional(){return we.create(this,this._def)}nullable(){return qe.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return ge.create(this)}promise(){return tt.create(this,this._def)}or(e){return ht.create([this,e],this._def)}and(e){return pt.create(this,e,this._def)}transform(e){return new ve({...T(this._def),schema:this,typeName:E.ZodEffects,effect:{type:"transform",transform:e}})}default(e){let t=typeof e=="function"?e:()=>e;return new xt({...T(this._def),innerType:this,defaultValue:t,typeName:E.ZodDefault})}brand(){return new jr({typeName:E.ZodBranded,type:this,...T(this._def)})}catch(e){let t=typeof e=="function"?e:()=>e;return new vt({...T(this._def),innerType:this,catchValue:t,typeName:E.ZodCatch})}describe(e){let t=this.constructor;return new t({...this._def,description:e})}pipe(e){return wt.create(this,e)}readonly(){return At.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}};o(k,"ZodType");var Uf=/^c[^\s-]{8,}$/i,Vf=/^[0-9a-z]+$/,Hf=/^[0-9A-HJKMNP-TV-Z]{26}$/i,Qf=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,Gf=/^[a-z0-9_-]{21}$/i,Wf=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,Jf=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,Yf=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,Xf="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$",bi,Zf=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,eh=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,th=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,rh=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,sh=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,nh=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,mo="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",ih=new RegExp(`^${mo}$`);function go(r){let e="[0-5]\\d";r.precision?e=`${e}\\.\\d{${r.precision}}`:r.precision==null&&(e=`${e}(\\.\\d+)?`);let t=r.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${e})${t}`}o(go,"timeRegexSource");function ah(r){return new RegExp(`^${go(r)}$`)}o(ah,"timeRegex");function yo(r){let e=`${mo}T${go(r)}`,t=[];return t.push(r.local?"Z?":"Z"),r.offset&&t.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${t.join("|")})`,new RegExp(`^${e}$`)}o(yo,"datetimeRegex");function oh(r,e){return!!((e==="v4"||!e)&&Zf.test(r)||(e==="v6"||!e)&&th.test(r))}o(oh,"isValidIP");function uh(r,e){if(!Wf.test(r))return!1;try{let[t]=r.split(".");if(!t)return!1;let s=t.replace(/-/g,"+").replace(/_/g,"/").padEnd(t.length+(4-t.length%4)%4,"="),n=JSON.parse(atob(s));return!(typeof n!="object"||n===null||"typ"in n&&n?.typ!=="JWT"||!n.alg||e&&n.alg!==e)}catch{return!1}}o(uh,"isValidJWT");function lh(r,e){return!!((e==="v4"||!e)&&eh.test(r)||(e==="v6"||!e)&&rh.test(r))}o(lh,"isValidCidr");var me=class extends k{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==w.string){let i=this._getOrReturnCtx(e);return b(i,{code:y.invalid_type,expected:w.string,received:i.parsedType}),_}let s=new Z,n;for(let i of this._def.checks)if(i.kind==="min")e.data.length<i.value&&(n=this._getOrReturnCtx(e,n),b(n,{code:y.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),s.dirty());else if(i.kind==="max")e.data.length>i.value&&(n=this._getOrReturnCtx(e,n),b(n,{code:y.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),s.dirty());else if(i.kind==="length"){let a=e.data.length>i.value,u=e.data.length<i.value;(a||u)&&(n=this._getOrReturnCtx(e,n),a?b(n,{code:y.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}):u&&b(n,{code:y.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}),s.dirty())}else if(i.kind==="email")Yf.test(e.data)||(n=this._getOrReturnCtx(e,n),b(n,{validation:"email",code:y.invalid_string,message:i.message}),s.dirty());else if(i.kind==="emoji")bi||(bi=new RegExp(Xf,"u")),bi.test(e.data)||(n=this._getOrReturnCtx(e,n),b(n,{validation:"emoji",code:y.invalid_string,message:i.message}),s.dirty());else if(i.kind==="uuid")Qf.test(e.data)||(n=this._getOrReturnCtx(e,n),b(n,{validation:"uuid",code:y.invalid_string,message:i.message}),s.dirty());else if(i.kind==="nanoid")Gf.test(e.data)||(n=this._getOrReturnCtx(e,n),b(n,{validation:"nanoid",code:y.invalid_string,message:i.message}),s.dirty());else if(i.kind==="cuid")Uf.test(e.data)||(n=this._getOrReturnCtx(e,n),b(n,{validation:"cuid",code:y.invalid_string,message:i.message}),s.dirty());else if(i.kind==="cuid2")Vf.test(e.data)||(n=this._getOrReturnCtx(e,n),b(n,{validation:"cuid2",code:y.invalid_string,message:i.message}),s.dirty());else if(i.kind==="ulid")Hf.test(e.data)||(n=this._getOrReturnCtx(e,n),b(n,{validation:"ulid",code:y.invalid_string,message:i.message}),s.dirty());else if(i.kind==="url")try{new URL(e.data)}catch{n=this._getOrReturnCtx(e,n),b(n,{validation:"url",code:y.invalid_string,message:i.message}),s.dirty()}else i.kind==="regex"?(i.regex.lastIndex=0,i.regex.test(e.data)||(n=this._getOrReturnCtx(e,n),b(n,{validation:"regex",code:y.invalid_string,message:i.message}),s.dirty())):i.kind==="trim"?e.data=e.data.trim():i.kind==="includes"?e.data.includes(i.value,i.position)||(n=this._getOrReturnCtx(e,n),b(n,{code:y.invalid_string,validation:{includes:i.value,position:i.position},message:i.message}),s.dirty()):i.kind==="toLowerCase"?e.data=e.data.toLowerCase():i.kind==="toUpperCase"?e.data=e.data.toUpperCase():i.kind==="startsWith"?e.data.startsWith(i.value)||(n=this._getOrReturnCtx(e,n),b(n,{code:y.invalid_string,validation:{startsWith:i.value},message:i.message}),s.dirty()):i.kind==="endsWith"?e.data.endsWith(i.value)||(n=this._getOrReturnCtx(e,n),b(n,{code:y.invalid_string,validation:{endsWith:i.value},message:i.message}),s.dirty()):i.kind==="datetime"?yo(i).test(e.data)||(n=this._getOrReturnCtx(e,n),b(n,{code:y.invalid_string,validation:"datetime",message:i.message}),s.dirty()):i.kind==="date"?ih.test(e.data)||(n=this._getOrReturnCtx(e,n),b(n,{code:y.invalid_string,validation:"date",message:i.message}),s.dirty()):i.kind==="time"?ah(i).test(e.data)||(n=this._getOrReturnCtx(e,n),b(n,{code:y.invalid_string,validation:"time",message:i.message}),s.dirty()):i.kind==="duration"?Jf.test(e.data)||(n=this._getOrReturnCtx(e,n),b(n,{validation:"duration",code:y.invalid_string,message:i.message}),s.dirty()):i.kind==="ip"?oh(e.data,i.version)||(n=this._getOrReturnCtx(e,n),b(n,{validation:"ip",code:y.invalid_string,message:i.message}),s.dirty()):i.kind==="jwt"?uh(e.data,i.alg)||(n=this._getOrReturnCtx(e,n),b(n,{validation:"jwt",code:y.invalid_string,message:i.message}),s.dirty()):i.kind==="cidr"?lh(e.data,i.version)||(n=this._getOrReturnCtx(e,n),b(n,{validation:"cidr",code:y.invalid_string,message:i.message}),s.dirty()):i.kind==="base64"?sh.test(e.data)||(n=this._getOrReturnCtx(e,n),b(n,{validation:"base64",code:y.invalid_string,message:i.message}),s.dirty()):i.kind==="base64url"?nh.test(e.data)||(n=this._getOrReturnCtx(e,n),b(n,{validation:"base64url",code:y.invalid_string,message:i.message}),s.dirty()):R.assertNever(i);return{status:s.value,value:e.data}}_regex(e,t,s){return this.refinement(n=>e.test(n),{validation:t,code:y.invalid_string,...A.errToObj(s)})}_addCheck(e){return new me({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...A.errToObj(e)})}url(e){return this._addCheck({kind:"url",...A.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...A.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...A.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...A.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...A.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...A.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...A.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...A.errToObj(e)})}base64url(e){return this._addCheck({kind:"base64url",...A.errToObj(e)})}jwt(e){return this._addCheck({kind:"jwt",...A.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...A.errToObj(e)})}cidr(e){return this._addCheck({kind:"cidr",...A.errToObj(e)})}datetime(e){return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof e?.precision>"u"?null:e?.precision,offset:e?.offset??!1,local:e?.local??!1,...A.errToObj(e?.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof e?.precision>"u"?null:e?.precision,...A.errToObj(e?.message)})}duration(e){return this._addCheck({kind:"duration",...A.errToObj(e)})}regex(e,t){return this._addCheck({kind:"regex",regex:e,...A.errToObj(t)})}includes(e,t){return this._addCheck({kind:"includes",value:e,position:t?.position,...A.errToObj(t?.message)})}startsWith(e,t){return this._addCheck({kind:"startsWith",value:e,...A.errToObj(t)})}endsWith(e,t){return this._addCheck({kind:"endsWith",value:e,...A.errToObj(t)})}min(e,t){return this._addCheck({kind:"min",value:e,...A.errToObj(t)})}max(e,t){return this._addCheck({kind:"max",value:e,...A.errToObj(t)})}length(e,t){return this._addCheck({kind:"length",value:e,...A.errToObj(t)})}nonempty(e){return this.min(1,A.errToObj(e))}trim(){return new me({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new me({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new me({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isCIDR(){return!!this._def.checks.find(e=>e.kind==="cidr")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get isBase64url(){return!!this._def.checks.find(e=>e.kind==="base64url")}get minLength(){let e=null;for(let t of this._def.checks)t.kind==="min"&&(e===null||t.value>e)&&(e=t.value);return e}get maxLength(){let e=null;for(let t of this._def.checks)t.kind==="max"&&(e===null||t.value<e)&&(e=t.value);return e}};o(me,"ZodString");me.create=r=>new me({checks:[],typeName:E.ZodString,coerce:r?.coerce??!1,...T(r)});function ch(r,e){let t=(r.toString().split(".")[1]||"").length,s=(e.toString().split(".")[1]||"").length,n=t>s?t:s,i=Number.parseInt(r.toFixed(n).replace(".","")),a=Number.parseInt(e.toFixed(n).replace(".",""));return i%a/10**n}o(ch,"floatSafeRemainder");var Re=class extends k{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==w.number){let i=this._getOrReturnCtx(e);return b(i,{code:y.invalid_type,expected:w.number,received:i.parsedType}),_}let s,n=new Z;for(let i of this._def.checks)i.kind==="int"?R.isInteger(e.data)||(s=this._getOrReturnCtx(e,s),b(s,{code:y.invalid_type,expected:"integer",received:"float",message:i.message}),n.dirty()):i.kind==="min"?(i.inclusive?e.data<i.value:e.data<=i.value)&&(s=this._getOrReturnCtx(e,s),b(s,{code:y.too_small,minimum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),n.dirty()):i.kind==="max"?(i.inclusive?e.data>i.value:e.data>=i.value)&&(s=this._getOrReturnCtx(e,s),b(s,{code:y.too_big,maximum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),n.dirty()):i.kind==="multipleOf"?ch(e.data,i.value)!==0&&(s=this._getOrReturnCtx(e,s),b(s,{code:y.not_multiple_of,multipleOf:i.value,message:i.message}),n.dirty()):i.kind==="finite"?Number.isFinite(e.data)||(s=this._getOrReturnCtx(e,s),b(s,{code:y.not_finite,message:i.message}),n.dirty()):R.assertNever(i);return{status:n.value,value:e.data}}gte(e,t){return this.setLimit("min",e,!0,A.toString(t))}gt(e,t){return this.setLimit("min",e,!1,A.toString(t))}lte(e,t){return this.setLimit("max",e,!0,A.toString(t))}lt(e,t){return this.setLimit("max",e,!1,A.toString(t))}setLimit(e,t,s,n){return new Re({...this._def,checks:[...this._def.checks,{kind:e,value:t,inclusive:s,message:A.toString(n)}]})}_addCheck(e){return new Re({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:A.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:A.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:A.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:A.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:A.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:A.toString(t)})}finite(e){return this._addCheck({kind:"finite",message:A.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:A.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:A.toString(e)})}get minValue(){let e=null;for(let t of this._def.checks)t.kind==="min"&&(e===null||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(let t of this._def.checks)t.kind==="max"&&(e===null||t.value<e)&&(e=t.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&R.isInteger(e.value))}get isFinite(){let e=null,t=null;for(let s of this._def.checks){if(s.kind==="finite"||s.kind==="int"||s.kind==="multipleOf")return!0;s.kind==="min"?(t===null||s.value>t)&&(t=s.value):s.kind==="max"&&(e===null||s.value<e)&&(e=s.value)}return Number.isFinite(t)&&Number.isFinite(e)}};o(Re,"ZodNumber");Re.create=r=>new Re({checks:[],typeName:E.ZodNumber,coerce:r?.coerce||!1,...T(r)});var Oe=class extends k{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce)try{e.data=BigInt(e.data)}catch{return this._getInvalidInput(e)}if(this._getType(e)!==w.bigint)return this._getInvalidInput(e);let s,n=new Z;for(let i of this._def.checks)i.kind==="min"?(i.inclusive?e.data<i.value:e.data<=i.value)&&(s=this._getOrReturnCtx(e,s),b(s,{code:y.too_small,type:"bigint",minimum:i.value,inclusive:i.inclusive,message:i.message}),n.dirty()):i.kind==="max"?(i.inclusive?e.data>i.value:e.data>=i.value)&&(s=this._getOrReturnCtx(e,s),b(s,{code:y.too_big,type:"bigint",maximum:i.value,inclusive:i.inclusive,message:i.message}),n.dirty()):i.kind==="multipleOf"?e.data%i.value!==BigInt(0)&&(s=this._getOrReturnCtx(e,s),b(s,{code:y.not_multiple_of,multipleOf:i.value,message:i.message}),n.dirty()):R.assertNever(i);return{status:n.value,value:e.data}}_getInvalidInput(e){let t=this._getOrReturnCtx(e);return b(t,{code:y.invalid_type,expected:w.bigint,received:t.parsedType}),_}gte(e,t){return this.setLimit("min",e,!0,A.toString(t))}gt(e,t){return this.setLimit("min",e,!1,A.toString(t))}lte(e,t){return this.setLimit("max",e,!0,A.toString(t))}lt(e,t){return this.setLimit("max",e,!1,A.toString(t))}setLimit(e,t,s,n){return new Oe({...this._def,checks:[...this._def.checks,{kind:e,value:t,inclusive:s,message:A.toString(n)}]})}_addCheck(e){return new Oe({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:A.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:A.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:A.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:A.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:A.toString(t)})}get minValue(){let e=null;for(let t of this._def.checks)t.kind==="min"&&(e===null||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(let t of this._def.checks)t.kind==="max"&&(e===null||t.value<e)&&(e=t.value);return e}};o(Oe,"ZodBigInt");Oe.create=r=>new Oe({checks:[],typeName:E.ZodBigInt,coerce:r?.coerce??!1,...T(r)});var ct=class extends k{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==w.boolean){let s=this._getOrReturnCtx(e);return b(s,{code:y.invalid_type,expected:w.boolean,received:s.parsedType}),_}return ue(e.data)}};o(ct,"ZodBoolean");ct.create=r=>new ct({typeName:E.ZodBoolean,coerce:r?.coerce||!1,...T(r)});var Le=class extends k{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==w.date){let i=this._getOrReturnCtx(e);return b(i,{code:y.invalid_type,expected:w.date,received:i.parsedType}),_}if(Number.isNaN(e.data.getTime())){let i=this._getOrReturnCtx(e);return b(i,{code:y.invalid_date}),_}let s=new Z,n;for(let i of this._def.checks)i.kind==="min"?e.data.getTime()<i.value&&(n=this._getOrReturnCtx(e,n),b(n,{code:y.too_small,message:i.message,inclusive:!0,exact:!1,minimum:i.value,type:"date"}),s.dirty()):i.kind==="max"?e.data.getTime()>i.value&&(n=this._getOrReturnCtx(e,n),b(n,{code:y.too_big,message:i.message,inclusive:!0,exact:!1,maximum:i.value,type:"date"}),s.dirty()):R.assertNever(i);return{status:s.value,value:new Date(e.data.getTime())}}_addCheck(e){return new Le({...this._def,checks:[...this._def.checks,e]})}min(e,t){return this._addCheck({kind:"min",value:e.getTime(),message:A.toString(t)})}max(e,t){return this._addCheck({kind:"max",value:e.getTime(),message:A.toString(t)})}get minDate(){let e=null;for(let t of this._def.checks)t.kind==="min"&&(e===null||t.value>e)&&(e=t.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(let t of this._def.checks)t.kind==="max"&&(e===null||t.value<e)&&(e=t.value);return e!=null?new Date(e):null}};o(Le,"ZodDate");Le.create=r=>new Le({checks:[],coerce:r?.coerce||!1,typeName:E.ZodDate,...T(r)});var Ht=class extends k{_parse(e){if(this._getType(e)!==w.symbol){let s=this._getOrReturnCtx(e);return b(s,{code:y.invalid_type,expected:w.symbol,received:s.parsedType}),_}return ue(e.data)}};o(Ht,"ZodSymbol");Ht.create=r=>new Ht({typeName:E.ZodSymbol,...T(r)});var dt=class extends k{_parse(e){if(this._getType(e)!==w.undefined){let s=this._getOrReturnCtx(e);return b(s,{code:y.invalid_type,expected:w.undefined,received:s.parsedType}),_}return ue(e.data)}};o(dt,"ZodUndefined");dt.create=r=>new dt({typeName:E.ZodUndefined,...T(r)});var ft=class extends k{_parse(e){if(this._getType(e)!==w.null){let s=this._getOrReturnCtx(e);return b(s,{code:y.invalid_type,expected:w.null,received:s.parsedType}),_}return ue(e.data)}};o(ft,"ZodNull");ft.create=r=>new ft({typeName:E.ZodNull,...T(r)});var Ze=class extends k{constructor(){super(...arguments),this._any=!0}_parse(e){return ue(e.data)}};o(Ze,"ZodAny");Ze.create=r=>new Ze({typeName:E.ZodAny,...T(r)});var Pe=class extends k{constructor(){super(...arguments),this._unknown=!0}_parse(e){return ue(e.data)}};o(Pe,"ZodUnknown");Pe.create=r=>new Pe({typeName:E.ZodUnknown,...T(r)});var Ee=class extends k{_parse(e){let t=this._getOrReturnCtx(e);return b(t,{code:y.invalid_type,expected:w.never,received:t.parsedType}),_}};o(Ee,"ZodNever");Ee.create=r=>new Ee({typeName:E.ZodNever,...T(r)});var Qt=class extends k{_parse(e){if(this._getType(e)!==w.undefined){let s=this._getOrReturnCtx(e);return b(s,{code:y.invalid_type,expected:w.void,received:s.parsedType}),_}return ue(e.data)}};o(Qt,"ZodVoid");Qt.create=r=>new Qt({typeName:E.ZodVoid,...T(r)});var ge=class extends k{_parse(e){let{ctx:t,status:s}=this._processInputParams(e),n=this._def;if(t.parsedType!==w.array)return b(t,{code:y.invalid_type,expected:w.array,received:t.parsedType}),_;if(n.exactLength!==null){let a=t.data.length>n.exactLength.value,u=t.data.length<n.exactLength.value;(a||u)&&(b(t,{code:a?y.too_big:y.too_small,minimum:u?n.exactLength.value:void 0,maximum:a?n.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:n.exactLength.message}),s.dirty())}if(n.minLength!==null&&t.data.length<n.minLength.value&&(b(t,{code:y.too_small,minimum:n.minLength.value,type:"array",inclusive:!0,exact:!1,message:n.minLength.message}),s.dirty()),n.maxLength!==null&&t.data.length>n.maxLength.value&&(b(t,{code:y.too_big,maximum:n.maxLength.value,type:"array",inclusive:!0,exact:!1,message:n.maxLength.message}),s.dirty()),t.common.async)return Promise.all([...t.data].map((a,u)=>n.type._parseAsync(new be(t,a,t.path,u)))).then(a=>Z.mergeArray(s,a));let i=[...t.data].map((a,u)=>n.type._parseSync(new be(t,a,t.path,u)));return Z.mergeArray(s,i)}get element(){return this._def.type}min(e,t){return new ge({...this._def,minLength:{value:e,message:A.toString(t)}})}max(e,t){return new ge({...this._def,maxLength:{value:e,message:A.toString(t)}})}length(e,t){return new ge({...this._def,exactLength:{value:e,message:A.toString(t)}})}nonempty(e){return this.min(1,e)}};o(ge,"ZodArray");ge.create=(r,e)=>new ge({type:r,minLength:null,maxLength:null,exactLength:null,typeName:E.ZodArray,...T(e)});function Fr(r){if(r instanceof P){let e={};for(let t in r.shape){let s=r.shape[t];e[t]=we.create(Fr(s))}return new P({...r._def,shape:()=>e})}else return r instanceof ge?new ge({...r._def,type:Fr(r.element)}):r instanceof we?we.create(Fr(r.unwrap())):r instanceof qe?qe.create(Fr(r.unwrap())):r instanceof xe?xe.create(r.items.map(e=>Fr(e))):r}o(Fr,"deepPartialify");var P=class extends k{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;let e=this._def.shape(),t=R.objectKeys(e);return this._cached={shape:e,keys:t},this._cached}_parse(e){if(this._getType(e)!==w.object){let c=this._getOrReturnCtx(e);return b(c,{code:y.invalid_type,expected:w.object,received:c.parsedType}),_}let{status:s,ctx:n}=this._processInputParams(e),{shape:i,keys:a}=this._getCached(),u=[];if(!(this._def.catchall instanceof Ee&&this._def.unknownKeys==="strip"))for(let c in n.data)a.includes(c)||u.push(c);let l=[];for(let c of a){let d=i[c],m=n.data[c];l.push({key:{status:"valid",value:c},value:d._parse(new be(n,m,n.path,c)),alwaysSet:c in n.data})}if(this._def.catchall instanceof Ee){let c=this._def.unknownKeys;if(c==="passthrough")for(let d of u)l.push({key:{status:"valid",value:d},value:{status:"valid",value:n.data[d]}});else if(c==="strict")u.length>0&&(b(n,{code:y.unrecognized_keys,keys:u}),s.dirty());else if(c!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{let c=this._def.catchall;for(let d of u){let m=n.data[d];l.push({key:{status:"valid",value:d},value:c._parse(new be(n,m,n.path,d)),alwaysSet:d in n.data})}}return n.common.async?Promise.resolve().then(async()=>{let c=[];for(let d of l){let m=await d.key,x=await d.value;c.push({key:m,value:x,alwaysSet:d.alwaysSet})}return c}).then(c=>Z.mergeObjectSync(s,c)):Z.mergeObjectSync(s,l)}get shape(){return this._def.shape()}strict(e){return A.errToObj,new P({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(t,s)=>{let n=this._def.errorMap?.(t,s).message??s.defaultError;return t.code==="unrecognized_keys"?{message:A.errToObj(e).message??n}:{message:n}}}:{}})}strip(){return new P({...this._def,unknownKeys:"strip"})}passthrough(){return new P({...this._def,unknownKeys:"passthrough"})}extend(e){return new P({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new P({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:E.ZodObject})}setKey(e,t){return this.augment({[e]:t})}catchall(e){return new P({...this._def,catchall:e})}pick(e){let t={};for(let s of R.objectKeys(e))e[s]&&this.shape[s]&&(t[s]=this.shape[s]);return new P({...this._def,shape:()=>t})}omit(e){let t={};for(let s of R.objectKeys(this.shape))e[s]||(t[s]=this.shape[s]);return new P({...this._def,shape:()=>t})}deepPartial(){return Fr(this)}partial(e){let t={};for(let s of R.objectKeys(this.shape)){let n=this.shape[s];e&&!e[s]?t[s]=n:t[s]=n.optional()}return new P({...this._def,shape:()=>t})}required(e){let t={};for(let s of R.objectKeys(this.shape))if(e&&!e[s])t[s]=this.shape[s];else{let i=this.shape[s];for(;i instanceof we;)i=i._def.innerType;t[s]=i}return new P({...this._def,shape:()=>t})}keyof(){return bo(R.objectKeys(this.shape))}};o(P,"ZodObject");P.create=(r,e)=>new P({shape:()=>r,unknownKeys:"strip",catchall:Ee.create(),typeName:E.ZodObject,...T(e)});P.strictCreate=(r,e)=>new P({shape:()=>r,unknownKeys:"strict",catchall:Ee.create(),typeName:E.ZodObject,...T(e)});P.lazycreate=(r,e)=>new P({shape:r,unknownKeys:"strip",catchall:Ee.create(),typeName:E.ZodObject,...T(e)});var ht=class extends k{_parse(e){let{ctx:t}=this._processInputParams(e),s=this._def.options;function n(i){for(let u of i)if(u.result.status==="valid")return u.result;for(let u of i)if(u.result.status==="dirty")return t.common.issues.push(...u.ctx.common.issues),u.result;let a=i.map(u=>new ie(u.ctx.common.issues));return b(t,{code:y.invalid_union,unionErrors:a}),_}if(o(n,"handleResults"),t.common.async)return Promise.all(s.map(async i=>{let a={...t,common:{...t.common,issues:[]},parent:null};return{result:await i._parseAsync({data:t.data,path:t.path,parent:a}),ctx:a}})).then(n);{let i,a=[];for(let l of s){let c={...t,common:{...t.common,issues:[]},parent:null},d=l._parseSync({data:t.data,path:t.path,parent:c});if(d.status==="valid")return d;d.status==="dirty"&&!i&&(i={result:d,ctx:c}),c.common.issues.length&&a.push(c.common.issues)}if(i)return t.common.issues.push(...i.ctx.common.issues),i.result;let u=a.map(l=>new ie(l));return b(t,{code:y.invalid_union,unionErrors:u}),_}}get options(){return this._def.options}};o(ht,"ZodUnion");ht.create=(r,e)=>new ht({options:r,typeName:E.ZodUnion,...T(e)});var Xe=o(r=>r instanceof gt?Xe(r.schema):r instanceof ve?Xe(r.innerType()):r instanceof yt?[r.value]:r instanceof Be?r.options:r instanceof bt?R.objectValues(r.enum):r instanceof xt?Xe(r._def.innerType):r instanceof dt?[void 0]:r instanceof ft?[null]:r instanceof we?[void 0,...Xe(r.unwrap())]:r instanceof qe?[null,...Xe(r.unwrap())]:r instanceof jr||r instanceof At?Xe(r.unwrap()):r instanceof vt?Xe(r._def.innerType):[],"getDiscriminator"),Gt=class extends k{_parse(e){let{ctx:t}=this._processInputParams(e);if(t.parsedType!==w.object)return b(t,{code:y.invalid_type,expected:w.object,received:t.parsedType}),_;let s=this.discriminator,n=t.data[s],i=this.optionsMap.get(n);return i?t.common.async?i._parseAsync({data:t.data,path:t.path,parent:t}):i._parseSync({data:t.data,path:t.path,parent:t}):(b(t,{code:y.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[s]}),_)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,t,s){let n=new Map;for(let i of t){let a=Xe(i.shape[e]);if(!a.length)throw new Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(let u of a){if(n.has(u))throw new Error(`Discriminator property ${String(e)} has duplicate value ${String(u)}`);n.set(u,i)}}return new Gt({typeName:E.ZodDiscriminatedUnion,discriminator:e,options:t,optionsMap:n,...T(s)})}};o(Gt,"ZodDiscriminatedUnion");function xi(r,e){let t=Me(r),s=Me(e);if(r===e)return{valid:!0,data:r};if(t===w.object&&s===w.object){let n=R.objectKeys(e),i=R.objectKeys(r).filter(u=>n.indexOf(u)!==-1),a={...r,...e};for(let u of i){let l=xi(r[u],e[u]);if(!l.valid)return{valid:!1};a[u]=l.data}return{valid:!0,data:a}}else if(t===w.array&&s===w.array){if(r.length!==e.length)return{valid:!1};let n=[];for(let i=0;i<r.length;i++){let a=r[i],u=e[i],l=xi(a,u);if(!l.valid)return{valid:!1};n.push(l.data)}return{valid:!0,data:n}}else return t===w.date&&s===w.date&&+r==+e?{valid:!0,data:r}:{valid:!1}}o(xi,"mergeValues");var pt=class extends k{_parse(e){let{status:t,ctx:s}=this._processInputParams(e),n=o((i,a)=>{if(En(i)||En(a))return _;let u=xi(i.value,a.value);return u.valid?((Cn(i)||Cn(a))&&t.dirty(),{status:t.value,value:u.data}):(b(s,{code:y.invalid_intersection_types}),_)},"handleParsed");return s.common.async?Promise.all([this._def.left._parseAsync({data:s.data,path:s.path,parent:s}),this._def.right._parseAsync({data:s.data,path:s.path,parent:s})]).then(([i,a])=>n(i,a)):n(this._def.left._parseSync({data:s.data,path:s.path,parent:s}),this._def.right._parseSync({data:s.data,path:s.path,parent:s}))}};o(pt,"ZodIntersection");pt.create=(r,e,t)=>new pt({left:r,right:e,typeName:E.ZodIntersection,...T(t)});var xe=class extends k{_parse(e){let{status:t,ctx:s}=this._processInputParams(e);if(s.parsedType!==w.array)return b(s,{code:y.invalid_type,expected:w.array,received:s.parsedType}),_;if(s.data.length<this._def.items.length)return b(s,{code:y.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),_;!this._def.rest&&s.data.length>this._def.items.length&&(b(s,{code:y.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),t.dirty());let i=[...s.data].map((a,u)=>{let l=this._def.items[u]||this._def.rest;return l?l._parse(new be(s,a,s.path,u)):null}).filter(a=>!!a);return s.common.async?Promise.all(i).then(a=>Z.mergeArray(t,a)):Z.mergeArray(t,i)}get items(){return this._def.items}rest(e){return new xe({...this._def,rest:e})}};o(xe,"ZodTuple");xe.create=(r,e)=>{if(!Array.isArray(r))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new xe({items:r,typeName:E.ZodTuple,rest:null,...T(e)})};var mt=class extends k{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){let{status:t,ctx:s}=this._processInputParams(e);if(s.parsedType!==w.object)return b(s,{code:y.invalid_type,expected:w.object,received:s.parsedType}),_;let n=[],i=this._def.keyType,a=this._def.valueType;for(let u in s.data)n.push({key:i._parse(new be(s,u,s.path,u)),value:a._parse(new be(s,s.data[u],s.path,u)),alwaysSet:u in s.data});return s.common.async?Z.mergeObjectAsync(t,n):Z.mergeObjectSync(t,n)}get element(){return this._def.valueType}static create(e,t,s){return t instanceof k?new mt({keyType:e,valueType:t,typeName:E.ZodRecord,...T(s)}):new mt({keyType:me.create(),valueType:e,typeName:E.ZodRecord,...T(t)})}};o(mt,"ZodRecord");var Wt=class extends k{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){let{status:t,ctx:s}=this._processInputParams(e);if(s.parsedType!==w.map)return b(s,{code:y.invalid_type,expected:w.map,received:s.parsedType}),_;let n=this._def.keyType,i=this._def.valueType,a=[...s.data.entries()].map(([u,l],c)=>({key:n._parse(new be(s,u,s.path,[c,"key"])),value:i._parse(new be(s,l,s.path,[c,"value"]))}));if(s.common.async){let u=new Map;return Promise.resolve().then(async()=>{for(let l of a){let c=await l.key,d=await l.value;if(c.status==="aborted"||d.status==="aborted")return _;(c.status==="dirty"||d.status==="dirty")&&t.dirty(),u.set(c.value,d.value)}return{status:t.value,value:u}})}else{let u=new Map;for(let l of a){let c=l.key,d=l.value;if(c.status==="aborted"||d.status==="aborted")return _;(c.status==="dirty"||d.status==="dirty")&&t.dirty(),u.set(c.value,d.value)}return{status:t.value,value:u}}}};o(Wt,"ZodMap");Wt.create=(r,e,t)=>new Wt({valueType:e,keyType:r,typeName:E.ZodMap,...T(t)});var ze=class extends k{_parse(e){let{status:t,ctx:s}=this._processInputParams(e);if(s.parsedType!==w.set)return b(s,{code:y.invalid_type,expected:w.set,received:s.parsedType}),_;let n=this._def;n.minSize!==null&&s.data.size<n.minSize.value&&(b(s,{code:y.too_small,minimum:n.minSize.value,type:"set",inclusive:!0,exact:!1,message:n.minSize.message}),t.dirty()),n.maxSize!==null&&s.data.size>n.maxSize.value&&(b(s,{code:y.too_big,maximum:n.maxSize.value,type:"set",inclusive:!0,exact:!1,message:n.maxSize.message}),t.dirty());let i=this._def.valueType;function a(l){let c=new Set;for(let d of l){if(d.status==="aborted")return _;d.status==="dirty"&&t.dirty(),c.add(d.value)}return{status:t.value,value:c}}o(a,"finalizeSet");let u=[...s.data.values()].map((l,c)=>i._parse(new be(s,l,s.path,c)));return s.common.async?Promise.all(u).then(l=>a(l)):a(u)}min(e,t){return new ze({...this._def,minSize:{value:e,message:A.toString(t)}})}max(e,t){return new ze({...this._def,maxSize:{value:e,message:A.toString(t)}})}size(e,t){return this.min(e,t).max(e,t)}nonempty(e){return this.min(1,e)}};o(ze,"ZodSet");ze.create=(r,e)=>new ze({valueType:r,minSize:null,maxSize:null,typeName:E.ZodSet,...T(e)});var et=class extends k{constructor(){super(...arguments),this.validate=this.implement}_parse(e){let{ctx:t}=this._processInputParams(e);if(t.parsedType!==w.function)return b(t,{code:y.invalid_type,expected:w.function,received:t.parsedType}),_;function s(u,l){return Ns({data:u,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,Br(),Ye].filter(c=>!!c),issueData:{code:y.invalid_arguments,argumentsError:l}})}o(s,"makeArgsIssue");function n(u,l){return Ns({data:u,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,Br(),Ye].filter(c=>!!c),issueData:{code:y.invalid_return_type,returnTypeError:l}})}o(n,"makeReturnsIssue");let i={errorMap:t.common.contextualErrorMap},a=t.data;if(this._def.returns instanceof tt){let u=this;return ue(async function(...l){let c=new ie([]),d=await u._def.args.parseAsync(l,i).catch(N=>{throw c.addIssue(s(l,N)),c}),m=await Reflect.apply(a,this,d);return await u._def.returns._def.type.parseAsync(m,i).catch(N=>{throw c.addIssue(n(m,N)),c})})}else{let u=this;return ue(function(...l){let c=u._def.args.safeParse(l,i);if(!c.success)throw new ie([s(l,c.error)]);let d=Reflect.apply(a,this,c.data),m=u._def.returns.safeParse(d,i);if(!m.success)throw new ie([n(d,m.error)]);return m.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...e){return new et({...this._def,args:xe.create(e).rest(Pe.create())})}returns(e){return new et({...this._def,returns:e})}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(e,t,s){return new et({args:e||xe.create([]).rest(Pe.create()),returns:t||Pe.create(),typeName:E.ZodFunction,...T(s)})}};o(et,"ZodFunction");var gt=class extends k{get schema(){return this._def.getter()}_parse(e){let{ctx:t}=this._processInputParams(e);return this._def.getter()._parse({data:t.data,path:t.path,parent:t})}};o(gt,"ZodLazy");gt.create=(r,e)=>new gt({getter:r,typeName:E.ZodLazy,...T(e)});var yt=class extends k{_parse(e){if(e.data!==this._def.value){let t=this._getOrReturnCtx(e);return b(t,{received:t.data,code:y.invalid_literal,expected:this._def.value}),_}return{status:"valid",value:e.data}}get value(){return this._def.value}};o(yt,"ZodLiteral");yt.create=(r,e)=>new yt({value:r,typeName:E.ZodLiteral,...T(e)});function bo(r,e){return new Be({values:r,typeName:E.ZodEnum,...T(e)})}o(bo,"createZodEnum");var Be=class extends k{_parse(e){if(typeof e.data!="string"){let t=this._getOrReturnCtx(e),s=this._def.values;return b(t,{expected:R.joinValues(s),received:t.parsedType,code:y.invalid_type}),_}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(e.data)){let t=this._getOrReturnCtx(e),s=this._def.values;return b(t,{received:t.data,code:y.invalid_enum_value,options:s}),_}return ue(e.data)}get options(){return this._def.values}get enum(){let e={};for(let t of this._def.values)e[t]=t;return e}get Values(){let e={};for(let t of this._def.values)e[t]=t;return e}get Enum(){let e={};for(let t of this._def.values)e[t]=t;return e}extract(e,t=this._def){return Be.create(e,{...this._def,...t})}exclude(e,t=this._def){return Be.create(this.options.filter(s=>!e.includes(s)),{...this._def,...t})}};o(Be,"ZodEnum");Be.create=bo;var bt=class extends k{_parse(e){let t=R.getValidEnumValues(this._def.values),s=this._getOrReturnCtx(e);if(s.parsedType!==w.string&&s.parsedType!==w.number){let n=R.objectValues(t);return b(s,{expected:R.joinValues(n),received:s.parsedType,code:y.invalid_type}),_}if(this._cache||(this._cache=new Set(R.getValidEnumValues(this._def.values))),!this._cache.has(e.data)){let n=R.objectValues(t);return b(s,{received:s.data,code:y.invalid_enum_value,options:n}),_}return ue(e.data)}get enum(){return this._def.values}};o(bt,"ZodNativeEnum");bt.create=(r,e)=>new bt({values:r,typeName:E.ZodNativeEnum,...T(e)});var tt=class extends k{unwrap(){return this._def.type}_parse(e){let{ctx:t}=this._processInputParams(e);if(t.parsedType!==w.promise&&t.common.async===!1)return b(t,{code:y.invalid_type,expected:w.promise,received:t.parsedType}),_;let s=t.parsedType===w.promise?t.data:Promise.resolve(t.data);return ue(s.then(n=>this._def.type.parseAsync(n,{path:t.path,errorMap:t.common.contextualErrorMap})))}};o(tt,"ZodPromise");tt.create=(r,e)=>new tt({type:r,typeName:E.ZodPromise,...T(e)});var ve=class extends k{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===E.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){let{status:t,ctx:s}=this._processInputParams(e),n=this._def.effect||null,i={addIssue:a=>{b(s,a),a.fatal?t.abort():t.dirty()},get path(){return s.path}};if(i.addIssue=i.addIssue.bind(i),n.type==="preprocess"){let a=n.transform(s.data,i);if(s.common.async)return Promise.resolve(a).then(async u=>{if(t.value==="aborted")return _;let l=await this._def.schema._parseAsync({data:u,path:s.path,parent:s});return l.status==="aborted"?_:l.status==="dirty"?Vt(l.value):t.value==="dirty"?Vt(l.value):l});{if(t.value==="aborted")return _;let u=this._def.schema._parseSync({data:a,path:s.path,parent:s});return u.status==="aborted"?_:u.status==="dirty"?Vt(u.value):t.value==="dirty"?Vt(u.value):u}}if(n.type==="refinement"){let a=o(u=>{let l=n.refinement(u,i);if(s.common.async)return Promise.resolve(l);if(l instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return u},"executeRefinement");if(s.common.async===!1){let u=this._def.schema._parseSync({data:s.data,path:s.path,parent:s});return u.status==="aborted"?_:(u.status==="dirty"&&t.dirty(),a(u.value),{status:t.value,value:u.value})}else return this._def.schema._parseAsync({data:s.data,path:s.path,parent:s}).then(u=>u.status==="aborted"?_:(u.status==="dirty"&&t.dirty(),a(u.value).then(()=>({status:t.value,value:u.value}))))}if(n.type==="transform")if(s.common.async===!1){let a=this._def.schema._parseSync({data:s.data,path:s.path,parent:s});if(!lt(a))return _;let u=n.transform(a.value,i);if(u instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:t.value,value:u}}else return this._def.schema._parseAsync({data:s.data,path:s.path,parent:s}).then(a=>lt(a)?Promise.resolve(n.transform(a.value,i)).then(u=>({status:t.value,value:u})):_);R.assertNever(n)}};o(ve,"ZodEffects");ve.create=(r,e,t)=>new ve({schema:r,typeName:E.ZodEffects,effect:e,...T(t)});ve.createWithPreprocess=(r,e,t)=>new ve({schema:e,effect:{type:"preprocess",transform:r},typeName:E.ZodEffects,...T(t)});var we=class extends k{_parse(e){return this._getType(e)===w.undefined?ue(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}};o(we,"ZodOptional");we.create=(r,e)=>new we({innerType:r,typeName:E.ZodOptional,...T(e)});var qe=class extends k{_parse(e){return this._getType(e)===w.null?ue(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}};o(qe,"ZodNullable");qe.create=(r,e)=>new qe({innerType:r,typeName:E.ZodNullable,...T(e)});var xt=class extends k{_parse(e){let{ctx:t}=this._processInputParams(e),s=t.data;return t.parsedType===w.undefined&&(s=this._def.defaultValue()),this._def.innerType._parse({data:s,path:t.path,parent:t})}removeDefault(){return this._def.innerType}};o(xt,"ZodDefault");xt.create=(r,e)=>new xt({innerType:r,typeName:E.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...T(e)});var vt=class extends k{_parse(e){let{ctx:t}=this._processInputParams(e),s={...t,common:{...t.common,issues:[]}},n=this._def.innerType._parse({data:s.data,path:s.path,parent:{...s}});return qr(n)?n.then(i=>({status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new ie(s.common.issues)},input:s.data})})):{status:"valid",value:n.status==="valid"?n.value:this._def.catchValue({get error(){return new ie(s.common.issues)},input:s.data})}}removeCatch(){return this._def.innerType}};o(vt,"ZodCatch");vt.create=(r,e)=>new vt({innerType:r,typeName:E.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...T(e)});var Jt=class extends k{_parse(e){if(this._getType(e)!==w.nan){let s=this._getOrReturnCtx(e);return b(s,{code:y.invalid_type,expected:w.nan,received:s.parsedType}),_}return{status:"valid",value:e.data}}};o(Jt,"ZodNaN");Jt.create=r=>new Jt({typeName:E.ZodNaN,...T(r)});var dh=Symbol("zod_brand"),jr=class extends k{_parse(e){let{ctx:t}=this._processInputParams(e),s=t.data;return this._def.type._parse({data:s,path:t.path,parent:t})}unwrap(){return this._def.type}};o(jr,"ZodBranded");var wt=class extends k{_parse(e){let{status:t,ctx:s}=this._processInputParams(e);if(s.common.async)return o(async()=>{let i=await this._def.in._parseAsync({data:s.data,path:s.path,parent:s});return i.status==="aborted"?_:i.status==="dirty"?(t.dirty(),Vt(i.value)):this._def.out._parseAsync({data:i.value,path:s.path,parent:s})},"handleAsync")();{let n=this._def.in._parseSync({data:s.data,path:s.path,parent:s});return n.status==="aborted"?_:n.status==="dirty"?(t.dirty(),{status:"dirty",value:n.value}):this._def.out._parseSync({data:n.value,path:s.path,parent:s})}}static create(e,t){return new wt({in:e,out:t,typeName:E.ZodPipeline})}};o(wt,"ZodPipeline");var At=class extends k{_parse(e){let t=this._def.innerType._parse(e),s=o(n=>(lt(n)&&(n.value=Object.freeze(n.value)),n),"freeze");return qr(t)?t.then(n=>s(n)):s(t)}unwrap(){return this._def.innerType}};o(At,"ZodReadonly");At.create=(r,e)=>new At({innerType:r,typeName:E.ZodReadonly,...T(e)});function po(r,e){let t=typeof r=="function"?r(e):typeof r=="string"?{message:r}:r;return typeof t=="string"?{message:t}:t}o(po,"cleanParams");function xo(r,e={},t){return r?Ze.create().superRefine((s,n)=>{let i=r(s);if(i instanceof Promise)return i.then(a=>{if(!a){let u=po(e,s),l=u.fatal??t??!0;n.addIssue({code:"custom",...u,fatal:l})}});if(!i){let a=po(e,s),u=a.fatal??t??!0;n.addIssue({code:"custom",...a,fatal:u})}}):Ze.create()}o(xo,"custom");var fh={object:P.lazycreate},E;(function(r){r.ZodString="ZodString",r.ZodNumber="ZodNumber",r.ZodNaN="ZodNaN",r.ZodBigInt="ZodBigInt",r.ZodBoolean="ZodBoolean",r.ZodDate="ZodDate",r.ZodSymbol="ZodSymbol",r.ZodUndefined="ZodUndefined",r.ZodNull="ZodNull",r.ZodAny="ZodAny",r.ZodUnknown="ZodUnknown",r.ZodNever="ZodNever",r.ZodVoid="ZodVoid",r.ZodArray="ZodArray",r.ZodObject="ZodObject",r.ZodUnion="ZodUnion",r.ZodDiscriminatedUnion="ZodDiscriminatedUnion",r.ZodIntersection="ZodIntersection",r.ZodTuple="ZodTuple",r.ZodRecord="ZodRecord",r.ZodMap="ZodMap",r.ZodSet="ZodSet",r.ZodFunction="ZodFunction",r.ZodLazy="ZodLazy",r.ZodLiteral="ZodLiteral",r.ZodEnum="ZodEnum",r.ZodEffects="ZodEffects",r.ZodNativeEnum="ZodNativeEnum",r.ZodOptional="ZodOptional",r.ZodNullable="ZodNullable",r.ZodDefault="ZodDefault",r.ZodCatch="ZodCatch",r.ZodPromise="ZodPromise",r.ZodBranded="ZodBranded",r.ZodPipeline="ZodPipeline",r.ZodReadonly="ZodReadonly"})(E||(E={}));var hh=o((r,e={message:`Input not instance of ${r.name}`})=>xo(t=>t instanceof r,e),"instanceOfType"),Ir=me.create,vo=Re.create,ph=Jt.create,mh=Oe.create,wo=ct.create,gh=Le.create,yh=Ht.create,bh=dt.create,xh=ft.create,vh=Ze.create,wh=Pe.create,Ah=Ee.create,Dh=Qt.create,Yt=ge.create,vi=P.create,_h=P.strictCreate,Eh=ht.create,Ch=Gt.create,Sh=pt.create,Th=xe.create,wi=mt.create,Nh=Wt.create,kh=ze.create,Rh=et.create,Oh=gt.create,Bh=yt.create,qh=Be.create,Fh=bt.create,jh=tt.create,Ih=ve.create,$h=we.create,Mh=qe.create,Lh=ve.createWithPreprocess,Ph=wt.create,zh=o(()=>Ir().optional(),"ostring"),Kh=o(()=>vo().optional(),"onumber"),Uh=o(()=>wo().optional(),"oboolean"),Vh={string:r=>me.create({...r,coerce:!0}),number:r=>Re.create({...r,coerce:!0}),boolean:r=>ct.create({...r,coerce:!0}),bigint:r=>Oe.create({...r,coerce:!0}),date:r=>Le.create({...r,coerce:!0})};var Hh=_;var Gh=H.union([H.string(),H.number(),H.boolean(),H.null()]),Ai=H.lazy(()=>H.union([Gh,H.array(Ai),H.record(Ai)]));function Sn(r,e){let t=fn(r),s=Object.entries(t),n=Object.fromEntries(s.map(([i,a])=>[i,Ao(a)]));e&&(n=Object.assign(n,Object.fromEntries(Object.entries(e).map(([i,a])=>[i,typeof a=="function"?a(n):a]))));for(let[i,a]of s)a.notNull?a.hasDefault&&(n[i]=n[i].optional()):n[i]=n[i].nullable().optional();return H.object(n)}o(Sn,"c");function Ao(r){let e;if(function(t){return"enumValues"in t&&Array.isArray(t.enumValues)&&t.enumValues.length>0}(r)&&(e=r.enumValues.length?H.enum(r.enumValues):H.string()),!e){if(g(r,Kt))e=H.string().uuid();else if(r.dataType==="custom")e=H.any();else if(r.dataType==="json")e=Ai;else if(r.dataType==="array")e=H.array(Ao(r.baseColumn));else if(r.dataType==="number")e=H.number();else if(r.dataType==="bigint")e=H.bigint();else if(r.dataType==="boolean")e=H.boolean();else if(r.dataType==="date")e=H.date();else if(r.dataType==="string"){let t=H.string();(g(r,zt)||g(r,Ut)||g(r,Pt)||g(r,Lt)||g(r,Mt)||g(r,qt))&&typeof r.length=="number"&&(t=t.max(r.length)),e=t}}return e||(e=H.any()),e}o(Ao,"p");var Xt=ns("api_keys",{id:I("id").primaryKey(),key:I("key").notNull().unique(),keyPrefix:I("key_prefix").notNull(),name:I("name"),rateLimit:ne("rate_limit").default(100),isActive:ne("is_active",{mode:"boolean"}).default(!0).notNull(),lastUsedAt:ne("last_used_at",{mode:"timestamp"}),expiresAt:ne("expires_at",{mode:"timestamp"}),createdAt:ne("created_at",{mode:"timestamp"}).notNull(),updatedAt:ne("updated_at",{mode:"timestamp"}).notNull()}),o3=Sn(Xt),ks=ns("mailboxes",{id:I("id").primaryKey(),address:I("address").notNull().unique(),domain:I("domain").notNull(),expiresAt:ne("expires_at",{mode:"timestamp"}),apiKeyId:I("api_key_id").notNull(),createdAt:ne("created_at",{mode:"timestamp"}).notNull(),updatedAt:ne("updated_at",{mode:"timestamp"}).notNull()}),u3=Sn(ks),K=ns("emails",{id:I("id").primaryKey(),messageFrom:I("message_from").notNull(),messageTo:I("message_to").notNull(),headers:I("headers",{mode:"json"}).$type().notNull(),from:I("from",{mode:"json"}).$type().notNull(),sender:I("sender",{mode:"json"}).$type(),replyTo:I("reply_to",{mode:"json"}).$type(),deliveredTo:I("delivered_to"),returnPath:I("return_path"),to:I("to",{mode:"json"}).$type(),cc:I("cc",{mode:"json"}).$type(),bcc:I("bcc",{mode:"json"}).$type(),subject:I("subject"),messageId:I("message_id").notNull(),inReplyTo:I("in_reply_to"),references:I("references"),date:I("date"),html:I("html"),text:I("text"),createdAt:ne("created_at",{mode:"timestamp"}).notNull(),updatedAt:ne("updated_at",{mode:"timestamp"}).notNull()}),$r=vi({address:Ir(),name:Ir()}),Do=Sn(K,{headers:Yt(wi(Ir())),from:$r,sender:$r.optional(),replyTo:Yt($r).optional(),to:Yt($r).optional(),cc:Yt($r).optional(),bcc:Yt($r).optional()}),le=ns("site_stats",{id:I("id").primaryKey(),totalAddressesCreated:ne("total_addresses_created").default(0).notNull(),totalEmailsReceived:ne("total_emails_received").default(0).notNull(),totalApiCalls:ne("total_api_calls").default(0).notNull(),totalApiKeysCreated:ne("total_api_keys_created").default(0).notNull(),updatedAt:ne("updated_at",{mode:"timestamp"}).notNull()});async function _o(r,e){try{await r.insert(K).values(e).execute()}catch(t){console.error(t)}}o(_o,"insertEmail");async function Eo(r,e){try{let t=await r.select().from(K).where(Ge(W(K.id,e))).execute();return t.length!=1?null:t[0]}catch{return null}}o(Eo,"findEmailById");async function Co(r,e){try{return await r.select().from(K).where(W(K.messageTo,e)).orderBy(es(K.createdAt)).execute()}catch{return[]}}o(Co,"getEmailsByMessageTo");async function So(r,e){if(!e||e.length===0)return{count:0};try{return{count:(await r.delete(K).where(on(K.id,e))).rowsAffected}}catch(t){return console.error(t),{count:0}}}o(So,"deleteEmails");async function To(r,e){try{return{count:(await r.delete(K).where(an(K.createdAt,e)).execute()).rowsAffected}}catch(t){return console.error("\u6E05\u7406\u8FC7\u671F\u90AE\u4EF6\u5931\u8D25:",t),{count:0}}}o(To,"deleteExpiredEmails");async function No(r,e){try{let t=await r.select().from(Xt).where(W(Xt.key,e)).execute();return t.length===1?t[0]:null}catch(t){return console.error("findApiKeyByKey error:",t),null}}o(No,"findApiKeyByKey");async function ko(r,e){try{await r.update(Xt).set({lastUsedAt:new Date,updatedAt:new Date}).where(W(Xt.id,e)).execute()}catch(t){console.error("updateApiKeyLastUsed error:",t)}}o(ko,"updateApiKeyLastUsed");async function Ro(r,e){try{return await r.insert(Xt).values(e).execute(),e}catch(t){return console.error("insertApiKey error:",t),null}}o(Ro,"insertApiKey");async function Oo(r,e){try{return await r.insert(ks).values(e).execute(),e}catch(t){throw console.error("insertMailbox error:",t),t}}o(Oo,"insertMailbox");async function Rs(r,e){try{let t=await r.select().from(ks).where(W(ks.id,e)).execute();return t.length===1?t[0]:null}catch(t){return console.error("findMailboxById error:",t),null}}o(Rs,"findMailboxById");async function Bo(r,e,t){try{let s=(t.page-1)*t.limit,n=t.sort==="asc"?un:es,[i,a]=await Promise.all([r.select().from(K).where(W(K.messageTo,e)).orderBy(n(K.createdAt)).limit(t.limit).offset(s).execute(),r.select({count:oi()}).from(K).where(W(K.messageTo,e)).execute()]),u=a[0]?.count||0;return{messages:i,total:u,totalPages:Math.ceil(u/t.limit)}}catch(s){return console.error("getMailboxMessages error:",s),{messages:[],total:0,totalPages:0}}}o(Bo,"getMailboxMessages");async function qo(r,e,t){try{let s=await r.select().from(K).where(Ge(W(K.id,t),W(K.messageTo,e))).execute();return s.length===1?s[0]:null}catch(s){return console.error("findMailboxMessage error:",s),null}}o(qo,"findMailboxMessage");async function Fo(r,e,t){try{return(await r.delete(K).where(Ge(W(K.id,t),W(K.messageTo,e))).execute()).rowsAffected>0}catch(s){return console.error("deleteMailboxMessage error:",s),!1}}o(Fo,"deleteMailboxMessage");async function jo(r,e){try{return(await r.select({count:oi()}).from(K).where(W(K.messageTo,e)).execute())[0]?.count||0}catch(t){return console.error("getMailboxMessageCount error:",t),0}}o(jo,"getMailboxMessageCount");var Mr="global";async function Di(r){try{let e=await r.select().from(le).where(W(le.id,Mr)).execute();return e.length===1?e[0]:null}catch(e){return console.error("getSiteStats error:",e),null}}o(Di,"getSiteStats");async function Tn(r){try{await Di(r)||await r.insert(le).values({id:Mr,totalAddressesCreated:0,totalEmailsReceived:0,totalApiCalls:0,totalApiKeysCreated:0,updatedAt:new Date}).execute()}catch(e){console.error("initSiteStats error:",e)}}o(Tn,"initSiteStats");async function Io(r,e=1){try{await Tn(r),await r.update(le).set({totalEmailsReceived:f`${le.totalEmailsReceived} + ${e}`,updatedAt:new Date}).where(W(le.id,Mr)).execute()}catch(t){console.error("incrementEmailsReceived error:",t)}}o(Io,"incrementEmailsReceived");async function $o(r,e=1){try{await Tn(r),await r.update(le).set({totalAddressesCreated:f`${le.totalAddressesCreated} + ${e}`,updatedAt:new Date}).where(W(le.id,Mr)).execute()}catch(t){console.error("incrementAddressesCreated error:",t)}}o($o,"incrementAddressesCreated");async function Mo(r,e=1){try{await Tn(r),await r.update(le).set({totalApiKeysCreated:f`${le.totalApiKeysCreated} + ${e}`,updatedAt:new Date}).where(W(le.id,Mr)).execute()}catch(t){console.error("incrementApiKeysCreated error:",t)}}o(Mo,"incrementApiKeysCreated");async function Lo(r,e=1){try{await Tn(r),await r.update(le).set({totalApiCalls:f`${le.totalApiCalls} + ${e}`,updatedAt:new Date}).where(W(le.id,Mr)).execute()}catch(t){console.error("incrementApiCalls error:",t)}}o(Lo,"incrementApiCalls");var Wh,Lr=class extends Nr{constructor(e,t,s,n={}){super(t),this.client=e,this.schema=s,this.options=n,this.logger=n.logger??new gr}logger;prepareQuery(e,t,s,n){let i=this.client.prepare(e.sql);return new Bs(i,e,this.logger,t,s,n)}async batch(e){let t=[],s=[];for(let i of e){let a=i._prepare(),u=a.getQuery();if(t.push(a),u.params.length>0)s.push(a.stmt.bind(...u.params));else{let l=a.getQuery();s.push(this.client.prepare(l.sql).bind(...l.params))}}return(await this.client.batch(s)).map((i,a)=>t[a].mapResult(i,!0))}extractRawAllValueFromBatchResult(e){return e.results}extractRawGetValueFromBatchResult(e){return e.results[0]}extractRawValuesValueFromBatchResult(e){return _i(e.results)}async transaction(e,t){let s=new Os("async",this.dialect,this,this.schema);await this.run(f.raw(`begin${t?.behavior?" "+t.behavior:""}`));try{let n=await e(s);return await this.run(f`commit`),n}catch(n){throw await this.run(f`rollback`),n}}};o(Lr,"SQLiteD1Session"),Wh=p,h(Lr,Wh,"SQLiteD1Session");var Jh,Ei=class extends kr{async transaction(e){let t=`sp${this.nestedIndex}`,s=new Ei("async",this.dialect,this.session,this.schema,this.nestedIndex+1);await this.session.run(f.raw(`savepoint ${t}`));try{let n=await e(s);return await this.session.run(f.raw(`release savepoint ${t}`)),n}catch(n){throw await this.session.run(f.raw(`rollback to savepoint ${t}`)),n}}},Os=Ei;o(Os,"D1Transaction"),Jh=p,h(Os,Jh,"D1Transaction");function _i(r){let e=[];for(let t of r){let s=Object.keys(t).map(n=>t[n]);e.push(s)}return e}o(_i,"d1ToRawMapping");var Yh,Bs=class extends Tr{constructor(e,t,s,n,i,a){super("async",i,t),this.logger=s,this.customResultMapper=a,this.fields=n,this.stmt=e}customResultMapper;fields;stmt;run(e){let t=Yr(this.query.params,e??{});return this.logger.logQuery(this.query.sql,t),this.stmt.bind(...t).run()}async all(e){let{fields:t,query:s,logger:n,stmt:i,customResultMapper:a}=this;if(!t&&!a){let l=Yr(s.params,e??{});return n.logQuery(s.sql,l),i.bind(...l).all().then(({results:c})=>this.mapAllResult(c))}let u=await this.values(e);return this.mapAllResult(u)}mapAllResult(e,t){return t&&(e=_i(e.results)),!this.fields&&!this.customResultMapper?e:this.customResultMapper?this.customResultMapper(e):e.map(s=>cn(this.fields,s,this.joinsNotNullableMap))}async get(e){let{fields:t,joinsNotNullableMap:s,query:n,logger:i,stmt:a,customResultMapper:u}=this;if(!t&&!u){let c=Yr(n.params,e??{});return i.logQuery(n.sql,c),a.bind(...c).all().then(({results:d})=>d[0])}let l=await this.values(e);if(l[0])return u?u(l):cn(t,l[0],s)}mapGetResult(e,t){return t&&(e=_i(e.results)[0]),!this.fields&&!this.customResultMapper?e:this.customResultMapper?this.customResultMapper([e]):cn(this.fields,e,this.joinsNotNullableMap)}values(e){let t=Yr(this.query.params,e??{});return this.logger.logQuery(this.query.sql,t),this.stmt.bind(...t).raw()}};o(Bs,"D1PreparedQuery"),Yh=p,h(Bs,Yh,"D1PreparedQuery");var Xh,qs=class extends ut{async batch(e){return this.session.batch(e)}};o(qs,"DrizzleD1Database"),Xh=p,h(qs,Xh,"LibSQLDatabase");function Po(r,e={}){let t=new Ar,s;e.logger===!0?s=new mr:e.logger!==!1&&(s=e.logger);let n;if(e.schema){let a=so(e.schema,io);n={fullSchema:e.schema,schema:a.tables,tableNamesMap:a.tableNamesMap}}let i=new Lr(r,t,n,{logger:s});return new qs("async",t,i,n)}o(Po,"drizzle");function ce(r){return Po(r)}o(ce,"getD1DB");var Zh="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict";var Fs=o((r=21)=>{let e="",t=r|0;for(;t--;)e+=Zh[Math.random()*64|0];return e},"nanoid");var Dt=new TextEncoder,zo="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Is=new Uint8Array(256);for(js=0;js<zo.length;js++)Is[zo.charCodeAt(js)]=js;var js;function Nn(r){let e=Math.ceil(r.length/4)*3,t=r.length,s=0;r.length%4===3?e--:r.length%4===2?e-=2:r[r.length-1]==="="&&(e--,r[r.length-2]==="="&&e--);let n=new ArrayBuffer(e),i=new Uint8Array(n);for(let a=0;a<t;a+=4){let u=Is[r.charCodeAt(a)],l=Is[r.charCodeAt(a+1)],c=Is[r.charCodeAt(a+2)],d=Is[r.charCodeAt(a+3)];i[s++]=u<<2|l>>4,i[s++]=(l&15)<<4|c>>2,i[s++]=(c&3)<<6|d&63}return n}o(Nn,"decodeBase64");function Pr(r){r=r||"utf8";let e;try{e=new TextDecoder(r)}catch{e=new TextDecoder("windows-1252")}return e}o(Pr,"getDecoder");async function _t(r){if("arrayBuffer"in r)return await r.arrayBuffer();let e=new FileReader;return new Promise((t,s)=>{e.onload=function(n){t(n.target.result)},e.onerror=function(n){s(e.error)},e.readAsArrayBuffer(r)})}o(_t,"blobToArrayBuffer");function Ko(r){return r>=48&&r<=57||r>=97&&r<=102||r>=65&&r<=70?String.fromCharCode(r):!1}o(Ko,"getHex");function ep(r,e,t){let s=r.indexOf("*");s>=0&&(r=r.substr(0,s)),e=e.toUpperCase();let n;if(e==="Q"){t=t.replace(/=\s+([0-9a-fA-F])/g,"=$1").replace(/[_\s]/g," ");let i=Dt.encode(t),a=[];for(let l=0,c=i.length;l<c;l++){let d=i[l];if(l<=c-2&&d===61){let m=Ko(i[l+1]),x=Ko(i[l+2]);if(m&&x){let N=parseInt(m+x,16);a.push(N),l+=2;continue}}a.push(d)}n=new ArrayBuffer(a.length);let u=new DataView(n);for(let l=0,c=a.length;l<c;l++)u.setUint8(l,a[l])}else e==="B"?n=Nn(t.replace(/[^a-zA-Z0-9\+\/=]+/g,"")):n=Dt.encode(t);return Pr(r).decode(n)}o(ep,"decodeWord");function Zt(r){let e=!0,t=!1;for(;!t;){let s=(r||"").toString().replace(/(=\?([^?]+)\?[Bb]\?([^?]*)\?=)\s*(?==\?([^?]+)\?[Bb]\?[^?]*\?=)/g,(n,i,a,u,l)=>e&&a===l&&u.length%4===0&&!/=$/.test(u)?i+"__\0JOIN\0__":n).replace(/(=\?([^?]+)\?[Qq]\?[^?]*\?=)\s*(?==\?([^?]+)\?[Qq]\?[^?]*\?=)/g,(n,i,a,u)=>e&&a===u?i+"__\0JOIN\0__":n).replace(/(\?=)?__\x00JOIN\x00__(=\?([^?]+)\?[QqBb]\?)?/g,"").replace(/(=\?[^?]+\?[QqBb]\?[^?]*\?=)\s+(?==\?[^?]+\?[QqBb]\?[^?]*\?=)/g,"$1").replace(/=\?([\w_\-*]+)\?([QqBb])\?([^?]*)\?=/g,(n,i,a,u)=>ep(i,a,u));if(e&&s.indexOf("\uFFFD")>=0)e=!1;else return s}}o(Zt,"decodeWords");function tp(r,e){e=e||"utf-8";let t=[];for(let i=0;i<r.length;i++){let a=r.charAt(i);if(a==="%"&&/^[a-f0-9]{2}/i.test(r.substr(i+1,2))){let u=r.substr(i+1,2);i+=2,t.push(parseInt(u,16))}else if(a.charCodeAt(0)>126){a=Dt.encode(a);for(let u=0;u<a.length;u++)t.push(a[u])}else t.push(a.charCodeAt(0))}let s=new ArrayBuffer(t.length),n=new DataView(s);for(let i=0,a=t.length;i<a;i++)n.setUint8(i,t[i]);return Pr(e).decode(s)}o(tp,"decodeURIComponentWithCharset");function Uo(r){let e=new Map;Object.keys(r.params).forEach(t=>{let s=t.match(/\*((\d+)\*?)?$/);if(!s)return;let n=t.substr(0,s.index).toLowerCase(),i=Number(s[2])||0,a;e.has(n)?a=e.get(n):(a={charset:!1,values:[]},e.set(n,a));let u=r.params[t];i===0&&s[0].charAt(s[0].length-1)==="*"&&(s=u.match(/^([^']*)'[^']*'(.*)$/))&&(a.charset=s[1]||"utf-8",u=s[2]),a.values.push({nr:i,value:u}),delete r.params[t]}),e.forEach((t,s)=>{r.params[s]=tp(t.values.sort((n,i)=>n.nr-i.nr).map(n=>n.value).join(""),t.charset)})}o(Uo,"decodeParameterValueContinuations");var zr=class{constructor(){this.chunks=[]}update(e){this.chunks.push(e),this.chunks.push(`
`)}finalize(){return _t(new Blob(this.chunks,{type:"application/octet-stream"}))}};o(zr,"PassThroughDecoder");var Kr=class{constructor(e){e=e||{},this.decoder=e.decoder||new TextDecoder,this.maxChunkSize=100*1024,this.chunks=[],this.remainder=""}update(e){let t=this.decoder.decode(e);if(/[^a-zA-Z0-9+\/]/.test(t)&&(t=t.replace(/[^a-zA-Z0-9+\/]+/g,"")),this.remainder+=t,this.remainder.length>=this.maxChunkSize){let s=Math.floor(this.remainder.length/4)*4,n;s===this.remainder.length?(n=this.remainder,this.remainder=""):(n=this.remainder.substr(0,s),this.remainder=this.remainder.substr(s)),n.length&&this.chunks.push(Nn(n))}}finalize(){return this.remainder&&!/^=+$/.test(this.remainder)&&this.chunks.push(Nn(this.remainder)),_t(new Blob(this.chunks,{type:"application/octet-stream"}))}};o(Kr,"Base64Decoder");var Vo=/^=[a-f0-9]{2}$/i,rp=/(?==[a-f0-9]{2})/i,sp=/=\r?\n/g,np=/=[a-fA-F0-9]?$/,Ur=class{constructor(e){e=e||{},this.decoder=e.decoder||new TextDecoder,this.maxChunkSize=100*1024,this.remainder="",this.chunks=[]}decodeQPBytes(e){let t=new ArrayBuffer(e.length),s=new DataView(t);for(let n=0,i=e.length;n<i;n++)s.setUint8(n,parseInt(e[n],16));return t}decodeChunks(e){e=e.replace(sp,"");let t=e.split(rp),s=[];for(let n of t){if(n.charAt(0)!=="="){s.length&&(this.chunks.push(this.decodeQPBytes(s)),s=[]),this.chunks.push(n);continue}if(n.length===3){Vo.test(n)?s.push(n.substr(1)):(s.length&&(this.chunks.push(this.decodeQPBytes(s)),s=[]),this.chunks.push(n));continue}if(n.length>3){let i=n.substr(0,3);Vo.test(i)?(s.push(n.substr(1,2)),this.chunks.push(this.decodeQPBytes(s)),s=[],n=n.substr(3),this.chunks.push(n)):(s.length&&(this.chunks.push(this.decodeQPBytes(s)),s=[]),this.chunks.push(n))}}s.length&&(this.chunks.push(this.decodeQPBytes(s)),s=[])}update(e){let t=this.decoder.decode(e)+`
`;if(t=this.remainder+t,t.length<this.maxChunkSize){this.remainder=t;return}this.remainder="";let s=t.match(np);if(s){if(s.index===0){this.remainder=t;return}this.remainder=t.substr(s.index),t=t.substr(0,s.index)}this.decodeChunks(t)}finalize(){return this.remainder.length&&(this.decodeChunks(this.remainder),this.remainder=""),_t(new Blob(this.chunks,{type:"application/octet-stream"}))}};o(Ur,"QPDecoder");var er=class{constructor(e){if(this.options=e||{},this.postalMime=this.options.postalMime,this.root=!!this.options.parentNode,this.childNodes=[],this.options.parentNode){if(this.parentNode=this.options.parentNode,this.depth=this.parentNode.depth+1,this.depth>this.options.maxNestingDepth)throw new Error(`Maximum MIME nesting depth of ${this.options.maxNestingDepth} levels exceeded`);this.options.parentNode.childNodes.push(this)}else this.depth=0;this.state="header",this.headerLines=[],this.headerSize=0,this.contentType={value:"text/plain",default:!0},this.contentTransferEncoding={value:"8bit"},this.contentDisposition={value:""},this.headers=[],this.contentDecoder=!1}setupContentDecoder(e){/base64/i.test(e)?this.contentDecoder=new Kr:/quoted-printable/i.test(e)?this.contentDecoder=new Ur({decoder:Pr(this.contentType.parsed.params.charset)}):this.contentDecoder=new zr}async finalize(){if(this.state==="finished")return;this.state==="header"&&this.processHeaders();let e=this.postalMime.boundaries;for(let t=e.length-1;t>=0;t--)if(e[t].node===this){e.splice(t,1);break}await this.finalizeChildNodes(),this.content=this.contentDecoder?await this.contentDecoder.finalize():null,this.state="finished"}async finalizeChildNodes(){for(let e of this.childNodes)await e.finalize()}parseStructuredHeader(e){let t={value:!1,params:{}},s=!1,n="",i="value",a=!1,u=!1,l;for(let c=0,d=e.length;c<d;c++)switch(l=e.charAt(c),i){case"key":if(l==="="){s=n.trim().toLowerCase(),i="value",n="";break}n+=l;break;case"value":if(u)n+=l;else if(l==="\\"){u=!0;continue}else a&&l===a?a=!1:!a&&l==='"'?a=l:!a&&l===";"?(s===!1?t.value=n.trim():t.params[s]=n.trim(),i="key",n=""):n+=l;u=!1;break}return n=n.trim(),i==="value"?s===!1?t.value=n:t.params[s]=n:n&&(t.params[n.toLowerCase()]=""),t.value&&(t.value=t.value.toLowerCase()),Uo(t),t}decodeFlowedText(e,t){return e.split(/\r?\n/).reduce((s,n)=>/ $/.test(s)&&!/(^|\n)-- $/.test(s)?t?s.slice(0,-1)+n:s+n:s+`
`+n).replace(/^ /gm,"")}getTextContent(){if(!this.content)return"";let e=Pr(this.contentType.parsed.params.charset).decode(this.content);return/^flowed$/i.test(this.contentType.parsed.params.format)&&(e=this.decodeFlowedText(e,/^yes$/i.test(this.contentType.parsed.params.delsp))),e}processHeaders(){for(let e=this.headerLines.length-1;e>=0;e--){let t=this.headerLines[e];if(e&&/^\s/.test(t))this.headerLines[e-1]+=`
`+t,this.headerLines.splice(e,1);else{t=t.replace(/\s+/g," ");let s=t.indexOf(":"),n=s<0?t.trim():t.substr(0,s).trim(),i=s<0?"":t.substr(s+1).trim();switch(this.headers.push({key:n.toLowerCase(),originalKey:n,value:i}),n.toLowerCase()){case"content-type":this.contentType.default&&(this.contentType={value:i,parsed:{}});break;case"content-transfer-encoding":this.contentTransferEncoding={value:i,parsed:{}};break;case"content-disposition":this.contentDisposition={value:i,parsed:{}};break;case"content-id":this.contentId=i;break;case"content-description":this.contentDescription=i;break}}}this.contentType.parsed=this.parseStructuredHeader(this.contentType.value),this.contentType.multipart=/^multipart\//i.test(this.contentType.parsed.value)?this.contentType.parsed.value.substr(this.contentType.parsed.value.indexOf("/")+1):!1,this.contentType.multipart&&this.contentType.parsed.params.boundary&&this.postalMime.boundaries.push({value:Dt.encode(this.contentType.parsed.params.boundary),node:this}),this.contentDisposition.parsed=this.parseStructuredHeader(this.contentDisposition.value),this.contentTransferEncoding.encoding=this.contentTransferEncoding.value.toLowerCase().split(/[^\w-]/).shift(),this.setupContentDecoder(this.contentTransferEncoding.encoding)}feed(e){switch(this.state){case"header":if(!e.length)return this.state="body",this.processHeaders();if(this.headerSize+=e.length,this.headerSize>this.options.maxHeadersSize)throw new Error(`Maximum header size of ${this.options.maxHeadersSize} bytes exceeded`);this.headerLines.push(Pr().decode(e));break;case"body":this.contentDecoder.update(e)}}};o(er,"MimeNode");var ip={"&AElig":"\xC6","&AElig;":"\xC6","&AMP":"&","&AMP;":"&","&Aacute":"\xC1","&Aacute;":"\xC1","&Abreve;":"\u0102","&Acirc":"\xC2","&Acirc;":"\xC2","&Acy;":"\u0410","&Afr;":"\u{1D504}","&Agrave":"\xC0","&Agrave;":"\xC0","&Alpha;":"\u0391","&Amacr;":"\u0100","&And;":"\u2A53","&Aogon;":"\u0104","&Aopf;":"\u{1D538}","&ApplyFunction;":"\u2061","&Aring":"\xC5","&Aring;":"\xC5","&Ascr;":"\u{1D49C}","&Assign;":"\u2254","&Atilde":"\xC3","&Atilde;":"\xC3","&Auml":"\xC4","&Auml;":"\xC4","&Backslash;":"\u2216","&Barv;":"\u2AE7","&Barwed;":"\u2306","&Bcy;":"\u0411","&Because;":"\u2235","&Bernoullis;":"\u212C","&Beta;":"\u0392","&Bfr;":"\u{1D505}","&Bopf;":"\u{1D539}","&Breve;":"\u02D8","&Bscr;":"\u212C","&Bumpeq;":"\u224E","&CHcy;":"\u0427","&COPY":"\xA9","&COPY;":"\xA9","&Cacute;":"\u0106","&Cap;":"\u22D2","&CapitalDifferentialD;":"\u2145","&Cayleys;":"\u212D","&Ccaron;":"\u010C","&Ccedil":"\xC7","&Ccedil;":"\xC7","&Ccirc;":"\u0108","&Cconint;":"\u2230","&Cdot;":"\u010A","&Cedilla;":"\xB8","&CenterDot;":"\xB7","&Cfr;":"\u212D","&Chi;":"\u03A7","&CircleDot;":"\u2299","&CircleMinus;":"\u2296","&CirclePlus;":"\u2295","&CircleTimes;":"\u2297","&ClockwiseContourIntegral;":"\u2232","&CloseCurlyDoubleQuote;":"\u201D","&CloseCurlyQuote;":"\u2019","&Colon;":"\u2237","&Colone;":"\u2A74","&Congruent;":"\u2261","&Conint;":"\u222F","&ContourIntegral;":"\u222E","&Copf;":"\u2102","&Coproduct;":"\u2210","&CounterClockwiseContourIntegral;":"\u2233","&Cross;":"\u2A2F","&Cscr;":"\u{1D49E}","&Cup;":"\u22D3","&CupCap;":"\u224D","&DD;":"\u2145","&DDotrahd;":"\u2911","&DJcy;":"\u0402","&DScy;":"\u0405","&DZcy;":"\u040F","&Dagger;":"\u2021","&Darr;":"\u21A1","&Dashv;":"\u2AE4","&Dcaron;":"\u010E","&Dcy;":"\u0414","&Del;":"\u2207","&Delta;":"\u0394","&Dfr;":"\u{1D507}","&DiacriticalAcute;":"\xB4","&DiacriticalDot;":"\u02D9","&DiacriticalDoubleAcute;":"\u02DD","&DiacriticalGrave;":"`","&DiacriticalTilde;":"\u02DC","&Diamond;":"\u22C4","&DifferentialD;":"\u2146","&Dopf;":"\u{1D53B}","&Dot;":"\xA8","&DotDot;":"\u20DC","&DotEqual;":"\u2250","&DoubleContourIntegral;":"\u222F","&DoubleDot;":"\xA8","&DoubleDownArrow;":"\u21D3","&DoubleLeftArrow;":"\u21D0","&DoubleLeftRightArrow;":"\u21D4","&DoubleLeftTee;":"\u2AE4","&DoubleLongLeftArrow;":"\u27F8","&DoubleLongLeftRightArrow;":"\u27FA","&DoubleLongRightArrow;":"\u27F9","&DoubleRightArrow;":"\u21D2","&DoubleRightTee;":"\u22A8","&DoubleUpArrow;":"\u21D1","&DoubleUpDownArrow;":"\u21D5","&DoubleVerticalBar;":"\u2225","&DownArrow;":"\u2193","&DownArrowBar;":"\u2913","&DownArrowUpArrow;":"\u21F5","&DownBreve;":"\u0311","&DownLeftRightVector;":"\u2950","&DownLeftTeeVector;":"\u295E","&DownLeftVector;":"\u21BD","&DownLeftVectorBar;":"\u2956","&DownRightTeeVector;":"\u295F","&DownRightVector;":"\u21C1","&DownRightVectorBar;":"\u2957","&DownTee;":"\u22A4","&DownTeeArrow;":"\u21A7","&Downarrow;":"\u21D3","&Dscr;":"\u{1D49F}","&Dstrok;":"\u0110","&ENG;":"\u014A","&ETH":"\xD0","&ETH;":"\xD0","&Eacute":"\xC9","&Eacute;":"\xC9","&Ecaron;":"\u011A","&Ecirc":"\xCA","&Ecirc;":"\xCA","&Ecy;":"\u042D","&Edot;":"\u0116","&Efr;":"\u{1D508}","&Egrave":"\xC8","&Egrave;":"\xC8","&Element;":"\u2208","&Emacr;":"\u0112","&EmptySmallSquare;":"\u25FB","&EmptyVerySmallSquare;":"\u25AB","&Eogon;":"\u0118","&Eopf;":"\u{1D53C}","&Epsilon;":"\u0395","&Equal;":"\u2A75","&EqualTilde;":"\u2242","&Equilibrium;":"\u21CC","&Escr;":"\u2130","&Esim;":"\u2A73","&Eta;":"\u0397","&Euml":"\xCB","&Euml;":"\xCB","&Exists;":"\u2203","&ExponentialE;":"\u2147","&Fcy;":"\u0424","&Ffr;":"\u{1D509}","&FilledSmallSquare;":"\u25FC","&FilledVerySmallSquare;":"\u25AA","&Fopf;":"\u{1D53D}","&ForAll;":"\u2200","&Fouriertrf;":"\u2131","&Fscr;":"\u2131","&GJcy;":"\u0403","&GT":">","&GT;":">","&Gamma;":"\u0393","&Gammad;":"\u03DC","&Gbreve;":"\u011E","&Gcedil;":"\u0122","&Gcirc;":"\u011C","&Gcy;":"\u0413","&Gdot;":"\u0120","&Gfr;":"\u{1D50A}","&Gg;":"\u22D9","&Gopf;":"\u{1D53E}","&GreaterEqual;":"\u2265","&GreaterEqualLess;":"\u22DB","&GreaterFullEqual;":"\u2267","&GreaterGreater;":"\u2AA2","&GreaterLess;":"\u2277","&GreaterSlantEqual;":"\u2A7E","&GreaterTilde;":"\u2273","&Gscr;":"\u{1D4A2}","&Gt;":"\u226B","&HARDcy;":"\u042A","&Hacek;":"\u02C7","&Hat;":"^","&Hcirc;":"\u0124","&Hfr;":"\u210C","&HilbertSpace;":"\u210B","&Hopf;":"\u210D","&HorizontalLine;":"\u2500","&Hscr;":"\u210B","&Hstrok;":"\u0126","&HumpDownHump;":"\u224E","&HumpEqual;":"\u224F","&IEcy;":"\u0415","&IJlig;":"\u0132","&IOcy;":"\u0401","&Iacute":"\xCD","&Iacute;":"\xCD","&Icirc":"\xCE","&Icirc;":"\xCE","&Icy;":"\u0418","&Idot;":"\u0130","&Ifr;":"\u2111","&Igrave":"\xCC","&Igrave;":"\xCC","&Im;":"\u2111","&Imacr;":"\u012A","&ImaginaryI;":"\u2148","&Implies;":"\u21D2","&Int;":"\u222C","&Integral;":"\u222B","&Intersection;":"\u22C2","&InvisibleComma;":"\u2063","&InvisibleTimes;":"\u2062","&Iogon;":"\u012E","&Iopf;":"\u{1D540}","&Iota;":"\u0399","&Iscr;":"\u2110","&Itilde;":"\u0128","&Iukcy;":"\u0406","&Iuml":"\xCF","&Iuml;":"\xCF","&Jcirc;":"\u0134","&Jcy;":"\u0419","&Jfr;":"\u{1D50D}","&Jopf;":"\u{1D541}","&Jscr;":"\u{1D4A5}","&Jsercy;":"\u0408","&Jukcy;":"\u0404","&KHcy;":"\u0425","&KJcy;":"\u040C","&Kappa;":"\u039A","&Kcedil;":"\u0136","&Kcy;":"\u041A","&Kfr;":"\u{1D50E}","&Kopf;":"\u{1D542}","&Kscr;":"\u{1D4A6}","&LJcy;":"\u0409","&LT":"<","&LT;":"<","&Lacute;":"\u0139","&Lambda;":"\u039B","&Lang;":"\u27EA","&Laplacetrf;":"\u2112","&Larr;":"\u219E","&Lcaron;":"\u013D","&Lcedil;":"\u013B","&Lcy;":"\u041B","&LeftAngleBracket;":"\u27E8","&LeftArrow;":"\u2190","&LeftArrowBar;":"\u21E4","&LeftArrowRightArrow;":"\u21C6","&LeftCeiling;":"\u2308","&LeftDoubleBracket;":"\u27E6","&LeftDownTeeVector;":"\u2961","&LeftDownVector;":"\u21C3","&LeftDownVectorBar;":"\u2959","&LeftFloor;":"\u230A","&LeftRightArrow;":"\u2194","&LeftRightVector;":"\u294E","&LeftTee;":"\u22A3","&LeftTeeArrow;":"\u21A4","&LeftTeeVector;":"\u295A","&LeftTriangle;":"\u22B2","&LeftTriangleBar;":"\u29CF","&LeftTriangleEqual;":"\u22B4","&LeftUpDownVector;":"\u2951","&LeftUpTeeVector;":"\u2960","&LeftUpVector;":"\u21BF","&LeftUpVectorBar;":"\u2958","&LeftVector;":"\u21BC","&LeftVectorBar;":"\u2952","&Leftarrow;":"\u21D0","&Leftrightarrow;":"\u21D4","&LessEqualGreater;":"\u22DA","&LessFullEqual;":"\u2266","&LessGreater;":"\u2276","&LessLess;":"\u2AA1","&LessSlantEqual;":"\u2A7D","&LessTilde;":"\u2272","&Lfr;":"\u{1D50F}","&Ll;":"\u22D8","&Lleftarrow;":"\u21DA","&Lmidot;":"\u013F","&LongLeftArrow;":"\u27F5","&LongLeftRightArrow;":"\u27F7","&LongRightArrow;":"\u27F6","&Longleftarrow;":"\u27F8","&Longleftrightarrow;":"\u27FA","&Longrightarrow;":"\u27F9","&Lopf;":"\u{1D543}","&LowerLeftArrow;":"\u2199","&LowerRightArrow;":"\u2198","&Lscr;":"\u2112","&Lsh;":"\u21B0","&Lstrok;":"\u0141","&Lt;":"\u226A","&Map;":"\u2905","&Mcy;":"\u041C","&MediumSpace;":"\u205F","&Mellintrf;":"\u2133","&Mfr;":"\u{1D510}","&MinusPlus;":"\u2213","&Mopf;":"\u{1D544}","&Mscr;":"\u2133","&Mu;":"\u039C","&NJcy;":"\u040A","&Nacute;":"\u0143","&Ncaron;":"\u0147","&Ncedil;":"\u0145","&Ncy;":"\u041D","&NegativeMediumSpace;":"\u200B","&NegativeThickSpace;":"\u200B","&NegativeThinSpace;":"\u200B","&NegativeVeryThinSpace;":"\u200B","&NestedGreaterGreater;":"\u226B","&NestedLessLess;":"\u226A","&NewLine;":`
`,"&Nfr;":"\u{1D511}","&NoBreak;":"\u2060","&NonBreakingSpace;":"\xA0","&Nopf;":"\u2115","&Not;":"\u2AEC","&NotCongruent;":"\u2262","&NotCupCap;":"\u226D","&NotDoubleVerticalBar;":"\u2226","&NotElement;":"\u2209","&NotEqual;":"\u2260","&NotEqualTilde;":"\u2242\u0338","&NotExists;":"\u2204","&NotGreater;":"\u226F","&NotGreaterEqual;":"\u2271","&NotGreaterFullEqual;":"\u2267\u0338","&NotGreaterGreater;":"\u226B\u0338","&NotGreaterLess;":"\u2279","&NotGreaterSlantEqual;":"\u2A7E\u0338","&NotGreaterTilde;":"\u2275","&NotHumpDownHump;":"\u224E\u0338","&NotHumpEqual;":"\u224F\u0338","&NotLeftTriangle;":"\u22EA","&NotLeftTriangleBar;":"\u29CF\u0338","&NotLeftTriangleEqual;":"\u22EC","&NotLess;":"\u226E","&NotLessEqual;":"\u2270","&NotLessGreater;":"\u2278","&NotLessLess;":"\u226A\u0338","&NotLessSlantEqual;":"\u2A7D\u0338","&NotLessTilde;":"\u2274","&NotNestedGreaterGreater;":"\u2AA2\u0338","&NotNestedLessLess;":"\u2AA1\u0338","&NotPrecedes;":"\u2280","&NotPrecedesEqual;":"\u2AAF\u0338","&NotPrecedesSlantEqual;":"\u22E0","&NotReverseElement;":"\u220C","&NotRightTriangle;":"\u22EB","&NotRightTriangleBar;":"\u29D0\u0338","&NotRightTriangleEqual;":"\u22ED","&NotSquareSubset;":"\u228F\u0338","&NotSquareSubsetEqual;":"\u22E2","&NotSquareSuperset;":"\u2290\u0338","&NotSquareSupersetEqual;":"\u22E3","&NotSubset;":"\u2282\u20D2","&NotSubsetEqual;":"\u2288","&NotSucceeds;":"\u2281","&NotSucceedsEqual;":"\u2AB0\u0338","&NotSucceedsSlantEqual;":"\u22E1","&NotSucceedsTilde;":"\u227F\u0338","&NotSuperset;":"\u2283\u20D2","&NotSupersetEqual;":"\u2289","&NotTilde;":"\u2241","&NotTildeEqual;":"\u2244","&NotTildeFullEqual;":"\u2247","&NotTildeTilde;":"\u2249","&NotVerticalBar;":"\u2224","&Nscr;":"\u{1D4A9}","&Ntilde":"\xD1","&Ntilde;":"\xD1","&Nu;":"\u039D","&OElig;":"\u0152","&Oacute":"\xD3","&Oacute;":"\xD3","&Ocirc":"\xD4","&Ocirc;":"\xD4","&Ocy;":"\u041E","&Odblac;":"\u0150","&Ofr;":"\u{1D512}","&Ograve":"\xD2","&Ograve;":"\xD2","&Omacr;":"\u014C","&Omega;":"\u03A9","&Omicron;":"\u039F","&Oopf;":"\u{1D546}","&OpenCurlyDoubleQuote;":"\u201C","&OpenCurlyQuote;":"\u2018","&Or;":"\u2A54","&Oscr;":"\u{1D4AA}","&Oslash":"\xD8","&Oslash;":"\xD8","&Otilde":"\xD5","&Otilde;":"\xD5","&Otimes;":"\u2A37","&Ouml":"\xD6","&Ouml;":"\xD6","&OverBar;":"\u203E","&OverBrace;":"\u23DE","&OverBracket;":"\u23B4","&OverParenthesis;":"\u23DC","&PartialD;":"\u2202","&Pcy;":"\u041F","&Pfr;":"\u{1D513}","&Phi;":"\u03A6","&Pi;":"\u03A0","&PlusMinus;":"\xB1","&Poincareplane;":"\u210C","&Popf;":"\u2119","&Pr;":"\u2ABB","&Precedes;":"\u227A","&PrecedesEqual;":"\u2AAF","&PrecedesSlantEqual;":"\u227C","&PrecedesTilde;":"\u227E","&Prime;":"\u2033","&Product;":"\u220F","&Proportion;":"\u2237","&Proportional;":"\u221D","&Pscr;":"\u{1D4AB}","&Psi;":"\u03A8","&QUOT":'"',"&QUOT;":'"',"&Qfr;":"\u{1D514}","&Qopf;":"\u211A","&Qscr;":"\u{1D4AC}","&RBarr;":"\u2910","&REG":"\xAE","&REG;":"\xAE","&Racute;":"\u0154","&Rang;":"\u27EB","&Rarr;":"\u21A0","&Rarrtl;":"\u2916","&Rcaron;":"\u0158","&Rcedil;":"\u0156","&Rcy;":"\u0420","&Re;":"\u211C","&ReverseElement;":"\u220B","&ReverseEquilibrium;":"\u21CB","&ReverseUpEquilibrium;":"\u296F","&Rfr;":"\u211C","&Rho;":"\u03A1","&RightAngleBracket;":"\u27E9","&RightArrow;":"\u2192","&RightArrowBar;":"\u21E5","&RightArrowLeftArrow;":"\u21C4","&RightCeiling;":"\u2309","&RightDoubleBracket;":"\u27E7","&RightDownTeeVector;":"\u295D","&RightDownVector;":"\u21C2","&RightDownVectorBar;":"\u2955","&RightFloor;":"\u230B","&RightTee;":"\u22A2","&RightTeeArrow;":"\u21A6","&RightTeeVector;":"\u295B","&RightTriangle;":"\u22B3","&RightTriangleBar;":"\u29D0","&RightTriangleEqual;":"\u22B5","&RightUpDownVector;":"\u294F","&RightUpTeeVector;":"\u295C","&RightUpVector;":"\u21BE","&RightUpVectorBar;":"\u2954","&RightVector;":"\u21C0","&RightVectorBar;":"\u2953","&Rightarrow;":"\u21D2","&Ropf;":"\u211D","&RoundImplies;":"\u2970","&Rrightarrow;":"\u21DB","&Rscr;":"\u211B","&Rsh;":"\u21B1","&RuleDelayed;":"\u29F4","&SHCHcy;":"\u0429","&SHcy;":"\u0428","&SOFTcy;":"\u042C","&Sacute;":"\u015A","&Sc;":"\u2ABC","&Scaron;":"\u0160","&Scedil;":"\u015E","&Scirc;":"\u015C","&Scy;":"\u0421","&Sfr;":"\u{1D516}","&ShortDownArrow;":"\u2193","&ShortLeftArrow;":"\u2190","&ShortRightArrow;":"\u2192","&ShortUpArrow;":"\u2191","&Sigma;":"\u03A3","&SmallCircle;":"\u2218","&Sopf;":"\u{1D54A}","&Sqrt;":"\u221A","&Square;":"\u25A1","&SquareIntersection;":"\u2293","&SquareSubset;":"\u228F","&SquareSubsetEqual;":"\u2291","&SquareSuperset;":"\u2290","&SquareSupersetEqual;":"\u2292","&SquareUnion;":"\u2294","&Sscr;":"\u{1D4AE}","&Star;":"\u22C6","&Sub;":"\u22D0","&Subset;":"\u22D0","&SubsetEqual;":"\u2286","&Succeeds;":"\u227B","&SucceedsEqual;":"\u2AB0","&SucceedsSlantEqual;":"\u227D","&SucceedsTilde;":"\u227F","&SuchThat;":"\u220B","&Sum;":"\u2211","&Sup;":"\u22D1","&Superset;":"\u2283","&SupersetEqual;":"\u2287","&Supset;":"\u22D1","&THORN":"\xDE","&THORN;":"\xDE","&TRADE;":"\u2122","&TSHcy;":"\u040B","&TScy;":"\u0426","&Tab;":"	","&Tau;":"\u03A4","&Tcaron;":"\u0164","&Tcedil;":"\u0162","&Tcy;":"\u0422","&Tfr;":"\u{1D517}","&Therefore;":"\u2234","&Theta;":"\u0398","&ThickSpace;":"\u205F\u200A","&ThinSpace;":"\u2009","&Tilde;":"\u223C","&TildeEqual;":"\u2243","&TildeFullEqual;":"\u2245","&TildeTilde;":"\u2248","&Topf;":"\u{1D54B}","&TripleDot;":"\u20DB","&Tscr;":"\u{1D4AF}","&Tstrok;":"\u0166","&Uacute":"\xDA","&Uacute;":"\xDA","&Uarr;":"\u219F","&Uarrocir;":"\u2949","&Ubrcy;":"\u040E","&Ubreve;":"\u016C","&Ucirc":"\xDB","&Ucirc;":"\xDB","&Ucy;":"\u0423","&Udblac;":"\u0170","&Ufr;":"\u{1D518}","&Ugrave":"\xD9","&Ugrave;":"\xD9","&Umacr;":"\u016A","&UnderBar;":"_","&UnderBrace;":"\u23DF","&UnderBracket;":"\u23B5","&UnderParenthesis;":"\u23DD","&Union;":"\u22C3","&UnionPlus;":"\u228E","&Uogon;":"\u0172","&Uopf;":"\u{1D54C}","&UpArrow;":"\u2191","&UpArrowBar;":"\u2912","&UpArrowDownArrow;":"\u21C5","&UpDownArrow;":"\u2195","&UpEquilibrium;":"\u296E","&UpTee;":"\u22A5","&UpTeeArrow;":"\u21A5","&Uparrow;":"\u21D1","&Updownarrow;":"\u21D5","&UpperLeftArrow;":"\u2196","&UpperRightArrow;":"\u2197","&Upsi;":"\u03D2","&Upsilon;":"\u03A5","&Uring;":"\u016E","&Uscr;":"\u{1D4B0}","&Utilde;":"\u0168","&Uuml":"\xDC","&Uuml;":"\xDC","&VDash;":"\u22AB","&Vbar;":"\u2AEB","&Vcy;":"\u0412","&Vdash;":"\u22A9","&Vdashl;":"\u2AE6","&Vee;":"\u22C1","&Verbar;":"\u2016","&Vert;":"\u2016","&VerticalBar;":"\u2223","&VerticalLine;":"|","&VerticalSeparator;":"\u2758","&VerticalTilde;":"\u2240","&VeryThinSpace;":"\u200A","&Vfr;":"\u{1D519}","&Vopf;":"\u{1D54D}","&Vscr;":"\u{1D4B1}","&Vvdash;":"\u22AA","&Wcirc;":"\u0174","&Wedge;":"\u22C0","&Wfr;":"\u{1D51A}","&Wopf;":"\u{1D54E}","&Wscr;":"\u{1D4B2}","&Xfr;":"\u{1D51B}","&Xi;":"\u039E","&Xopf;":"\u{1D54F}","&Xscr;":"\u{1D4B3}","&YAcy;":"\u042F","&YIcy;":"\u0407","&YUcy;":"\u042E","&Yacute":"\xDD","&Yacute;":"\xDD","&Ycirc;":"\u0176","&Ycy;":"\u042B","&Yfr;":"\u{1D51C}","&Yopf;":"\u{1D550}","&Yscr;":"\u{1D4B4}","&Yuml;":"\u0178","&ZHcy;":"\u0416","&Zacute;":"\u0179","&Zcaron;":"\u017D","&Zcy;":"\u0417","&Zdot;":"\u017B","&ZeroWidthSpace;":"\u200B","&Zeta;":"\u0396","&Zfr;":"\u2128","&Zopf;":"\u2124","&Zscr;":"\u{1D4B5}","&aacute":"\xE1","&aacute;":"\xE1","&abreve;":"\u0103","&ac;":"\u223E","&acE;":"\u223E\u0333","&acd;":"\u223F","&acirc":"\xE2","&acirc;":"\xE2","&acute":"\xB4","&acute;":"\xB4","&acy;":"\u0430","&aelig":"\xE6","&aelig;":"\xE6","&af;":"\u2061","&afr;":"\u{1D51E}","&agrave":"\xE0","&agrave;":"\xE0","&alefsym;":"\u2135","&aleph;":"\u2135","&alpha;":"\u03B1","&amacr;":"\u0101","&amalg;":"\u2A3F","&amp":"&","&amp;":"&","&and;":"\u2227","&andand;":"\u2A55","&andd;":"\u2A5C","&andslope;":"\u2A58","&andv;":"\u2A5A","&ang;":"\u2220","&ange;":"\u29A4","&angle;":"\u2220","&angmsd;":"\u2221","&angmsdaa;":"\u29A8","&angmsdab;":"\u29A9","&angmsdac;":"\u29AA","&angmsdad;":"\u29AB","&angmsdae;":"\u29AC","&angmsdaf;":"\u29AD","&angmsdag;":"\u29AE","&angmsdah;":"\u29AF","&angrt;":"\u221F","&angrtvb;":"\u22BE","&angrtvbd;":"\u299D","&angsph;":"\u2222","&angst;":"\xC5","&angzarr;":"\u237C","&aogon;":"\u0105","&aopf;":"\u{1D552}","&ap;":"\u2248","&apE;":"\u2A70","&apacir;":"\u2A6F","&ape;":"\u224A","&apid;":"\u224B","&apos;":"'","&approx;":"\u2248","&approxeq;":"\u224A","&aring":"\xE5","&aring;":"\xE5","&ascr;":"\u{1D4B6}","&ast;":"*","&asymp;":"\u2248","&asympeq;":"\u224D","&atilde":"\xE3","&atilde;":"\xE3","&auml":"\xE4","&auml;":"\xE4","&awconint;":"\u2233","&awint;":"\u2A11","&bNot;":"\u2AED","&backcong;":"\u224C","&backepsilon;":"\u03F6","&backprime;":"\u2035","&backsim;":"\u223D","&backsimeq;":"\u22CD","&barvee;":"\u22BD","&barwed;":"\u2305","&barwedge;":"\u2305","&bbrk;":"\u23B5","&bbrktbrk;":"\u23B6","&bcong;":"\u224C","&bcy;":"\u0431","&bdquo;":"\u201E","&becaus;":"\u2235","&because;":"\u2235","&bemptyv;":"\u29B0","&bepsi;":"\u03F6","&bernou;":"\u212C","&beta;":"\u03B2","&beth;":"\u2136","&between;":"\u226C","&bfr;":"\u{1D51F}","&bigcap;":"\u22C2","&bigcirc;":"\u25EF","&bigcup;":"\u22C3","&bigodot;":"\u2A00","&bigoplus;":"\u2A01","&bigotimes;":"\u2A02","&bigsqcup;":"\u2A06","&bigstar;":"\u2605","&bigtriangledown;":"\u25BD","&bigtriangleup;":"\u25B3","&biguplus;":"\u2A04","&bigvee;":"\u22C1","&bigwedge;":"\u22C0","&bkarow;":"\u290D","&blacklozenge;":"\u29EB","&blacksquare;":"\u25AA","&blacktriangle;":"\u25B4","&blacktriangledown;":"\u25BE","&blacktriangleleft;":"\u25C2","&blacktriangleright;":"\u25B8","&blank;":"\u2423","&blk12;":"\u2592","&blk14;":"\u2591","&blk34;":"\u2593","&block;":"\u2588","&bne;":"=\u20E5","&bnequiv;":"\u2261\u20E5","&bnot;":"\u2310","&bopf;":"\u{1D553}","&bot;":"\u22A5","&bottom;":"\u22A5","&bowtie;":"\u22C8","&boxDL;":"\u2557","&boxDR;":"\u2554","&boxDl;":"\u2556","&boxDr;":"\u2553","&boxH;":"\u2550","&boxHD;":"\u2566","&boxHU;":"\u2569","&boxHd;":"\u2564","&boxHu;":"\u2567","&boxUL;":"\u255D","&boxUR;":"\u255A","&boxUl;":"\u255C","&boxUr;":"\u2559","&boxV;":"\u2551","&boxVH;":"\u256C","&boxVL;":"\u2563","&boxVR;":"\u2560","&boxVh;":"\u256B","&boxVl;":"\u2562","&boxVr;":"\u255F","&boxbox;":"\u29C9","&boxdL;":"\u2555","&boxdR;":"\u2552","&boxdl;":"\u2510","&boxdr;":"\u250C","&boxh;":"\u2500","&boxhD;":"\u2565","&boxhU;":"\u2568","&boxhd;":"\u252C","&boxhu;":"\u2534","&boxminus;":"\u229F","&boxplus;":"\u229E","&boxtimes;":"\u22A0","&boxuL;":"\u255B","&boxuR;":"\u2558","&boxul;":"\u2518","&boxur;":"\u2514","&boxv;":"\u2502","&boxvH;":"\u256A","&boxvL;":"\u2561","&boxvR;":"\u255E","&boxvh;":"\u253C","&boxvl;":"\u2524","&boxvr;":"\u251C","&bprime;":"\u2035","&breve;":"\u02D8","&brvbar":"\xA6","&brvbar;":"\xA6","&bscr;":"\u{1D4B7}","&bsemi;":"\u204F","&bsim;":"\u223D","&bsime;":"\u22CD","&bsol;":"\\","&bsolb;":"\u29C5","&bsolhsub;":"\u27C8","&bull;":"\u2022","&bullet;":"\u2022","&bump;":"\u224E","&bumpE;":"\u2AAE","&bumpe;":"\u224F","&bumpeq;":"\u224F","&cacute;":"\u0107","&cap;":"\u2229","&capand;":"\u2A44","&capbrcup;":"\u2A49","&capcap;":"\u2A4B","&capcup;":"\u2A47","&capdot;":"\u2A40","&caps;":"\u2229\uFE00","&caret;":"\u2041","&caron;":"\u02C7","&ccaps;":"\u2A4D","&ccaron;":"\u010D","&ccedil":"\xE7","&ccedil;":"\xE7","&ccirc;":"\u0109","&ccups;":"\u2A4C","&ccupssm;":"\u2A50","&cdot;":"\u010B","&cedil":"\xB8","&cedil;":"\xB8","&cemptyv;":"\u29B2","&cent":"\xA2","&cent;":"\xA2","&centerdot;":"\xB7","&cfr;":"\u{1D520}","&chcy;":"\u0447","&check;":"\u2713","&checkmark;":"\u2713","&chi;":"\u03C7","&cir;":"\u25CB","&cirE;":"\u29C3","&circ;":"\u02C6","&circeq;":"\u2257","&circlearrowleft;":"\u21BA","&circlearrowright;":"\u21BB","&circledR;":"\xAE","&circledS;":"\u24C8","&circledast;":"\u229B","&circledcirc;":"\u229A","&circleddash;":"\u229D","&cire;":"\u2257","&cirfnint;":"\u2A10","&cirmid;":"\u2AEF","&cirscir;":"\u29C2","&clubs;":"\u2663","&clubsuit;":"\u2663","&colon;":":","&colone;":"\u2254","&coloneq;":"\u2254","&comma;":",","&commat;":"@","&comp;":"\u2201","&compfn;":"\u2218","&complement;":"\u2201","&complexes;":"\u2102","&cong;":"\u2245","&congdot;":"\u2A6D","&conint;":"\u222E","&copf;":"\u{1D554}","&coprod;":"\u2210","&copy":"\xA9","&copy;":"\xA9","&copysr;":"\u2117","&crarr;":"\u21B5","&cross;":"\u2717","&cscr;":"\u{1D4B8}","&csub;":"\u2ACF","&csube;":"\u2AD1","&csup;":"\u2AD0","&csupe;":"\u2AD2","&ctdot;":"\u22EF","&cudarrl;":"\u2938","&cudarrr;":"\u2935","&cuepr;":"\u22DE","&cuesc;":"\u22DF","&cularr;":"\u21B6","&cularrp;":"\u293D","&cup;":"\u222A","&cupbrcap;":"\u2A48","&cupcap;":"\u2A46","&cupcup;":"\u2A4A","&cupdot;":"\u228D","&cupor;":"\u2A45","&cups;":"\u222A\uFE00","&curarr;":"\u21B7","&curarrm;":"\u293C","&curlyeqprec;":"\u22DE","&curlyeqsucc;":"\u22DF","&curlyvee;":"\u22CE","&curlywedge;":"\u22CF","&curren":"\xA4","&curren;":"\xA4","&curvearrowleft;":"\u21B6","&curvearrowright;":"\u21B7","&cuvee;":"\u22CE","&cuwed;":"\u22CF","&cwconint;":"\u2232","&cwint;":"\u2231","&cylcty;":"\u232D","&dArr;":"\u21D3","&dHar;":"\u2965","&dagger;":"\u2020","&daleth;":"\u2138","&darr;":"\u2193","&dash;":"\u2010","&dashv;":"\u22A3","&dbkarow;":"\u290F","&dblac;":"\u02DD","&dcaron;":"\u010F","&dcy;":"\u0434","&dd;":"\u2146","&ddagger;":"\u2021","&ddarr;":"\u21CA","&ddotseq;":"\u2A77","&deg":"\xB0","&deg;":"\xB0","&delta;":"\u03B4","&demptyv;":"\u29B1","&dfisht;":"\u297F","&dfr;":"\u{1D521}","&dharl;":"\u21C3","&dharr;":"\u21C2","&diam;":"\u22C4","&diamond;":"\u22C4","&diamondsuit;":"\u2666","&diams;":"\u2666","&die;":"\xA8","&digamma;":"\u03DD","&disin;":"\u22F2","&div;":"\xF7","&divide":"\xF7","&divide;":"\xF7","&divideontimes;":"\u22C7","&divonx;":"\u22C7","&djcy;":"\u0452","&dlcorn;":"\u231E","&dlcrop;":"\u230D","&dollar;":"$","&dopf;":"\u{1D555}","&dot;":"\u02D9","&doteq;":"\u2250","&doteqdot;":"\u2251","&dotminus;":"\u2238","&dotplus;":"\u2214","&dotsquare;":"\u22A1","&doublebarwedge;":"\u2306","&downarrow;":"\u2193","&downdownarrows;":"\u21CA","&downharpoonleft;":"\u21C3","&downharpoonright;":"\u21C2","&drbkarow;":"\u2910","&drcorn;":"\u231F","&drcrop;":"\u230C","&dscr;":"\u{1D4B9}","&dscy;":"\u0455","&dsol;":"\u29F6","&dstrok;":"\u0111","&dtdot;":"\u22F1","&dtri;":"\u25BF","&dtrif;":"\u25BE","&duarr;":"\u21F5","&duhar;":"\u296F","&dwangle;":"\u29A6","&dzcy;":"\u045F","&dzigrarr;":"\u27FF","&eDDot;":"\u2A77","&eDot;":"\u2251","&eacute":"\xE9","&eacute;":"\xE9","&easter;":"\u2A6E","&ecaron;":"\u011B","&ecir;":"\u2256","&ecirc":"\xEA","&ecirc;":"\xEA","&ecolon;":"\u2255","&ecy;":"\u044D","&edot;":"\u0117","&ee;":"\u2147","&efDot;":"\u2252","&efr;":"\u{1D522}","&eg;":"\u2A9A","&egrave":"\xE8","&egrave;":"\xE8","&egs;":"\u2A96","&egsdot;":"\u2A98","&el;":"\u2A99","&elinters;":"\u23E7","&ell;":"\u2113","&els;":"\u2A95","&elsdot;":"\u2A97","&emacr;":"\u0113","&empty;":"\u2205","&emptyset;":"\u2205","&emptyv;":"\u2205","&emsp13;":"\u2004","&emsp14;":"\u2005","&emsp;":"\u2003","&eng;":"\u014B","&ensp;":"\u2002","&eogon;":"\u0119","&eopf;":"\u{1D556}","&epar;":"\u22D5","&eparsl;":"\u29E3","&eplus;":"\u2A71","&epsi;":"\u03B5","&epsilon;":"\u03B5","&epsiv;":"\u03F5","&eqcirc;":"\u2256","&eqcolon;":"\u2255","&eqsim;":"\u2242","&eqslantgtr;":"\u2A96","&eqslantless;":"\u2A95","&equals;":"=","&equest;":"\u225F","&equiv;":"\u2261","&equivDD;":"\u2A78","&eqvparsl;":"\u29E5","&erDot;":"\u2253","&erarr;":"\u2971","&escr;":"\u212F","&esdot;":"\u2250","&esim;":"\u2242","&eta;":"\u03B7","&eth":"\xF0","&eth;":"\xF0","&euml":"\xEB","&euml;":"\xEB","&euro;":"\u20AC","&excl;":"!","&exist;":"\u2203","&expectation;":"\u2130","&exponentiale;":"\u2147","&fallingdotseq;":"\u2252","&fcy;":"\u0444","&female;":"\u2640","&ffilig;":"\uFB03","&fflig;":"\uFB00","&ffllig;":"\uFB04","&ffr;":"\u{1D523}","&filig;":"\uFB01","&fjlig;":"fj","&flat;":"\u266D","&fllig;":"\uFB02","&fltns;":"\u25B1","&fnof;":"\u0192","&fopf;":"\u{1D557}","&forall;":"\u2200","&fork;":"\u22D4","&forkv;":"\u2AD9","&fpartint;":"\u2A0D","&frac12":"\xBD","&frac12;":"\xBD","&frac13;":"\u2153","&frac14":"\xBC","&frac14;":"\xBC","&frac15;":"\u2155","&frac16;":"\u2159","&frac18;":"\u215B","&frac23;":"\u2154","&frac25;":"\u2156","&frac34":"\xBE","&frac34;":"\xBE","&frac35;":"\u2157","&frac38;":"\u215C","&frac45;":"\u2158","&frac56;":"\u215A","&frac58;":"\u215D","&frac78;":"\u215E","&frasl;":"\u2044","&frown;":"\u2322","&fscr;":"\u{1D4BB}","&gE;":"\u2267","&gEl;":"\u2A8C","&gacute;":"\u01F5","&gamma;":"\u03B3","&gammad;":"\u03DD","&gap;":"\u2A86","&gbreve;":"\u011F","&gcirc;":"\u011D","&gcy;":"\u0433","&gdot;":"\u0121","&ge;":"\u2265","&gel;":"\u22DB","&geq;":"\u2265","&geqq;":"\u2267","&geqslant;":"\u2A7E","&ges;":"\u2A7E","&gescc;":"\u2AA9","&gesdot;":"\u2A80","&gesdoto;":"\u2A82","&gesdotol;":"\u2A84","&gesl;":"\u22DB\uFE00","&gesles;":"\u2A94","&gfr;":"\u{1D524}","&gg;":"\u226B","&ggg;":"\u22D9","&gimel;":"\u2137","&gjcy;":"\u0453","&gl;":"\u2277","&glE;":"\u2A92","&gla;":"\u2AA5","&glj;":"\u2AA4","&gnE;":"\u2269","&gnap;":"\u2A8A","&gnapprox;":"\u2A8A","&gne;":"\u2A88","&gneq;":"\u2A88","&gneqq;":"\u2269","&gnsim;":"\u22E7","&gopf;":"\u{1D558}","&grave;":"`","&gscr;":"\u210A","&gsim;":"\u2273","&gsime;":"\u2A8E","&gsiml;":"\u2A90","&gt":">","&gt;":">","&gtcc;":"\u2AA7","&gtcir;":"\u2A7A","&gtdot;":"\u22D7","&gtlPar;":"\u2995","&gtquest;":"\u2A7C","&gtrapprox;":"\u2A86","&gtrarr;":"\u2978","&gtrdot;":"\u22D7","&gtreqless;":"\u22DB","&gtreqqless;":"\u2A8C","&gtrless;":"\u2277","&gtrsim;":"\u2273","&gvertneqq;":"\u2269\uFE00","&gvnE;":"\u2269\uFE00","&hArr;":"\u21D4","&hairsp;":"\u200A","&half;":"\xBD","&hamilt;":"\u210B","&hardcy;":"\u044A","&harr;":"\u2194","&harrcir;":"\u2948","&harrw;":"\u21AD","&hbar;":"\u210F","&hcirc;":"\u0125","&hearts;":"\u2665","&heartsuit;":"\u2665","&hellip;":"\u2026","&hercon;":"\u22B9","&hfr;":"\u{1D525}","&hksearow;":"\u2925","&hkswarow;":"\u2926","&hoarr;":"\u21FF","&homtht;":"\u223B","&hookleftarrow;":"\u21A9","&hookrightarrow;":"\u21AA","&hopf;":"\u{1D559}","&horbar;":"\u2015","&hscr;":"\u{1D4BD}","&hslash;":"\u210F","&hstrok;":"\u0127","&hybull;":"\u2043","&hyphen;":"\u2010","&iacute":"\xED","&iacute;":"\xED","&ic;":"\u2063","&icirc":"\xEE","&icirc;":"\xEE","&icy;":"\u0438","&iecy;":"\u0435","&iexcl":"\xA1","&iexcl;":"\xA1","&iff;":"\u21D4","&ifr;":"\u{1D526}","&igrave":"\xEC","&igrave;":"\xEC","&ii;":"\u2148","&iiiint;":"\u2A0C","&iiint;":"\u222D","&iinfin;":"\u29DC","&iiota;":"\u2129","&ijlig;":"\u0133","&imacr;":"\u012B","&image;":"\u2111","&imagline;":"\u2110","&imagpart;":"\u2111","&imath;":"\u0131","&imof;":"\u22B7","&imped;":"\u01B5","&in;":"\u2208","&incare;":"\u2105","&infin;":"\u221E","&infintie;":"\u29DD","&inodot;":"\u0131","&int;":"\u222B","&intcal;":"\u22BA","&integers;":"\u2124","&intercal;":"\u22BA","&intlarhk;":"\u2A17","&intprod;":"\u2A3C","&iocy;":"\u0451","&iogon;":"\u012F","&iopf;":"\u{1D55A}","&iota;":"\u03B9","&iprod;":"\u2A3C","&iquest":"\xBF","&iquest;":"\xBF","&iscr;":"\u{1D4BE}","&isin;":"\u2208","&isinE;":"\u22F9","&isindot;":"\u22F5","&isins;":"\u22F4","&isinsv;":"\u22F3","&isinv;":"\u2208","&it;":"\u2062","&itilde;":"\u0129","&iukcy;":"\u0456","&iuml":"\xEF","&iuml;":"\xEF","&jcirc;":"\u0135","&jcy;":"\u0439","&jfr;":"\u{1D527}","&jmath;":"\u0237","&jopf;":"\u{1D55B}","&jscr;":"\u{1D4BF}","&jsercy;":"\u0458","&jukcy;":"\u0454","&kappa;":"\u03BA","&kappav;":"\u03F0","&kcedil;":"\u0137","&kcy;":"\u043A","&kfr;":"\u{1D528}","&kgreen;":"\u0138","&khcy;":"\u0445","&kjcy;":"\u045C","&kopf;":"\u{1D55C}","&kscr;":"\u{1D4C0}","&lAarr;":"\u21DA","&lArr;":"\u21D0","&lAtail;":"\u291B","&lBarr;":"\u290E","&lE;":"\u2266","&lEg;":"\u2A8B","&lHar;":"\u2962","&lacute;":"\u013A","&laemptyv;":"\u29B4","&lagran;":"\u2112","&lambda;":"\u03BB","&lang;":"\u27E8","&langd;":"\u2991","&langle;":"\u27E8","&lap;":"\u2A85","&laquo":"\xAB","&laquo;":"\xAB","&larr;":"\u2190","&larrb;":"\u21E4","&larrbfs;":"\u291F","&larrfs;":"\u291D","&larrhk;":"\u21A9","&larrlp;":"\u21AB","&larrpl;":"\u2939","&larrsim;":"\u2973","&larrtl;":"\u21A2","&lat;":"\u2AAB","&latail;":"\u2919","&late;":"\u2AAD","&lates;":"\u2AAD\uFE00","&lbarr;":"\u290C","&lbbrk;":"\u2772","&lbrace;":"{","&lbrack;":"[","&lbrke;":"\u298B","&lbrksld;":"\u298F","&lbrkslu;":"\u298D","&lcaron;":"\u013E","&lcedil;":"\u013C","&lceil;":"\u2308","&lcub;":"{","&lcy;":"\u043B","&ldca;":"\u2936","&ldquo;":"\u201C","&ldquor;":"\u201E","&ldrdhar;":"\u2967","&ldrushar;":"\u294B","&ldsh;":"\u21B2","&le;":"\u2264","&leftarrow;":"\u2190","&leftarrowtail;":"\u21A2","&leftharpoondown;":"\u21BD","&leftharpoonup;":"\u21BC","&leftleftarrows;":"\u21C7","&leftrightarrow;":"\u2194","&leftrightarrows;":"\u21C6","&leftrightharpoons;":"\u21CB","&leftrightsquigarrow;":"\u21AD","&leftthreetimes;":"\u22CB","&leg;":"\u22DA","&leq;":"\u2264","&leqq;":"\u2266","&leqslant;":"\u2A7D","&les;":"\u2A7D","&lescc;":"\u2AA8","&lesdot;":"\u2A7F","&lesdoto;":"\u2A81","&lesdotor;":"\u2A83","&lesg;":"\u22DA\uFE00","&lesges;":"\u2A93","&lessapprox;":"\u2A85","&lessdot;":"\u22D6","&lesseqgtr;":"\u22DA","&lesseqqgtr;":"\u2A8B","&lessgtr;":"\u2276","&lesssim;":"\u2272","&lfisht;":"\u297C","&lfloor;":"\u230A","&lfr;":"\u{1D529}","&lg;":"\u2276","&lgE;":"\u2A91","&lhard;":"\u21BD","&lharu;":"\u21BC","&lharul;":"\u296A","&lhblk;":"\u2584","&ljcy;":"\u0459","&ll;":"\u226A","&llarr;":"\u21C7","&llcorner;":"\u231E","&llhard;":"\u296B","&lltri;":"\u25FA","&lmidot;":"\u0140","&lmoust;":"\u23B0","&lmoustache;":"\u23B0","&lnE;":"\u2268","&lnap;":"\u2A89","&lnapprox;":"\u2A89","&lne;":"\u2A87","&lneq;":"\u2A87","&lneqq;":"\u2268","&lnsim;":"\u22E6","&loang;":"\u27EC","&loarr;":"\u21FD","&lobrk;":"\u27E6","&longleftarrow;":"\u27F5","&longleftrightarrow;":"\u27F7","&longmapsto;":"\u27FC","&longrightarrow;":"\u27F6","&looparrowleft;":"\u21AB","&looparrowright;":"\u21AC","&lopar;":"\u2985","&lopf;":"\u{1D55D}","&loplus;":"\u2A2D","&lotimes;":"\u2A34","&lowast;":"\u2217","&lowbar;":"_","&loz;":"\u25CA","&lozenge;":"\u25CA","&lozf;":"\u29EB","&lpar;":"(","&lparlt;":"\u2993","&lrarr;":"\u21C6","&lrcorner;":"\u231F","&lrhar;":"\u21CB","&lrhard;":"\u296D","&lrm;":"\u200E","&lrtri;":"\u22BF","&lsaquo;":"\u2039","&lscr;":"\u{1D4C1}","&lsh;":"\u21B0","&lsim;":"\u2272","&lsime;":"\u2A8D","&lsimg;":"\u2A8F","&lsqb;":"[","&lsquo;":"\u2018","&lsquor;":"\u201A","&lstrok;":"\u0142","&lt":"<","&lt;":"<","&ltcc;":"\u2AA6","&ltcir;":"\u2A79","&ltdot;":"\u22D6","&lthree;":"\u22CB","&ltimes;":"\u22C9","&ltlarr;":"\u2976","&ltquest;":"\u2A7B","&ltrPar;":"\u2996","&ltri;":"\u25C3","&ltrie;":"\u22B4","&ltrif;":"\u25C2","&lurdshar;":"\u294A","&luruhar;":"\u2966","&lvertneqq;":"\u2268\uFE00","&lvnE;":"\u2268\uFE00","&mDDot;":"\u223A","&macr":"\xAF","&macr;":"\xAF","&male;":"\u2642","&malt;":"\u2720","&maltese;":"\u2720","&map;":"\u21A6","&mapsto;":"\u21A6","&mapstodown;":"\u21A7","&mapstoleft;":"\u21A4","&mapstoup;":"\u21A5","&marker;":"\u25AE","&mcomma;":"\u2A29","&mcy;":"\u043C","&mdash;":"\u2014","&measuredangle;":"\u2221","&mfr;":"\u{1D52A}","&mho;":"\u2127","&micro":"\xB5","&micro;":"\xB5","&mid;":"\u2223","&midast;":"*","&midcir;":"\u2AF0","&middot":"\xB7","&middot;":"\xB7","&minus;":"\u2212","&minusb;":"\u229F","&minusd;":"\u2238","&minusdu;":"\u2A2A","&mlcp;":"\u2ADB","&mldr;":"\u2026","&mnplus;":"\u2213","&models;":"\u22A7","&mopf;":"\u{1D55E}","&mp;":"\u2213","&mscr;":"\u{1D4C2}","&mstpos;":"\u223E","&mu;":"\u03BC","&multimap;":"\u22B8","&mumap;":"\u22B8","&nGg;":"\u22D9\u0338","&nGt;":"\u226B\u20D2","&nGtv;":"\u226B\u0338","&nLeftarrow;":"\u21CD","&nLeftrightarrow;":"\u21CE","&nLl;":"\u22D8\u0338","&nLt;":"\u226A\u20D2","&nLtv;":"\u226A\u0338","&nRightarrow;":"\u21CF","&nVDash;":"\u22AF","&nVdash;":"\u22AE","&nabla;":"\u2207","&nacute;":"\u0144","&nang;":"\u2220\u20D2","&nap;":"\u2249","&napE;":"\u2A70\u0338","&napid;":"\u224B\u0338","&napos;":"\u0149","&napprox;":"\u2249","&natur;":"\u266E","&natural;":"\u266E","&naturals;":"\u2115","&nbsp":"\xA0","&nbsp;":"\xA0","&nbump;":"\u224E\u0338","&nbumpe;":"\u224F\u0338","&ncap;":"\u2A43","&ncaron;":"\u0148","&ncedil;":"\u0146","&ncong;":"\u2247","&ncongdot;":"\u2A6D\u0338","&ncup;":"\u2A42","&ncy;":"\u043D","&ndash;":"\u2013","&ne;":"\u2260","&neArr;":"\u21D7","&nearhk;":"\u2924","&nearr;":"\u2197","&nearrow;":"\u2197","&nedot;":"\u2250\u0338","&nequiv;":"\u2262","&nesear;":"\u2928","&nesim;":"\u2242\u0338","&nexist;":"\u2204","&nexists;":"\u2204","&nfr;":"\u{1D52B}","&ngE;":"\u2267\u0338","&nge;":"\u2271","&ngeq;":"\u2271","&ngeqq;":"\u2267\u0338","&ngeqslant;":"\u2A7E\u0338","&nges;":"\u2A7E\u0338","&ngsim;":"\u2275","&ngt;":"\u226F","&ngtr;":"\u226F","&nhArr;":"\u21CE","&nharr;":"\u21AE","&nhpar;":"\u2AF2","&ni;":"\u220B","&nis;":"\u22FC","&nisd;":"\u22FA","&niv;":"\u220B","&njcy;":"\u045A","&nlArr;":"\u21CD","&nlE;":"\u2266\u0338","&nlarr;":"\u219A","&nldr;":"\u2025","&nle;":"\u2270","&nleftarrow;":"\u219A","&nleftrightarrow;":"\u21AE","&nleq;":"\u2270","&nleqq;":"\u2266\u0338","&nleqslant;":"\u2A7D\u0338","&nles;":"\u2A7D\u0338","&nless;":"\u226E","&nlsim;":"\u2274","&nlt;":"\u226E","&nltri;":"\u22EA","&nltrie;":"\u22EC","&nmid;":"\u2224","&nopf;":"\u{1D55F}","&not":"\xAC","&not;":"\xAC","&notin;":"\u2209","&notinE;":"\u22F9\u0338","&notindot;":"\u22F5\u0338","&notinva;":"\u2209","&notinvb;":"\u22F7","&notinvc;":"\u22F6","&notni;":"\u220C","&notniva;":"\u220C","&notnivb;":"\u22FE","&notnivc;":"\u22FD","&npar;":"\u2226","&nparallel;":"\u2226","&nparsl;":"\u2AFD\u20E5","&npart;":"\u2202\u0338","&npolint;":"\u2A14","&npr;":"\u2280","&nprcue;":"\u22E0","&npre;":"\u2AAF\u0338","&nprec;":"\u2280","&npreceq;":"\u2AAF\u0338","&nrArr;":"\u21CF","&nrarr;":"\u219B","&nrarrc;":"\u2933\u0338","&nrarrw;":"\u219D\u0338","&nrightarrow;":"\u219B","&nrtri;":"\u22EB","&nrtrie;":"\u22ED","&nsc;":"\u2281","&nsccue;":"\u22E1","&nsce;":"\u2AB0\u0338","&nscr;":"\u{1D4C3}","&nshortmid;":"\u2224","&nshortparallel;":"\u2226","&nsim;":"\u2241","&nsime;":"\u2244","&nsimeq;":"\u2244","&nsmid;":"\u2224","&nspar;":"\u2226","&nsqsube;":"\u22E2","&nsqsupe;":"\u22E3","&nsub;":"\u2284","&nsubE;":"\u2AC5\u0338","&nsube;":"\u2288","&nsubset;":"\u2282\u20D2","&nsubseteq;":"\u2288","&nsubseteqq;":"\u2AC5\u0338","&nsucc;":"\u2281","&nsucceq;":"\u2AB0\u0338","&nsup;":"\u2285","&nsupE;":"\u2AC6\u0338","&nsupe;":"\u2289","&nsupset;":"\u2283\u20D2","&nsupseteq;":"\u2289","&nsupseteqq;":"\u2AC6\u0338","&ntgl;":"\u2279","&ntilde":"\xF1","&ntilde;":"\xF1","&ntlg;":"\u2278","&ntriangleleft;":"\u22EA","&ntrianglelefteq;":"\u22EC","&ntriangleright;":"\u22EB","&ntrianglerighteq;":"\u22ED","&nu;":"\u03BD","&num;":"#","&numero;":"\u2116","&numsp;":"\u2007","&nvDash;":"\u22AD","&nvHarr;":"\u2904","&nvap;":"\u224D\u20D2","&nvdash;":"\u22AC","&nvge;":"\u2265\u20D2","&nvgt;":">\u20D2","&nvinfin;":"\u29DE","&nvlArr;":"\u2902","&nvle;":"\u2264\u20D2","&nvlt;":"<\u20D2","&nvltrie;":"\u22B4\u20D2","&nvrArr;":"\u2903","&nvrtrie;":"\u22B5\u20D2","&nvsim;":"\u223C\u20D2","&nwArr;":"\u21D6","&nwarhk;":"\u2923","&nwarr;":"\u2196","&nwarrow;":"\u2196","&nwnear;":"\u2927","&oS;":"\u24C8","&oacute":"\xF3","&oacute;":"\xF3","&oast;":"\u229B","&ocir;":"\u229A","&ocirc":"\xF4","&ocirc;":"\xF4","&ocy;":"\u043E","&odash;":"\u229D","&odblac;":"\u0151","&odiv;":"\u2A38","&odot;":"\u2299","&odsold;":"\u29BC","&oelig;":"\u0153","&ofcir;":"\u29BF","&ofr;":"\u{1D52C}","&ogon;":"\u02DB","&ograve":"\xF2","&ograve;":"\xF2","&ogt;":"\u29C1","&ohbar;":"\u29B5","&ohm;":"\u03A9","&oint;":"\u222E","&olarr;":"\u21BA","&olcir;":"\u29BE","&olcross;":"\u29BB","&oline;":"\u203E","&olt;":"\u29C0","&omacr;":"\u014D","&omega;":"\u03C9","&omicron;":"\u03BF","&omid;":"\u29B6","&ominus;":"\u2296","&oopf;":"\u{1D560}","&opar;":"\u29B7","&operp;":"\u29B9","&oplus;":"\u2295","&or;":"\u2228","&orarr;":"\u21BB","&ord;":"\u2A5D","&order;":"\u2134","&orderof;":"\u2134","&ordf":"\xAA","&ordf;":"\xAA","&ordm":"\xBA","&ordm;":"\xBA","&origof;":"\u22B6","&oror;":"\u2A56","&orslope;":"\u2A57","&orv;":"\u2A5B","&oscr;":"\u2134","&oslash":"\xF8","&oslash;":"\xF8","&osol;":"\u2298","&otilde":"\xF5","&otilde;":"\xF5","&otimes;":"\u2297","&otimesas;":"\u2A36","&ouml":"\xF6","&ouml;":"\xF6","&ovbar;":"\u233D","&par;":"\u2225","&para":"\xB6","&para;":"\xB6","&parallel;":"\u2225","&parsim;":"\u2AF3","&parsl;":"\u2AFD","&part;":"\u2202","&pcy;":"\u043F","&percnt;":"%","&period;":".","&permil;":"\u2030","&perp;":"\u22A5","&pertenk;":"\u2031","&pfr;":"\u{1D52D}","&phi;":"\u03C6","&phiv;":"\u03D5","&phmmat;":"\u2133","&phone;":"\u260E","&pi;":"\u03C0","&pitchfork;":"\u22D4","&piv;":"\u03D6","&planck;":"\u210F","&planckh;":"\u210E","&plankv;":"\u210F","&plus;":"+","&plusacir;":"\u2A23","&plusb;":"\u229E","&pluscir;":"\u2A22","&plusdo;":"\u2214","&plusdu;":"\u2A25","&pluse;":"\u2A72","&plusmn":"\xB1","&plusmn;":"\xB1","&plussim;":"\u2A26","&plustwo;":"\u2A27","&pm;":"\xB1","&pointint;":"\u2A15","&popf;":"\u{1D561}","&pound":"\xA3","&pound;":"\xA3","&pr;":"\u227A","&prE;":"\u2AB3","&prap;":"\u2AB7","&prcue;":"\u227C","&pre;":"\u2AAF","&prec;":"\u227A","&precapprox;":"\u2AB7","&preccurlyeq;":"\u227C","&preceq;":"\u2AAF","&precnapprox;":"\u2AB9","&precneqq;":"\u2AB5","&precnsim;":"\u22E8","&precsim;":"\u227E","&prime;":"\u2032","&primes;":"\u2119","&prnE;":"\u2AB5","&prnap;":"\u2AB9","&prnsim;":"\u22E8","&prod;":"\u220F","&profalar;":"\u232E","&profline;":"\u2312","&profsurf;":"\u2313","&prop;":"\u221D","&propto;":"\u221D","&prsim;":"\u227E","&prurel;":"\u22B0","&pscr;":"\u{1D4C5}","&psi;":"\u03C8","&puncsp;":"\u2008","&qfr;":"\u{1D52E}","&qint;":"\u2A0C","&qopf;":"\u{1D562}","&qprime;":"\u2057","&qscr;":"\u{1D4C6}","&quaternions;":"\u210D","&quatint;":"\u2A16","&quest;":"?","&questeq;":"\u225F","&quot":'"',"&quot;":'"',"&rAarr;":"\u21DB","&rArr;":"\u21D2","&rAtail;":"\u291C","&rBarr;":"\u290F","&rHar;":"\u2964","&race;":"\u223D\u0331","&racute;":"\u0155","&radic;":"\u221A","&raemptyv;":"\u29B3","&rang;":"\u27E9","&rangd;":"\u2992","&range;":"\u29A5","&rangle;":"\u27E9","&raquo":"\xBB","&raquo;":"\xBB","&rarr;":"\u2192","&rarrap;":"\u2975","&rarrb;":"\u21E5","&rarrbfs;":"\u2920","&rarrc;":"\u2933","&rarrfs;":"\u291E","&rarrhk;":"\u21AA","&rarrlp;":"\u21AC","&rarrpl;":"\u2945","&rarrsim;":"\u2974","&rarrtl;":"\u21A3","&rarrw;":"\u219D","&ratail;":"\u291A","&ratio;":"\u2236","&rationals;":"\u211A","&rbarr;":"\u290D","&rbbrk;":"\u2773","&rbrace;":"}","&rbrack;":"]","&rbrke;":"\u298C","&rbrksld;":"\u298E","&rbrkslu;":"\u2990","&rcaron;":"\u0159","&rcedil;":"\u0157","&rceil;":"\u2309","&rcub;":"}","&rcy;":"\u0440","&rdca;":"\u2937","&rdldhar;":"\u2969","&rdquo;":"\u201D","&rdquor;":"\u201D","&rdsh;":"\u21B3","&real;":"\u211C","&realine;":"\u211B","&realpart;":"\u211C","&reals;":"\u211D","&rect;":"\u25AD","&reg":"\xAE","&reg;":"\xAE","&rfisht;":"\u297D","&rfloor;":"\u230B","&rfr;":"\u{1D52F}","&rhard;":"\u21C1","&rharu;":"\u21C0","&rharul;":"\u296C","&rho;":"\u03C1","&rhov;":"\u03F1","&rightarrow;":"\u2192","&rightarrowtail;":"\u21A3","&rightharpoondown;":"\u21C1","&rightharpoonup;":"\u21C0","&rightleftarrows;":"\u21C4","&rightleftharpoons;":"\u21CC","&rightrightarrows;":"\u21C9","&rightsquigarrow;":"\u219D","&rightthreetimes;":"\u22CC","&ring;":"\u02DA","&risingdotseq;":"\u2253","&rlarr;":"\u21C4","&rlhar;":"\u21CC","&rlm;":"\u200F","&rmoust;":"\u23B1","&rmoustache;":"\u23B1","&rnmid;":"\u2AEE","&roang;":"\u27ED","&roarr;":"\u21FE","&robrk;":"\u27E7","&ropar;":"\u2986","&ropf;":"\u{1D563}","&roplus;":"\u2A2E","&rotimes;":"\u2A35","&rpar;":")","&rpargt;":"\u2994","&rppolint;":"\u2A12","&rrarr;":"\u21C9","&rsaquo;":"\u203A","&rscr;":"\u{1D4C7}","&rsh;":"\u21B1","&rsqb;":"]","&rsquo;":"\u2019","&rsquor;":"\u2019","&rthree;":"\u22CC","&rtimes;":"\u22CA","&rtri;":"\u25B9","&rtrie;":"\u22B5","&rtrif;":"\u25B8","&rtriltri;":"\u29CE","&ruluhar;":"\u2968","&rx;":"\u211E","&sacute;":"\u015B","&sbquo;":"\u201A","&sc;":"\u227B","&scE;":"\u2AB4","&scap;":"\u2AB8","&scaron;":"\u0161","&sccue;":"\u227D","&sce;":"\u2AB0","&scedil;":"\u015F","&scirc;":"\u015D","&scnE;":"\u2AB6","&scnap;":"\u2ABA","&scnsim;":"\u22E9","&scpolint;":"\u2A13","&scsim;":"\u227F","&scy;":"\u0441","&sdot;":"\u22C5","&sdotb;":"\u22A1","&sdote;":"\u2A66","&seArr;":"\u21D8","&searhk;":"\u2925","&searr;":"\u2198","&searrow;":"\u2198","&sect":"\xA7","&sect;":"\xA7","&semi;":";","&seswar;":"\u2929","&setminus;":"\u2216","&setmn;":"\u2216","&sext;":"\u2736","&sfr;":"\u{1D530}","&sfrown;":"\u2322","&sharp;":"\u266F","&shchcy;":"\u0449","&shcy;":"\u0448","&shortmid;":"\u2223","&shortparallel;":"\u2225","&shy":"\xAD","&shy;":"\xAD","&sigma;":"\u03C3","&sigmaf;":"\u03C2","&sigmav;":"\u03C2","&sim;":"\u223C","&simdot;":"\u2A6A","&sime;":"\u2243","&simeq;":"\u2243","&simg;":"\u2A9E","&simgE;":"\u2AA0","&siml;":"\u2A9D","&simlE;":"\u2A9F","&simne;":"\u2246","&simplus;":"\u2A24","&simrarr;":"\u2972","&slarr;":"\u2190","&smallsetminus;":"\u2216","&smashp;":"\u2A33","&smeparsl;":"\u29E4","&smid;":"\u2223","&smile;":"\u2323","&smt;":"\u2AAA","&smte;":"\u2AAC","&smtes;":"\u2AAC\uFE00","&softcy;":"\u044C","&sol;":"/","&solb;":"\u29C4","&solbar;":"\u233F","&sopf;":"\u{1D564}","&spades;":"\u2660","&spadesuit;":"\u2660","&spar;":"\u2225","&sqcap;":"\u2293","&sqcaps;":"\u2293\uFE00","&sqcup;":"\u2294","&sqcups;":"\u2294\uFE00","&sqsub;":"\u228F","&sqsube;":"\u2291","&sqsubset;":"\u228F","&sqsubseteq;":"\u2291","&sqsup;":"\u2290","&sqsupe;":"\u2292","&sqsupset;":"\u2290","&sqsupseteq;":"\u2292","&squ;":"\u25A1","&square;":"\u25A1","&squarf;":"\u25AA","&squf;":"\u25AA","&srarr;":"\u2192","&sscr;":"\u{1D4C8}","&ssetmn;":"\u2216","&ssmile;":"\u2323","&sstarf;":"\u22C6","&star;":"\u2606","&starf;":"\u2605","&straightepsilon;":"\u03F5","&straightphi;":"\u03D5","&strns;":"\xAF","&sub;":"\u2282","&subE;":"\u2AC5","&subdot;":"\u2ABD","&sube;":"\u2286","&subedot;":"\u2AC3","&submult;":"\u2AC1","&subnE;":"\u2ACB","&subne;":"\u228A","&subplus;":"\u2ABF","&subrarr;":"\u2979","&subset;":"\u2282","&subseteq;":"\u2286","&subseteqq;":"\u2AC5","&subsetneq;":"\u228A","&subsetneqq;":"\u2ACB","&subsim;":"\u2AC7","&subsub;":"\u2AD5","&subsup;":"\u2AD3","&succ;":"\u227B","&succapprox;":"\u2AB8","&succcurlyeq;":"\u227D","&succeq;":"\u2AB0","&succnapprox;":"\u2ABA","&succneqq;":"\u2AB6","&succnsim;":"\u22E9","&succsim;":"\u227F","&sum;":"\u2211","&sung;":"\u266A","&sup1":"\xB9","&sup1;":"\xB9","&sup2":"\xB2","&sup2;":"\xB2","&sup3":"\xB3","&sup3;":"\xB3","&sup;":"\u2283","&supE;":"\u2AC6","&supdot;":"\u2ABE","&supdsub;":"\u2AD8","&supe;":"\u2287","&supedot;":"\u2AC4","&suphsol;":"\u27C9","&suphsub;":"\u2AD7","&suplarr;":"\u297B","&supmult;":"\u2AC2","&supnE;":"\u2ACC","&supne;":"\u228B","&supplus;":"\u2AC0","&supset;":"\u2283","&supseteq;":"\u2287","&supseteqq;":"\u2AC6","&supsetneq;":"\u228B","&supsetneqq;":"\u2ACC","&supsim;":"\u2AC8","&supsub;":"\u2AD4","&supsup;":"\u2AD6","&swArr;":"\u21D9","&swarhk;":"\u2926","&swarr;":"\u2199","&swarrow;":"\u2199","&swnwar;":"\u292A","&szlig":"\xDF","&szlig;":"\xDF","&target;":"\u2316","&tau;":"\u03C4","&tbrk;":"\u23B4","&tcaron;":"\u0165","&tcedil;":"\u0163","&tcy;":"\u0442","&tdot;":"\u20DB","&telrec;":"\u2315","&tfr;":"\u{1D531}","&there4;":"\u2234","&therefore;":"\u2234","&theta;":"\u03B8","&thetasym;":"\u03D1","&thetav;":"\u03D1","&thickapprox;":"\u2248","&thicksim;":"\u223C","&thinsp;":"\u2009","&thkap;":"\u2248","&thksim;":"\u223C","&thorn":"\xFE","&thorn;":"\xFE","&tilde;":"\u02DC","&times":"\xD7","&times;":"\xD7","&timesb;":"\u22A0","&timesbar;":"\u2A31","&timesd;":"\u2A30","&tint;":"\u222D","&toea;":"\u2928","&top;":"\u22A4","&topbot;":"\u2336","&topcir;":"\u2AF1","&topf;":"\u{1D565}","&topfork;":"\u2ADA","&tosa;":"\u2929","&tprime;":"\u2034","&trade;":"\u2122","&triangle;":"\u25B5","&triangledown;":"\u25BF","&triangleleft;":"\u25C3","&trianglelefteq;":"\u22B4","&triangleq;":"\u225C","&triangleright;":"\u25B9","&trianglerighteq;":"\u22B5","&tridot;":"\u25EC","&trie;":"\u225C","&triminus;":"\u2A3A","&triplus;":"\u2A39","&trisb;":"\u29CD","&tritime;":"\u2A3B","&trpezium;":"\u23E2","&tscr;":"\u{1D4C9}","&tscy;":"\u0446","&tshcy;":"\u045B","&tstrok;":"\u0167","&twixt;":"\u226C","&twoheadleftarrow;":"\u219E","&twoheadrightarrow;":"\u21A0","&uArr;":"\u21D1","&uHar;":"\u2963","&uacute":"\xFA","&uacute;":"\xFA","&uarr;":"\u2191","&ubrcy;":"\u045E","&ubreve;":"\u016D","&ucirc":"\xFB","&ucirc;":"\xFB","&ucy;":"\u0443","&udarr;":"\u21C5","&udblac;":"\u0171","&udhar;":"\u296E","&ufisht;":"\u297E","&ufr;":"\u{1D532}","&ugrave":"\xF9","&ugrave;":"\xF9","&uharl;":"\u21BF","&uharr;":"\u21BE","&uhblk;":"\u2580","&ulcorn;":"\u231C","&ulcorner;":"\u231C","&ulcrop;":"\u230F","&ultri;":"\u25F8","&umacr;":"\u016B","&uml":"\xA8","&uml;":"\xA8","&uogon;":"\u0173","&uopf;":"\u{1D566}","&uparrow;":"\u2191","&updownarrow;":"\u2195","&upharpoonleft;":"\u21BF","&upharpoonright;":"\u21BE","&uplus;":"\u228E","&upsi;":"\u03C5","&upsih;":"\u03D2","&upsilon;":"\u03C5","&upuparrows;":"\u21C8","&urcorn;":"\u231D","&urcorner;":"\u231D","&urcrop;":"\u230E","&uring;":"\u016F","&urtri;":"\u25F9","&uscr;":"\u{1D4CA}","&utdot;":"\u22F0","&utilde;":"\u0169","&utri;":"\u25B5","&utrif;":"\u25B4","&uuarr;":"\u21C8","&uuml":"\xFC","&uuml;":"\xFC","&uwangle;":"\u29A7","&vArr;":"\u21D5","&vBar;":"\u2AE8","&vBarv;":"\u2AE9","&vDash;":"\u22A8","&vangrt;":"\u299C","&varepsilon;":"\u03F5","&varkappa;":"\u03F0","&varnothing;":"\u2205","&varphi;":"\u03D5","&varpi;":"\u03D6","&varpropto;":"\u221D","&varr;":"\u2195","&varrho;":"\u03F1","&varsigma;":"\u03C2","&varsubsetneq;":"\u228A\uFE00","&varsubsetneqq;":"\u2ACB\uFE00","&varsupsetneq;":"\u228B\uFE00","&varsupsetneqq;":"\u2ACC\uFE00","&vartheta;":"\u03D1","&vartriangleleft;":"\u22B2","&vartriangleright;":"\u22B3","&vcy;":"\u0432","&vdash;":"\u22A2","&vee;":"\u2228","&veebar;":"\u22BB","&veeeq;":"\u225A","&vellip;":"\u22EE","&verbar;":"|","&vert;":"|","&vfr;":"\u{1D533}","&vltri;":"\u22B2","&vnsub;":"\u2282\u20D2","&vnsup;":"\u2283\u20D2","&vopf;":"\u{1D567}","&vprop;":"\u221D","&vrtri;":"\u22B3","&vscr;":"\u{1D4CB}","&vsubnE;":"\u2ACB\uFE00","&vsubne;":"\u228A\uFE00","&vsupnE;":"\u2ACC\uFE00","&vsupne;":"\u228B\uFE00","&vzigzag;":"\u299A","&wcirc;":"\u0175","&wedbar;":"\u2A5F","&wedge;":"\u2227","&wedgeq;":"\u2259","&weierp;":"\u2118","&wfr;":"\u{1D534}","&wopf;":"\u{1D568}","&wp;":"\u2118","&wr;":"\u2240","&wreath;":"\u2240","&wscr;":"\u{1D4CC}","&xcap;":"\u22C2","&xcirc;":"\u25EF","&xcup;":"\u22C3","&xdtri;":"\u25BD","&xfr;":"\u{1D535}","&xhArr;":"\u27FA","&xharr;":"\u27F7","&xi;":"\u03BE","&xlArr;":"\u27F8","&xlarr;":"\u27F5","&xmap;":"\u27FC","&xnis;":"\u22FB","&xodot;":"\u2A00","&xopf;":"\u{1D569}","&xoplus;":"\u2A01","&xotime;":"\u2A02","&xrArr;":"\u27F9","&xrarr;":"\u27F6","&xscr;":"\u{1D4CD}","&xsqcup;":"\u2A06","&xuplus;":"\u2A04","&xutri;":"\u25B3","&xvee;":"\u22C1","&xwedge;":"\u22C0","&yacute":"\xFD","&yacute;":"\xFD","&yacy;":"\u044F","&ycirc;":"\u0177","&ycy;":"\u044B","&yen":"\xA5","&yen;":"\xA5","&yfr;":"\u{1D536}","&yicy;":"\u0457","&yopf;":"\u{1D56A}","&yscr;":"\u{1D4CE}","&yucy;":"\u044E","&yuml":"\xFF","&yuml;":"\xFF","&zacute;":"\u017A","&zcaron;":"\u017E","&zcy;":"\u0437","&zdot;":"\u017C","&zeetrf;":"\u2128","&zeta;":"\u03B6","&zfr;":"\u{1D537}","&zhcy;":"\u0436","&zigrarr;":"\u21DD","&zopf;":"\u{1D56B}","&zscr;":"\u{1D4CF}","&zwj;":"\u200D","&zwnj;":"\u200C"},Ci=ip;function ap(r){return r.replace(/&(#\d+|#x[a-f0-9]+|[a-z]+\d*);?/gi,(e,t)=>{if(typeof Ci[e]=="string")return Ci[e];if(t.charAt(0)!=="#"||e.charAt(e.length-1)!==";")return e;let s;t.charAt(1)==="x"?s=parseInt(t.substr(2),16):s=parseInt(t.substr(1),10);var n="";return s>=55296&&s<=57343||s>1114111?"\uFFFD":(s>65535&&(s-=65536,n+=String.fromCharCode(s>>>10&1023|55296),s=56320|s&1023),n+=String.fromCharCode(s),n)})}o(ap,"decodeHTMLEntities");function tr(r){return r.trim().replace(/[<>"'?&]/g,e=>{let t=e.charCodeAt(0).toString(16);return t.length<2&&(t="0"+t),"&#x"+t.toUpperCase()+";"})}o(tr,"escapeHtml");function Ho(r){return"<div>"+tr(r).replace(/\n/g,"<br />")+"</div>"}o(Ho,"textToHtml");function Qo(r){return r=r.replace(/\r?\n/g,"").replace(/<\!\-\-.*?\-\->/gi," ").replace(/<br\b[^>]*>/gi,`
`).replace(/<\/?(p|div|table|tr|td|th)\b[^>]*>/gi,`

`).replace(/<script\b[^>]*>.*?<\/script\b[^>]*>/gi," ").replace(/^.*<body\b[^>]*>/i,"").replace(/^.*<\/head\b[^>]*>/i,"").replace(/^.*<\!doctype\b[^>]*>/i,"").replace(/<\/body\b[^>]*>.*$/i,"").replace(/<\/html\b[^>]*>.*$/i,"").replace(/<a\b[^>]*href\s*=\s*["']?([^\s"']+)[^>]*>/gi," ($1) ").replace(/<\/?(span|em|i|strong|b|u|a)\b[^>]*>/gi,"").replace(/<li\b[^>]*>[\n\u0001\s]*/gi,"* ").replace(/<hr\b[^>]*>/g,`
-------------
`).replace(/<[^>]*>/g," ").replace(/\u0001/g,`
`).replace(/[ \t]+/g," ").replace(/^\s+$/gm,"").replace(/\n\n+/g,`

`).replace(/^\n+/,`
`).replace(/\n+$/,`
`),r=ap(r),r}o(Qo,"htmlToText");function Go(r){return[].concat(r.name||[]).concat(r.name?`<${r.address}>`:r.address).join(" ")}o(Go,"formatTextAddress");function Si(r){let e=[],t=o((s,n)=>{if(n&&e.push(", "),s.group){let i=`${s.name}:`,a=";";e.push(i),s.group.forEach(t),e.push(a)}else e.push(Go(s))},"processAddress");return r.forEach(t),e.join("")}o(Si,"formatTextAddresses");function Wo(r){return`<a href="mailto:${tr(r.address)}" class="postal-email-address">${tr(r.name||`<${r.address}>`)}</a>`}o(Wo,"formatHtmlAddress");function Ti(r){let e=[],t=o((s,n)=>{if(n&&e.push('<span class="postal-email-address-separator">, </span>'),s.group){let i=`<span class="postal-email-address-group">${tr(s.name)}:</span>`,a='<span class="postal-email-address-group">;</span>';e.push(i),s.group.forEach(t),e.push(a)}else e.push(Wo(s))},"processAddress");return r.forEach(t),e.join(" ")}o(Ti,"formatHtmlAddresses");function op(r,e,t){r=(r||"").toString(),e=e||76;let s=0,n=r.length,i="",a,u;for(;s<n;){if(a=r.substr(s,e),a.length<e){i+=a;break}if(u=a.match(/^[^\n\r]*(\r?\n|\r)/)){a=u[0],i+=a,s+=a.length;continue}else(u=a.match(/(\s+)[^\s]*$/))&&u[0].length-(t?(u[1]||"").length:0)<a.length?a=a.substr(0,a.length-(u[0].length-(t?(u[1]||"").length:0))):(u=r.substr(s+a.length).match(/^[^\s]+(\s*)/))&&(a=a+u[0].substr(0,u[0].length-(t?0:(u[1]||"").length)));i+=a,s+=a.length,s<n&&(i+=`\r
`)}return i}o(op,"foldLines");function Ni(r){let e=[];if(r.from&&e.push({key:"From",val:Go(r.from)}),r.subject&&e.push({key:"Subject",val:r.subject}),r.date){let a={year:"numeric",month:"numeric",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric",hour12:!1},u=typeof Intl>"u"?r.date:new Intl.DateTimeFormat("default",a).format(new Date(r.date));e.push({key:"Date",val:u})}r.to&&r.to.length&&e.push({key:"To",val:Si(r.to)}),r.cc&&r.cc.length&&e.push({key:"Cc",val:Si(r.cc)}),r.bcc&&r.bcc.length&&e.push({key:"Bcc",val:Si(r.bcc)});let t=e.map(a=>a.key.length).reduce((a,u)=>u>a?u:a,0);e=e.flatMap(a=>{let u=t-a.key.length,l=`${a.key}: ${" ".repeat(u)}`,c=`${" ".repeat(a.key.length+1)} ${" ".repeat(u)}`;return op(a.val,80,!0).split(/\r?\n/).map(m=>m.trim()).map((m,x)=>`${x?c:l}${m}`)});let s=e.map(a=>a.length).reduce((a,u)=>u>a?u:a,0),n="-".repeat(s);return`
${n}
${e.join(`
`)}
${n}
`}o(Ni,"formatTextHeader");function ki(r){let e=[];if(r.from&&e.push(`<div class="postal-email-header-key">From</div><div class="postal-email-header-value">${Wo(r.from)}</div>`),r.subject&&e.push(`<div class="postal-email-header-key">Subject</div><div class="postal-email-header-value postal-email-header-subject">${tr(r.subject)}</div>`),r.date){let s={year:"numeric",month:"numeric",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric",hour12:!1},n=typeof Intl>"u"?r.date:new Intl.DateTimeFormat("default",s).format(new Date(r.date));e.push(`<div class="postal-email-header-key">Date</div><div class="postal-email-header-value postal-email-header-date" data-date="${tr(r.date)}">${tr(n)}</div>`)}return r.to&&r.to.length&&e.push(`<div class="postal-email-header-key">To</div><div class="postal-email-header-value">${Ti(r.to)}</div>`),r.cc&&r.cc.length&&e.push(`<div class="postal-email-header-key">Cc</div><div class="postal-email-header-value">${Ti(r.cc)}</div>`),r.bcc&&r.bcc.length&&e.push(`<div class="postal-email-header-key">Bcc</div><div class="postal-email-header-value">${Ti(r.bcc)}</div>`),`<div class="postal-email-header">${e.length?'<div class="postal-email-header-row">':""}${e.join(`</div>
<div class="postal-email-header-row">`)}${e.length?"</div>":""}</div>`}o(ki,"formatHtmlHeader");function up(r){let e=!1,t="text",s,n=[],i={address:[],comment:[],group:[],text:[],textWasQuoted:[]},a,u,l=!1;for(a=0,u=r.length;a<u;a++){let c=r[a],d=a?r[a-1]:null;if(c.type==="operator")switch(c.value){case"<":t="address",l=!1;break;case"(":t="comment",l=!1;break;case":":t="group",e=!0,l=!1;break;case'"':l=!l,t="text";break;default:t="text",l=!1;break}else c.value&&(t==="address"&&(c.value=c.value.replace(/^[^<]*<\s*/,"")),d&&d.noBreak&&i[t].length?(i[t][i[t].length-1]+=c.value,t==="text"&&l&&(i.textWasQuoted[i.textWasQuoted.length-1]=!0)):(i[t].push(c.value),t==="text"&&i.textWasQuoted.push(l)))}if(!i.text.length&&i.comment.length&&(i.text=i.comment,i.comment=[]),e){i.text=i.text.join(" ");let c=[];i.group.length&&Ri(i.group.join(",")).forEach(m=>{m.group?c=c.concat(m.group):c.push(m)}),n.push({name:Zt(i.text||s&&s.name),group:c})}else{if(!i.address.length&&i.text.length){for(a=i.text.length-1;a>=0;a--)if(!i.textWasQuoted[a]&&i.text[a].match(/^[^@\s]+@[^@\s]+$/)){i.address=i.text.splice(a,1),i.textWasQuoted.splice(a,1);break}let c=o(function(d){return i.address.length?d:(i.address=[d.trim()]," ")},"_regexHandler");if(!i.address.length)for(a=i.text.length-1;a>=0&&!(!i.textWasQuoted[a]&&(i.text[a]=i.text[a].replace(/\s*\b[^@\s]+@[^\s]+\b\s*/,c).trim(),i.address.length));a--);}if(!i.text.length&&i.comment.length&&(i.text=i.comment,i.comment=[]),i.address.length>1&&(i.text=i.text.concat(i.address.splice(1))),i.text=i.text.join(" "),i.address=i.address.join(" "),!i.address&&/^=\?[^=]+?=$/.test(i.text.trim())){let c=Ri(Zt(i.text));if(c&&c.length)return c}if(!i.address&&e)return[];s={address:i.address||i.text||"",name:Zt(i.text||i.address||"")},s.address===s.name&&((s.address||"").match(/@/)?s.name="":s.address=""),n.push(s)}return n}o(up,"_handleAddress");var kn=class{constructor(e){this.str=(e||"").toString(),this.operatorCurrent="",this.operatorExpecting="",this.node=null,this.escaped=!1,this.list=[],this.operators={'"':'"',"(":")","<":">",",":"",":":";",";":""}}tokenize(){let e=[];for(let t=0,s=this.str.length;t<s;t++){let n=this.str.charAt(t),i=t<s-1?this.str.charAt(t+1):null;this.checkChar(n,i)}return this.list.forEach(t=>{t.value=(t.value||"").toString().trim(),t.value&&e.push(t)}),e}checkChar(e,t){if(!this.escaped){if(e===this.operatorExpecting){this.node={type:"operator",value:e},t&&![" ","	","\r",`
`,",",";"].includes(t)&&(this.node.noBreak=!0),this.list.push(this.node),this.node=null,this.operatorExpecting="",this.escaped=!1;return}else if(!this.operatorExpecting&&e in this.operators){this.node={type:"operator",value:e},this.list.push(this.node),this.node=null,this.operatorExpecting=this.operators[e],this.escaped=!1;return}else if(['"',"'"].includes(this.operatorExpecting)&&e==="\\"){this.escaped=!0;return}}this.node||(this.node={type:"text",value:""},this.list.push(this.node)),e===`
`&&(e=" "),(e.charCodeAt(0)>=33||[" ","	"].includes(e))&&(this.node.value+=e),this.escaped=!1}};o(kn,"Tokenizer");function Ri(r,e){e=e||{};let s=new kn(r).tokenize(),n=[],i=[],a=[];if(s.forEach(u=>{u.type==="operator"&&(u.value===","||u.value===";")?(i.length&&n.push(i),i=[]):i.push(u)}),i.length&&n.push(i),n.forEach(u=>{u=up(u),u.length&&(a=a.concat(u))}),e.flatten){let u=[],l=o(c=>{c.forEach(d=>{if(d.group)return l(d.group);u.push(d)})},"walkAddressList");return l(a),u}return a}o(Ri,"addressParser");var Rn=Ri;function Jo(r){for(var e="",t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=new Uint8Array(r),n=s.byteLength,i=n%3,a=n-i,u,l,c,d,m,x=0;x<a;x=x+3)m=s[x]<<16|s[x+1]<<8|s[x+2],u=(m&16515072)>>18,l=(m&258048)>>12,c=(m&4032)>>6,d=m&63,e+=t[u]+t[l]+t[c]+t[d];return i==1?(m=s[a],u=(m&252)>>2,l=(m&3)<<4,e+=t[u]+t[l]+"=="):i==2&&(m=s[a]<<8|s[a+1],u=(m&64512)>>10,l=(m&1008)>>4,c=(m&15)<<2,e+=t[u]+t[l]+t[c]+"="),e}o(Jo,"base64ArrayBuffer");var lp=256,cp=2*1024*1024,rt=class{static parse(e,t){return new rt(t).parse(e)}constructor(e){this.options=e||{},this.mimeOptions={maxNestingDepth:this.options.maxNestingDepth||lp,maxHeadersSize:this.options.maxHeadersSize||cp},this.root=this.currentNode=new er({postalMime:this,...this.mimeOptions}),this.boundaries=[],this.textContent={},this.attachments=[],this.attachmentEncoding=(this.options.attachmentEncoding||"").toString().replace(/[-_\s]/g,"").trim().toLowerCase()||"arraybuffer",this.started=!1}async finalize(){await this.root.finalize()}async processLine(e,t){let s=this.boundaries;if(s.length&&e.length>2&&e[0]===45&&e[1]===45)for(let n=s.length-1;n>=0;n--){let i=s[n];if(e.length!==i.value.length+2&&e.length!==i.value.length+4)continue;let a=e.length===i.value.length+4;if(a&&(e[e.length-2]!==45||e[e.length-1]!==45))continue;let u=!0;for(let l=0;l<i.value.length;l++)if(e[l+2]!==i.value[l]){u=!1;break}if(u)return a?(await i.node.finalize(),this.currentNode=i.node.parentNode||this.root):(await i.node.finalizeChildNodes(),this.currentNode=new er({postalMime:this,parentNode:i.node,...this.mimeOptions})),t?this.finalize():void 0}if(this.currentNode.feed(e),t)return this.finalize()}readLine(){let e=this.readPos,t=this.readPos,s=o(()=>({bytes:new Uint8Array(this.buf,e,t-e),done:this.readPos>=this.av.length}),"res");for(;this.readPos<this.av.length;){let n=this.av[this.readPos++];if(n!==13&&n!==10&&(t=this.readPos),n===10)return s()}return s()}async processNodeTree(){let e={},t=new Set,s=this.textMap=new Map,n=this.forceRfc822Attachments(),i=o(async(a,u,l)=>{if(u=u||!1,l=l||!1,a.contentType.multipart)a.contentType.multipart==="alternative"?u=a:a.contentType.multipart==="related"&&(l=a);else if(this.isInlineMessageRfc822(a)&&!n){let c=new rt;a.subMessage=await c.parse(a.content),s.has(a)||s.set(a,{});let d=s.get(a);(a.subMessage.text||!a.subMessage.html)&&(d.plain=d.plain||[],d.plain.push({type:"subMessage",value:a.subMessage}),t.add("plain")),a.subMessage.html&&(d.html=d.html||[],d.html.push({type:"subMessage",value:a.subMessage}),t.add("html")),c.textMap&&c.textMap.forEach((m,x)=>{s.set(x,m)});for(let m of a.subMessage.attachments||[])this.attachments.push(m)}else if(this.isInlineTextNode(a)){let c=a.contentType.parsed.value.substr(a.contentType.parsed.value.indexOf("/")+1),d=u||a;s.has(d)||s.set(d,{});let m=s.get(d);m[c]=m[c]||[],m[c].push({type:"text",value:a.getTextContent()}),t.add(c)}else if(a.content){let c=a.contentDisposition.parsed.params.filename||a.contentType.parsed.params.name||null,d={filename:c?Zt(c):null,mimeType:a.contentType.parsed.value,disposition:a.contentDisposition.parsed.value||null};switch(l&&a.contentId&&(d.related=!0),a.contentDescription&&(d.description=a.contentDescription),a.contentId&&(d.contentId=a.contentId),a.contentType.parsed.value){case"text/calendar":case"application/ics":{a.contentType.parsed.params.method&&(d.method=a.contentType.parsed.params.method.toString().toUpperCase().trim());let m=a.getTextContent().replace(/\r?\n/g,`
`).replace(/\n*$/,`
`);d.content=Dt.encode(m);break}default:d.content=a.content}this.attachments.push(d)}for(let c of a.childNodes)await i(c,u,l)},"walk");await i(this.root,!1,[]),s.forEach(a=>{t.forEach(u=>{if(e[u]||(e[u]=[]),a[u])a[u].forEach(l=>{switch(l.type){case"text":e[u].push(l.value);break;case"subMessage":switch(u){case"html":e[u].push(ki(l.value));break;case"plain":e[u].push(Ni(l.value));break}break}});else{let l;switch(u){case"html":l="plain";break;case"plain":l="html";break}(a[l]||[]).forEach(c=>{switch(c.type){case"text":switch(u){case"html":e[u].push(Ho(c.value));break;case"plain":e[u].push(Qo(c.value));break}break;case"subMessage":switch(u){case"html":e[u].push(ki(c.value));break;case"plain":e[u].push(Ni(c.value));break}break}})}})}),Object.keys(e).forEach(a=>{e[a]=e[a].join(`
`)}),this.textContent=e}isInlineTextNode(e){if(e.contentDisposition.parsed.value==="attachment")return!1;switch(e.contentType.parsed.value){case"text/html":case"text/plain":return!0;case"text/calendar":case"text/csv":default:return!1}}isInlineMessageRfc822(e){return e.contentType.parsed.value!=="message/rfc822"?!1:(e.contentDisposition.parsed.value||(this.options.rfc822Attachments?"attachment":"inline"))==="inline"}forceRfc822Attachments(){if(this.options.forceRfc822Attachments)return!0;let e=!1,t=o(s=>{s.contentType.multipart||["message/delivery-status","message/feedback-report"].includes(s.contentType.parsed.value)&&(e=!0);for(let n of s.childNodes)t(n)},"walk");return t(this.root),e}async resolveStream(e){let t=0,s=[],n=e.getReader();for(;;){let{done:u,value:l}=await n.read();if(u)break;s.push(l),t+=l.length}let i=new Uint8Array(t),a=0;for(let u of s)i.set(u,a),a+=u.length;return i}async parse(e){if(this.started)throw new Error("Can not reuse parser, create a new PostalMime object");for(this.started=!0,e&&typeof e.getReader=="function"&&(e=await this.resolveStream(e)),e=e||new ArrayBuffer(0),typeof e=="string"&&(e=Dt.encode(e)),(e instanceof Blob||Object.prototype.toString.call(e)==="[object Blob]")&&(e=await _t(e)),e.buffer instanceof ArrayBuffer&&(e=new Uint8Array(e).buffer),this.buf=e,this.av=new Uint8Array(e),this.readPos=0;this.readPos<this.av.length;){let n=this.readLine();await this.processLine(n.bytes,n.done)}await this.processNodeTree();let t={headers:this.root.headers.map(n=>({key:n.key,value:n.value})).reverse()};for(let n of["from","sender"]){let i=this.root.headers.find(a=>a.key===n);if(i&&i.value){let a=Rn(i.value);a&&a.length&&(t[n]=a[0])}}for(let n of["delivered-to","return-path"]){let i=this.root.headers.find(a=>a.key===n);if(i&&i.value){let a=Rn(i.value);if(a&&a.length&&a[0].address){let u=n.replace(/\-(.)/g,(l,c)=>c.toUpperCase());t[u]=a[0].address}}}for(let n of["to","cc","bcc","reply-to"]){let i=this.root.headers.filter(u=>u.key===n),a=[];if(i.filter(u=>u&&u.value).map(u=>Rn(u.value)).forEach(u=>a=a.concat(u||[])),a&&a.length){let u=n.replace(/\-(.)/g,(l,c)=>c.toUpperCase());t[u]=a}}for(let n of["subject","message-id","in-reply-to","references"]){let i=this.root.headers.find(a=>a.key===n);if(i&&i.value){let a=n.replace(/\-(.)/g,(u,l)=>l.toUpperCase());t[a]=Zt(i.value)}}let s=this.root.headers.find(n=>n.key==="date");if(s){let n=new Date(s.value);!n||n.toString()==="Invalid Date"?n=s.value:n=n.toISOString(),t.date=n}switch(this.textContent?.html&&(t.html=this.textContent.html),this.textContent?.plain&&(t.text=this.textContent.plain),t.attachments=this.attachments,this.attachmentEncoding){case"arraybuffer":break;case"base64":for(let i of t.attachments||[])i?.content&&(i.content=Jo(i.content),i.encoding="base64");break;case"utf8":let n=new TextDecoder("utf8");for(let i of t.attachments||[])i?.content&&(i.content=n.decode(i.content),i.encoding="utf8");break;default:throw new Error("Unknwon attachment encoding")}return t}};o(rt,"PostalMime");function Yo(r,e){let t=atob(r),s="";for(let n=0;n<t.length;n++)s+=String.fromCharCode(t.charCodeAt(n)^e.charCodeAt(n%e.length));return s}o(Yo,"decrypt");var Xo=o(async(r,e)=>{let t=r.req.header("X-API-Key");if(!t){let i=r.req.header("Authorization");i?.startsWith("Bearer ")&&(t=i.substring(7))}if(!t)return r.json({error:{code:"UNAUTHORIZED",message:"Missing API Key. Provide it via X-API-Key header or Authorization: Bearer <key>"}},401);let s=ce(r.env.DB),n=await No(s,t);if(!n)return r.json({error:{code:"UNAUTHORIZED",message:"Invalid API Key"}},401);if(!n.isActive)return r.json({error:{code:"FORBIDDEN",message:"API Key is disabled"}},403);if(n.expiresAt&&n.expiresAt<new Date)return r.json({error:{code:"FORBIDDEN",message:"API Key has expired"}},403);r.executionCtx.waitUntil(ko(s,n.id)),r.executionCtx.waitUntil(Lo(s)),r.set("apiKey",{id:n.id,rateLimit:n.rateLimit||100}),await e()},"apiKeyAuth");function dp(){let r=["quick","lazy","happy","sad","bright","dark","warm","cold","soft","hard"],e=["fox","dog","cat","bird","fish","lion","bear","wolf","deer","hawk"],t=r[Math.floor(Math.random()*r.length)],s=e[Math.floor(Math.random()*e.length)],n=Math.floor(Math.random()*1e3);return`${t}-${s}-${n}`}o(dp,"generateRandomLocalPart");var Vr=new Nt;Vr.post("/",async r=>{let e=ce(r.env.DB),t=r.get("apiKey"),s={};try{s=await r.req.json()}catch{}let n=r.env.EMAIL_DOMAIN?r.env.EMAIL_DOMAIN.split(",").map(x=>x.trim()):[];if(n.length===0)return r.json({error:{code:"CONFIGURATION_ERROR",message:"No email domains configured"}},500);let i=s.domain||n[0];if(!n.includes(i))return r.json({error:{code:"VALIDATION_ERROR",message:`Invalid domain. Available domains: ${n.join(", ")}`,details:{field:"domain",allowed:n}}},400);let u=`${s.localPart||dp()}@${i}`,l=s.expiresIn||24*60*60,c=new Date(Date.now()+l*1e3),d=new Date,m={id:Fs(),address:u,domain:i,expiresAt:c,apiKeyId:t.id,createdAt:d,updatedAt:d};try{return await Oo(e,m),await $o(e),r.json({data:{id:m.id,address:m.address,domain:m.domain,expiresAt:m.expiresAt.toISOString(),createdAt:m.createdAt.toISOString()}},201)}catch(x){return x.message?.includes("UNIQUE constraint failed")?r.json({error:{code:"CONFLICT",message:"Email address already exists"}},409):(console.error("Create mailbox error:",x),r.json({error:{code:"INTERNAL_ERROR",message:"Failed to create mailbox"}},500))}});Vr.get("/:id",async r=>{let e=ce(r.env.DB),t=r.get("apiKey"),{id:s}=r.req.param(),n=await Rs(e,s);if(!n)return r.json({error:{code:"NOT_FOUND",message:"Mailbox not found"}},404);if(n.apiKeyId!==t.id)return r.json({error:{code:"FORBIDDEN",message:"You do not have access to this mailbox"}},403);let i=await jo(e,n.address);return r.json({data:{id:n.id,address:n.address,domain:n.domain,expiresAt:n.expiresAt?.toISOString()||null,createdAt:n.createdAt.toISOString(),messageCount:i}})});Vr.get("/:id/messages",async r=>{let e=ce(r.env.DB),t=r.get("apiKey"),{id:s}=r.req.param(),n=await Rs(e,s);if(!n)return r.json({error:{code:"NOT_FOUND",message:"Mailbox not found"}},404);if(n.apiKeyId!==t.id)return r.json({error:{code:"FORBIDDEN",message:"You do not have access to this mailbox"}},403);let i=Math.max(1,parseInt(r.req.query("page")||"1",10)),a=Math.min(100,Math.max(1,parseInt(r.req.query("limit")||"20",10))),u=r.req.query("sort")==="asc"?"asc":"desc",{messages:l,total:c,totalPages:d}=await Bo(e,n.address,{page:i,limit:a,sort:u});return r.json({data:l.map(m=>({id:m.id,from:m.from,subject:m.subject,preview:m.text?.substring(0,100)||null,receivedAt:m.createdAt.toISOString()})),pagination:{page:i,limit:a,total:c,totalPages:d,hasMore:i<d}})});Vr.get("/:id/messages/:messageId",async r=>{let e=ce(r.env.DB),t=r.get("apiKey"),{id:s,messageId:n}=r.req.param(),i=await Rs(e,s);if(!i)return r.json({error:{code:"NOT_FOUND",message:"Mailbox not found"}},404);if(i.apiKeyId!==t.id)return r.json({error:{code:"FORBIDDEN",message:"You do not have access to this mailbox"}},403);let a=await qo(e,i.address,n);return a?r.json({data:{id:a.id,messageId:a.messageId,from:a.from,to:a.to,cc:a.cc,bcc:a.bcc,replyTo:a.replyTo,subject:a.subject,text:a.text,html:a.html,headers:a.headers,receivedAt:a.createdAt.toISOString()}}):r.json({error:{code:"NOT_FOUND",message:"Message not found"}},404)});Vr.delete("/:id/messages/:messageId",async r=>{let e=ce(r.env.DB),t=r.get("apiKey"),{id:s,messageId:n}=r.req.param(),i=await Rs(e,s);return i?i.apiKeyId!==t.id?r.json({error:{code:"FORBIDDEN",message:"You do not have access to this mailbox"}},403):await Fo(e,i.address,n)?r.json({data:{deleted:!0,id:n}}):r.json({error:{code:"NOT_FOUND",message:"Message not found"}},404):r.json({error:{code:"NOT_FOUND",message:"Mailbox not found"}},404)});var Zo=Vr;var On=new Nt;On.use("/*",en());On.use("/*",Xo);On.route("/mailboxes",Zo);var eu=On;var rr=new Nt;rr.use("/api/*",en());var tu=o(async(r,e)=>{let t;try{t=await r.req.json()}catch(l){return console.error("\u8BF7\u6C42\u4F53\u89E3\u6790\u4E3AJSON\u65F6\u51FA\u9519:",l),r.json({message:"\u9519\u8BEF\u7684\u8BF7\u6C42\uFF1A\u8BF7\u6C42\u4F53\u65E0\u6548\u6216\u4E3A\u7A7A\u3002"},400)}r.set("parsedBody",t);let s=t.token||r.req.header("cf-turnstile-token"),n=r.req.header("CF-Connecting-IP");if(!s)return r.json({message:"\u7F3A\u5C11 turnstile token"},400);let i=new URLSearchParams;i.append("secret",r.env.TURNSTILE_SECRET),i.append("response",s),n&&i.append("remoteip",n);let u=await(await fetch("https://challenges.cloudflare.com/turnstile/v0/siteverify",{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:i.toString()})).json();if(!u.success)return console.error("Turnstile \u9A8C\u8BC1\u5931\u8D25:",u["error-codes"]),r.json({message:"token \u65E0\u6548"},400);await e()},"turnstile"),sr=rr.basePath("/api");sr.post("/verify",tu,async r=>r.json({success:!0}));function fp(){let r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e="vmail_";for(let t=0;t<32;t++)e+=r.charAt(Math.floor(Math.random()*r.length));return e}o(fp,"generateApiKey");sr.post("/api-keys",tu,async r=>{let e=ce(r.env.DB),t=r.get("parsedBody"),s=new Date,n=fp(),i=n.substring(0,12)+"...",a={id:Fs(),key:n,keyPrefix:i,name:t?.name||null,rateLimit:100,isActive:!0,lastUsedAt:null,expiresAt:null,createdAt:s,updatedAt:s};try{return await Ro(e,a),await Mo(e),r.json({data:{id:a.id,key:n,keyPrefix:i,name:a.name,createdAt:s.toISOString()},message:"API Key created successfully. Please save it now, it will not be shown again!"},201)}catch(u){return console.error("Create API Key error:",u),r.json({error:{code:"INTERNAL_ERROR",message:"Failed to create API Key"}},500)}});sr.post("/emails",async r=>{let e=ce(r.env.DB),t;try{t=await r.req.json()}catch{return r.json({message:"\u9519\u8BEF\u7684\u8BF7\u6C42\uFF1A\u8BF7\u6C42\u4F53\u65E0\u6548\u6216\u4E3A\u7A7A\u3002"},400)}let s=t?.address;if(!s)return r.json({message:"address is required"},400);let n=await Co(e,s);return r.json(n)});sr.get("/emails/:id",async r=>{let e=ce(r.env.DB),{id:t}=r.req.param(),s=await Eo(e,t);return s?r.json(s):r.json({message:"Email not found"},404)});sr.post("/delete-emails",async r=>{let e=ce(r.env.DB),s=(await r.req.json())?.ids;if(!s||!Array.isArray(s)||s.length===0)return r.json({message:"ids are required"},400);let n=await So(e,s);return r.json(n)});sr.post("/login",async r=>{let t=(await r.req.json())?.password;if(!t)return r.json({message:"Password is required"},400);try{let s=Yo(t,r.env.COOKIES_SECRET);return!s||typeof s!="string"||!s.includes("@")?(console.error("\u89E3\u5BC6\u540E\u7684\u5730\u5740\u683C\u5F0F\u65E0\u6548:",s),r.json({message:"Invalid password"},400)):r.json({address:s})}catch(s){return console.error("Login error:",s),r.json({message:"Invalid password"},400)}});rr.get("/config",r=>{let e=r.env.EMAIL_DOMAIN?r.env.EMAIL_DOMAIN.split(",").map(t=>t.trim()):[];return r.json({emailDomain:e,turnstileKey:r.env.TURNSTILE_KEY,cookiesSecret:r.env.COOKIES_SECRET})});sr.get("/stats",async r=>{let e=ce(r.env.DB),t=await Di(e);return t?r.json({totalAddressesCreated:t.totalAddressesCreated,totalEmailsReceived:t.totalEmailsReceived,totalApiCalls:t.totalApiCalls,totalApiKeysCreated:t.totalApiKeysCreated}):r.json({totalAddressesCreated:0,totalEmailsReceived:0,totalApiCalls:0,totalApiKeysCreated:0})});rr.route("/api/v1",eu);rr.get("/*",Zs({root:"./"}));rr.get("/assets/*",Zs({root:"./"}));var ru={async email(r,e,t){try{let s=ce(e.DB),n=await new Response(r.raw).text(),i=await new rt().parse(n),a=new Date,u={id:Fs(),messageFrom:r.from,messageTo:r.to,headers:i.headers||[],from:i.from,sender:i.sender,replyTo:i.replyTo,deliveredTo:i.deliveredTo,returnPath:i.returnPath,to:i.to,cc:i.cc,bcc:i.bcc,subject:i.subject,messageId:i.messageId,inReplyTo:i.inReplyTo,references:i.references,date:i.date,html:i.html,text:i.text,createdAt:a,updatedAt:a},l=Do.parse(u);await _o(s,l),await Io(s)}catch(s){console.error("\u5904\u7406\u90AE\u4EF6\u5931\u8D25:",s),r.setReject(`\u90AE\u4EF6\u5904\u7406\u5931\u8D25: ${s.message}`)}},async fetch(r,e,t){let s=new URL(r.url);if(s.pathname.startsWith("/api/")||s.pathname==="/config")return rr.fetch(r,e,t);let n=await e.ASSETS.fetch(r);if(n.status===404){let i=new Request(new URL("/",r.url).toString(),r);return e.ASSETS.fetch(i)}return n},async scheduled(r,e,t){let s=ce(e.DB),n=new Date(Date.now()-1e3*60*60*24);await To(s,n),console.log(`\u5DF2\u6E05\u7406 ${n.toISOString()} \u4E4B\u524D\u7684\u8FC7\u671F\u90AE\u4EF6`)}};var hp=o(async(r,e,t,s)=>{try{return await s.next(r,e)}finally{try{if(r.body!==null&&!r.bodyUsed){let n=r.body.getReader();for(;!(await n.read()).done;);}}catch(n){console.error("Failed to drain the unused request body.",n)}}},"drainBody"),su=hp;function nu(r){return{name:r?.name,message:r?.message??String(r),stack:r?.stack,cause:r?.cause===void 0?void 0:nu(r.cause)}}o(nu,"reduceError");var mp=o(async(r,e,t,s)=>{try{return await s.next(r,e)}catch(n){let i=nu(n);return Response.json(i,{status:500,headers:{"MF-Experimental-Error-Stack":"true"}})}},"jsonError"),iu=mp;var nr=[su,iu],$s=ru;var au=[];function Oi(...r){au.push(...r.flat())}o(Oi,"__facade_register__");function ou(r,e,t,s,n){let[i,...a]=n;return i(r,e,t,{dispatch:s,next(l,c){return ou(l,c,t,s,a)}})}o(ou,"__facade_invokeChain__");function Bi(r,e,t,s,n){return ou(r,e,t,s,[...au,n])}o(Bi,"__facade_invoke__");var ir=class{constructor(e,t,s){this.scheduledTime=e;this.cron=t;this.#e=s}#e;noRetry(){if(!(this instanceof ir))throw new TypeError("Illegal invocation");this.#e()}};o(ir,"__Facade_ScheduledController__");function yp(r){if(nr===void 0||nr.length===0)return r;for(let t of nr)Oi(t);let e=o(function(t,s,n){if(r.fetch===void 0)throw new Error("Handler does not export a fetch() function.");return r.fetch(t,s,n)},"fetchDispatcher");return{...r,fetch(t,s,n){return Bi(t,s,n,o(function(a,u){if(a==="scheduled"&&r.scheduled!==void 0){let l=new ir(Date.now(),u.cron??"",()=>{});return r.scheduled(l,s,n)}},"dispatcher"),e)}}}o(yp,"wrapExportedHandler");function bp(r){if(nr===void 0||nr.length===0)return r;for(let e of nr)Oi(e);return class extends r{#e=(e,t,s)=>{if(this.env=t,this.ctx=s,super.fetch===void 0)throw new Error("Entrypoint class does not define a fetch() function.");return super.fetch(e)};#t=(e,t)=>{if(e==="scheduled"&&super.scheduled!==void 0){let s=new ir(Date.now(),t.cron??"",()=>{});return super.scheduled(s)}};fetch(e){return Bi(e,this.env,this.ctx,this.#t,this.#e)}}}o(bp,"wrapWorkerEntrypoint");var qi;typeof $s=="object"?qi=yp($s):typeof $s=="function"&&(qi=bp($s));var XR=qi;export{nr as __INTERNAL_WRANGLER_MIDDLEWARE__,XR as default};
//# sourceMappingURL=index.js.map
